function SN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ap={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function wN(){if(Vx)return hs;Vx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,l){var s=null;if(l!==void 0&&(s=""+l),i.key!==void 0&&(s=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:l}}return hs.Fragment=e,hs.jsx=n,hs.jsxs=n,hs}var qx;function EN(){return qx||(qx=1,Ap.exports=wN()),Ap.exports}var D=EN(),Np={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function CN(){if(Gx)return Me;Gx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function w(B,K,ie){this.props=B,this.context=K,this.refs=S,this.updater=ie||y}w.prototype.isReactComponent={},w.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=w.prototype;function T(B,K,ie){this.props=B,this.context=K,this.refs=S,this.updater=ie||y}var M=T.prototype=new C;M.constructor=T,b(M,w.prototype),M.isPureReactComponent=!0;var R=Array.isArray,A={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function z(B,K,ie,_,te,se){return ie=se.ref,{$$typeof:t,type:B,key:K,ref:ie!==void 0?ie:null,props:se}}function U(B,K){return z(B.type,K,void 0,void 0,void 0,B.props)}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function W(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ie){return K[ie]})}var q=/\/+/g;function ve(B,K){return typeof B=="object"&&B!==null&&B.key!=null?W(""+B.key):K.toString(36)}function Q(){}function ne(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Q,Q):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function he(B,K,ie,_,te){var se=typeof B;(se==="undefined"||se==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case t:case e:pe=!0;break;case p:return pe=B._init,he(pe(B._payload),K,ie,_,te)}}if(pe)return te=te(B),pe=_===""?"."+ve(B,0):_,R(te)?(ie="",pe!=null&&(ie=pe.replace(q,"$&/")+"/"),he(te,K,ie,"",function(je){return je})):te!=null&&(L(te)&&(te=U(te,ie+(te.key==null||B&&B.key===te.key?"":(""+te.key).replace(q,"$&/")+"/")+pe)),K.push(te)),1;pe=0;var Te=_===""?".":_+":";if(R(B))for(var xe=0;xe<B.length;xe++)_=B[xe],se=Te+ve(_,xe),pe+=he(_,K,ie,se,te);else if(xe=v(B),typeof xe=="function")for(B=xe.call(B),xe=0;!(_=B.next()).done;)_=_.value,se=Te+ve(_,xe++),pe+=he(_,K,ie,se,te);else if(se==="object"){if(typeof B.then=="function")return he(ne(B),K,ie,_,te);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(B,K,ie){if(B==null)return B;var _=[],te=0;return he(B,_,"","",function(se){return K.call(ie,se,te++)}),_}function le(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=ie)},function(ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=ie)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var ee=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ue(){}return Me.Children={map:Y,forEach:function(B,K,ie){Y(B,function(){K.apply(this,arguments)},ie)},count:function(B){var K=0;return Y(B,function(){K++}),K},toArray:function(B){return Y(B,function(K){return K})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Me.Component=w,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=T,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Me.act=function(){throw Error("act(...) is not supported in production builds of React.")},Me.cache=function(B){return function(){return B.apply(null,arguments)}},Me.cloneElement=function(B,K,ie){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var _=b({},B.props),te=B.key,se=void 0;if(K!=null)for(pe in K.ref!==void 0&&(se=void 0),K.key!==void 0&&(te=""+K.key),K)!I.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(_[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)_.children=ie;else if(1<pe){for(var Te=Array(pe),xe=0;xe<pe;xe++)Te[xe]=arguments[xe+2];_.children=Te}return z(B.type,te,void 0,void 0,se,_)},Me.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Me.createElement=function(B,K,ie){var _,te={},se=null;if(K!=null)for(_ in K.key!==void 0&&(se=""+K.key),K)I.call(K,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(te[_]=K[_]);var pe=arguments.length-2;if(pe===1)te.children=ie;else if(1<pe){for(var Te=Array(pe),xe=0;xe<pe;xe++)Te[xe]=arguments[xe+2];te.children=Te}if(B&&B.defaultProps)for(_ in pe=B.defaultProps,pe)te[_]===void 0&&(te[_]=pe[_]);return z(B,se,void 0,void 0,null,te)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(B){return{$$typeof:u,render:B}},Me.isValidElement=L,Me.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:le}},Me.memo=function(B,K){return{$$typeof:d,type:B,compare:K===void 0?null:K}},Me.startTransition=function(B){var K=A.T,ie={};A.T=ie;try{var _=B(),te=A.S;te!==null&&te(ie,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(ue,ee)}catch(se){ee(se)}finally{A.T=K}},Me.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Me.use=function(B){return A.H.use(B)},Me.useActionState=function(B,K,ie){return A.H.useActionState(B,K,ie)},Me.useCallback=function(B,K){return A.H.useCallback(B,K)},Me.useContext=function(B){return A.H.useContext(B)},Me.useDebugValue=function(){},Me.useDeferredValue=function(B,K){return A.H.useDeferredValue(B,K)},Me.useEffect=function(B,K){return A.H.useEffect(B,K)},Me.useId=function(){return A.H.useId()},Me.useImperativeHandle=function(B,K,ie){return A.H.useImperativeHandle(B,K,ie)},Me.useInsertionEffect=function(B,K){return A.H.useInsertionEffect(B,K)},Me.useLayoutEffect=function(B,K){return A.H.useLayoutEffect(B,K)},Me.useMemo=function(B,K){return A.H.useMemo(B,K)},Me.useOptimistic=function(B,K){return A.H.useOptimistic(B,K)},Me.useReducer=function(B,K,ie){return A.H.useReducer(B,K,ie)},Me.useRef=function(B){return A.H.useRef(B)},Me.useState=function(B){return A.H.useState(B)},Me.useSyncExternalStore=function(B,K,ie){return A.H.useSyncExternalStore(B,K,ie)},Me.useTransition=function(){return A.H.useTransition()},Me.version="19.0.0",Me}var Wx;function Ff(){return Wx||(Wx=1,Np.exports=CN()),Np.exports}var E=Ff();const re=Rg(E),jm=SN({__proto__:null,default:re},[E]);var Rp={exports:{}},ps={},kp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function ON(){return Yx||(Yx=1,function(t){function e(Y,le){var ee=Y.length;Y.push(le);e:for(;0<ee;){var ue=ee-1>>>1,B=Y[ue];if(0<i(B,le))Y[ue]=le,Y[ee]=B,ee=ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],ee=Y.pop();if(ee!==le){Y[0]=ee;e:for(var ue=0,B=Y.length,K=B>>>1;ue<K;){var ie=2*(ue+1)-1,_=Y[ie],te=ie+1,se=Y[te];if(0>i(_,ee))te<B&&0>i(se,_)?(Y[ue]=se,Y[te]=ee,ue=te):(Y[ue]=_,Y[ie]=ee,ue=ie);else if(te<B&&0>i(se,ee))Y[ue]=se,Y[te]=ee,ue=te;else break e}}return le}function i(Y,le){var ee=Y.sortIndex-le.sortIndex;return ee!==0?ee:Y.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var f=[],d=[],p=1,m=null,v=3,y=!1,b=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var le=n(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=Y)r(d),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(d)}}function R(Y){if(S=!1,M(Y),!b)if(n(f)!==null)b=!0,ne();else{var le=n(d);le!==null&&he(R,le.startTime-Y)}}var A=!1,I=-1,z=5,U=-1;function L(){return!(t.unstable_now()-U<z)}function W(){if(A){var Y=t.unstable_now();U=Y;var le=!0;try{e:{b=!1,S&&(S=!1,C(I),I=-1),y=!0;var ee=v;try{t:{for(M(Y),m=n(f);m!==null&&!(m.expirationTime>Y&&L());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var B=ue(m.expirationTime<=Y);if(Y=t.unstable_now(),typeof B=="function"){m.callback=B,M(Y),le=!0;break t}m===n(f)&&r(f),M(Y)}else r(f);m=n(f)}if(m!==null)le=!0;else{var K=n(d);K!==null&&he(R,K.startTime-Y),le=!1}}break e}finally{m=null,v=ee,y=!1}le=void 0}}finally{le?q():A=!1}}}var q;if(typeof T=="function")q=function(){T(W)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Q=ve.port2;ve.port1.onmessage=W,q=function(){Q.postMessage(null)}}else q=function(){w(W,0)};function ne(){A||(A=!0,q())}function he(Y,le){I=w(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ne())},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ee=v;v=le;try{return Y()}finally{v=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=v;v=Y;try{return le()}finally{v=ee}},t.unstable_scheduleCallback=function(Y,le,ee){var ue=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,Y={id:p++,callback:le,priorityLevel:Y,startTime:ee,expirationTime:B,sortIndex:-1},ee>ue?(Y.sortIndex=ee,e(d,Y),n(f)===null&&Y===n(d)&&(S?(C(I),I=-1):S=!0,he(R,ee-ue))):(Y.sortIndex=B,e(f,Y),b||y||(b=!0,ne())),Y},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Y){var le=v;return function(){var ee=v;v=le;try{return Y.apply(this,arguments)}finally{v=ee}}}}(Ip)),Ip}var Kx;function TN(){return Kx||(Kx=1,kp.exports=ON()),kp.exports}var Bp={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function MN(){if(Xx)return zt;Xx=1;var t=Ff();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zt.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(f,d,null,p)},zt.flushSync=function(f){var d=s.T,p=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=d,r.p=p,r.d.f()}},zt.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},zt.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},zt.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=u(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},zt.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},zt.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=u(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},zt.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},zt.requestFormReset=function(f){r.d.r(f)},zt.unstable_batchedUpdates=function(f,d){return f(d)},zt.useFormState=function(f,d,p){return s.H.useFormState(f,d,p)},zt.useFormStatus=function(){return s.H.useHostTransitionStatus()},zt.version="19.0.0",zt}var Qx;function iE(){if(Qx)return Bp.exports;Qx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=MN(),Bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function DN(){if(Jx)return ps;Jx=1;var t=TN(),e=Ff(),n=iE();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var l=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function I(o){return o===null||typeof o!="object"?null:(o=A&&o[A]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function U(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case w:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case y:return(o.displayName||"Context")+".Provider";case v:return(o._context.displayName||"Context")+".Consumer";case b:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case C:return a=o.displayName||null,a!==null?a:U(o.type)||"Memo";case T:a=o._payload,o=o._init;try{return U(o(a))}catch{}}return null}var L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.assign,q,ve;function Q(o){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||"",ve=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+o+ve}var ne=!1;function he(o,a){if(!o||ne)return"";ne=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var F=V}Reflect.construct(o,[],J)}else{try{J.call()}catch(V){F=V}o.call(J.prototype)}}else{try{throw Error()}catch(V){F=V}(J=o())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&F&&typeof V.stack=="string")return[V.stack,F.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),O=x[0],N=x[1];if(O&&N){var k=O.split(`
`),j=N.split(`
`);for(g=h=0;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;for(;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;if(h===k.length||g===j.length)for(h=k.length-1,g=j.length-1;1<=h&&0<=g&&k[h]!==j[g];)g--;for(;1<=h&&0<=g;h--,g--)if(k[h]!==j[g]){if(h!==1||g!==1)do if(h--,g--,0>g||k[h]!==j[g]){var G=`
`+k[h].replace(" at new "," at ");return o.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",o.displayName)),G}while(1<=h&&0<=g);break}}}finally{ne=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?Q(c):""}function Y(o){switch(o.tag){case 26:case 27:case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return o=he(o.type,!1),o;case 11:return o=he(o.type.render,!1),o;case 1:return o=he(o.type,!0),o;default:return""}}function le(o){try{var a="";do a+=Y(o),o=o.return;while(o);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ee(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function ue(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function B(o){if(ee(o)!==o)throw Error(r(188))}function K(o){var a=o.alternate;if(!a){if(a=ee(o),a===null)throw Error(r(188));return a!==o?null:o}for(var c=o,h=a;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return B(g),o;if(x===h)return B(g),a;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=g,h=x;else{for(var O=!1,N=g.child;N;){if(N===c){O=!0,c=g,h=x;break}if(N===h){O=!0,h=g,c=x;break}N=N.sibling}if(!O){for(N=x.child;N;){if(N===c){O=!0,c=x,h=g;break}if(N===h){O=!0,h=x,c=g;break}N=N.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:a}function ie(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=ie(o),a!==null)return a;o=o.sibling}return null}var _=Array.isArray,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},pe=[],Te=-1;function xe(o){return{current:o}}function je(o){0>Te||(o.current=pe[Te],pe[Te]=null,Te--)}function Be(o,a){Te++,pe[Te]=o.current,o.current=a}var vt=xe(null),Pe=xe(null),Fe=xe(null),me=xe(null);function He(o,a){switch(Be(Fe,a),Be(Pe,o),Be(vt,null),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?bx(a):0;break;default:if(o=o===8?a.parentNode:a,a=o.tagName,o=o.namespaceURI)o=bx(o),a=xx(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}je(vt),Be(vt,a)}function st(){je(vt),je(Pe),je(Fe)}function On(o){o.memoizedState!==null&&Be(me,o);var a=vt.current,c=xx(a,o.type);a!==c&&(Be(Pe,o),Be(vt,c))}function Er(o){Pe.current===o&&(je(vt),je(Pe)),me.current===o&&(je(me),ss._currentValue=se)}var Cr=Object.prototype.hasOwnProperty,Qi=t.unstable_scheduleCallback,Ed=t.unstable_cancelCallback,ZM=t.unstable_shouldYield,eD=t.unstable_requestPaint,ar=t.unstable_now,tD=t.unstable_getCurrentPriorityLevel,sy=t.unstable_ImmediatePriority,uy=t.unstable_UserBlockingPriority,bu=t.unstable_NormalPriority,nD=t.unstable_LowPriority,cy=t.unstable_IdlePriority,rD=t.log,iD=t.unstable_setDisableYieldValue,ga=null,un=null;function oD(o){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}}function Zr(o){if(typeof rD=="function"&&iD(o),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(ga,o)}catch{}}var cn=Math.clz32?Math.clz32:sD,lD=Math.log,aD=Math.LN2;function sD(o){return o>>>=0,o===0?32:31-(lD(o)/aD|0)|0}var xu=128,Su=4194304;function Ji(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function wu(o,a){var c=o.pendingLanes;if(c===0)return 0;var h=0,g=o.suspendedLanes,x=o.pingedLanes,O=o.warmLanes;o=o.finishedLanes!==0;var N=c&134217727;return N!==0?(c=N&~g,c!==0?h=Ji(c):(x&=N,x!==0?h=Ji(x):o||(O=N&~O,O!==0&&(h=Ji(O))))):(N=c&~g,N!==0?h=Ji(N):x!==0?h=Ji(x):o||(O=c&~O,O!==0&&(h=Ji(O)))),h===0?0:a!==0&&a!==h&&!(a&g)&&(g=h&-h,O=a&-a,g>=O||g===32&&(O&4194176)!==0)?a:h}function va(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function uD(o,a){switch(o){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fy(){var o=xu;return xu<<=1,!(xu&4194176)&&(xu=128),o}function dy(){var o=Su;return Su<<=1,!(Su&62914560)&&(Su=4194304),o}function Cd(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function ya(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function cD(o,a,c,h,g,x){var O=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var N=o.entanglements,k=o.expirationTimes,j=o.hiddenUpdates;for(c=O&~c;0<c;){var G=31-cn(c),J=1<<G;N[G]=0,k[G]=-1;var F=j[G];if(F!==null)for(j[G]=null,G=0;G<F.length;G++){var V=F[G];V!==null&&(V.lane&=-536870913)}c&=~J}h!==0&&hy(o,h,0),x!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=x&~(O&~a))}function hy(o,a,c){o.pendingLanes|=a,o.suspendedLanes&=~a;var h=31-cn(a);o.entangledLanes|=a,o.entanglements[h]=o.entanglements[h]|1073741824|c&4194218}function py(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var h=31-cn(c),g=1<<h;g&a|o[h]&a&&(o[h]|=a),c&=~g}}function my(o){return o&=-o,2<o?8<o?o&134217727?32:268435456:8:2}function gy(){var o=te.p;return o!==0?o:(o=window.event,o===void 0?32:zx(o.type))}function fD(o,a){var c=te.p;try{return te.p=o,a()}finally{te.p=c}}var ei=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ei,tn="__reactProps$"+ei,Jo="__reactContainer$"+ei,Od="__reactEvents$"+ei,dD="__reactListeners$"+ei,hD="__reactHandles$"+ei,vy="__reactResources$"+ei,ba="__reactMarker$"+ei;function Td(o){delete o[Lt],delete o[tn],delete o[Od],delete o[dD],delete o[hD]}function Zi(o){var a=o[Lt];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Jo]||c[Lt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=Ex(o);o!==null;){if(c=o[Lt])return c;o=Ex(o)}return a}o=c,c=o.parentNode}return null}function Zo(o){if(o=o[Lt]||o[Jo]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function xa(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function el(o){var a=o[vy];return a||(a=o[vy]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function yt(o){o[ba]=!0}var yy=new Set,by={};function eo(o,a){tl(o,a),tl(o+"Capture",a)}function tl(o,a){for(by[o]=a,o=0;o<a.length;o++)yy.add(a[o])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xy={},Sy={};function mD(o){return Cr.call(Sy,o)?!0:Cr.call(xy,o)?!1:pD.test(o)?Sy[o]=!0:(xy[o]=!0,!1)}function Eu(o,a,c){if(mD(a))if(c===null)o.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+c)}}function Cu(o,a,c){if(c===null)o.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+c)}}function Tr(o,a,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(a,c,""+h)}}function Tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wy(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gD(o){var a=wy(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),h=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(O){h=""+O,x.call(this,O)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Ou(o){o._valueTracker||(o._valueTracker=gD(o))}function Ey(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return o&&(h=wy(o)?o.checked?"true":"false":o.value),o=h,o!==c?(a.setValue(o),!0):!1}function Tu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vD=/[\n"\\]/g;function Mn(o){return o.replace(vD,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Md(o,a,c,h,g,x,O,N){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),a!=null?O==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Tn(a)):o.value!==""+Tn(a)&&(o.value=""+Tn(a)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),a!=null?Dd(o,O,Tn(a)):c!=null?Dd(o,O,Tn(c)):h!=null&&o.removeAttribute("value"),g==null&&x!=null&&(o.defaultChecked=!!x),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.name=""+Tn(N):o.removeAttribute("name")}function Cy(o,a,c,h,g,x,O,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.type=x),a!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;c=c!=null?""+Tn(c):"",a=a!=null?""+Tn(a):c,N||a===o.value||(o.value=a),o.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=N?o.checked:!!h,o.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O)}function Dd(o,a,c){a==="number"&&Tu(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function nl(o,a,c,h){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&h&&(o[c].defaultSelected=!0)}else{for(c=""+Tn(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,h&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function Oy(o,a,c){if(a!=null&&(a=""+Tn(a),a!==o.value&&(o.value=a),c==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=c!=null?""+Tn(c):""}function Ty(o,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(r(92));if(_(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Tn(a),o.defaultValue=c,h=o.textContent,h===c&&h!==""&&h!==null&&(o.value=h)}function rl(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var yD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function My(o,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":h?o.setProperty(a,c):typeof c!="number"||c===0||yD.has(a)?a==="float"?o.cssFloat=c:o[a]=(""+c).trim():o[a]=c+"px"}function Dy(o,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&My(o,g,h)}else for(var x in a)a.hasOwnProperty(x)&&My(o,x,a[x])}function Ad(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(o){return xD.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Nd=null;function Rd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var il=null,ol=null;function Ay(o){var a=Zo(o);if(a&&(o=a.stateNode)){var c=o[tn]||null;e:switch(o=a.stateNode,a.type){case"input":if(Md(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Mn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==o&&h.form===o.form){var g=h[tn]||null;if(!g)throw Error(r(90));Md(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===o.form&&Ey(h)}break e;case"textarea":Oy(o,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&nl(o,!!c.multiple,a,!1)}}}var kd=!1;function Ny(o,a,c){if(kd)return o(a,c);kd=!0;try{var h=o(a);return h}finally{if(kd=!1,(il!==null||ol!==null)&&(cc(),il&&(a=il,o=ol,ol=il=null,Ay(a),o)))for(a=0;a<o.length;a++)Ay(o[a])}}function Sa(o,a){var c=o.stateNode;if(c===null)return null;var h=c[tn]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var Id=!1;if(Or)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Id=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Id=!1}var ti=null,Bd=null,Du=null;function Ry(){if(Du)return Du;var o,a=Bd,c=a.length,h,g="value"in ti?ti.value:ti.textContent,x=g.length;for(o=0;o<c&&a[o]===g[o];o++);var O=c-o;for(h=1;h<=O&&a[c-h]===g[x-h];h++);return Du=g.slice(o,1<h?1-h:void 0)}function Au(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Nu(){return!0}function ky(){return!1}function nn(o){function a(c,h,g,x,O){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var N in o)o.hasOwnProperty(N)&&(c=o[N],this[N]=c?c(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nu:ky,this.isPropagationStopped=ky,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),a}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=nn(to),Ea=W({},to,{view:0,detail:0}),SD=nn(Ea),Pd,Ld,Ca,ku=W({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ca&&(Ca&&o.type==="mousemove"?(Pd=o.screenX-Ca.screenX,Ld=o.screenY-Ca.screenY):Ld=Pd=0,Ca=o),Pd)},movementY:function(o){return"movementY"in o?o.movementY:Ld}}),Iy=nn(ku),wD=W({},ku,{dataTransfer:0}),ED=nn(wD),CD=W({},Ea,{relatedTarget:0}),jd=nn(CD),OD=W({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),TD=nn(OD),MD=W({},to,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),DD=nn(MD),AD=W({},to,{data:0}),By=nn(AD),ND={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ID(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=kD[o])?!!a[o]:!1}function zd(){return ID}var BD=W({},Ea,{key:function(o){if(o.key){var a=ND[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Au(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?RD[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?Au(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Au(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),PD=nn(BD),LD=W({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Py=nn(LD),jD=W({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),zD=nn(jD),HD=W({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),$D=nn(HD),FD=W({},ku,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_D=nn(FD),UD=W({},to,{newState:0,oldState:0}),VD=nn(UD),qD=[9,13,27,32],Hd=Or&&"CompositionEvent"in window,Oa=null;Or&&"documentMode"in document&&(Oa=document.documentMode);var GD=Or&&"TextEvent"in window&&!Oa,Ly=Or&&(!Hd||Oa&&8<Oa&&11>=Oa),jy=" ",zy=!1;function Hy(o,a){switch(o){case"keyup":return qD.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ll=!1;function WD(o,a){switch(o){case"compositionend":return $y(a);case"keypress":return a.which!==32?null:(zy=!0,jy);case"textInput":return o=a.data,o===jy&&zy?null:o;default:return null}}function YD(o,a){if(ll)return o==="compositionend"||!Hd&&Hy(o,a)?(o=Ry(),Du=Bd=ti=null,ll=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ly&&a.locale!=="ko"?null:a.data;default:return null}}var KD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!KD[o.type]:a==="textarea"}function _y(o,a,c,h){il?ol?ol.push(h):ol=[h]:il=h,a=mc(a,"onChange"),0<a.length&&(c=new Ru("onChange","change",null,c,h),o.push({event:c,listeners:a}))}var Ta=null,Ma=null;function XD(o){px(o,0)}function Iu(o){var a=xa(o);if(Ey(a))return o}function Uy(o,a){if(o==="change")return a}var Vy=!1;if(Or){var $d;if(Or){var Fd="oninput"in document;if(!Fd){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),Fd=typeof qy.oninput=="function"}$d=Fd}else $d=!1;Vy=$d&&(!document.documentMode||9<document.documentMode)}function Gy(){Ta&&(Ta.detachEvent("onpropertychange",Wy),Ma=Ta=null)}function Wy(o){if(o.propertyName==="value"&&Iu(Ma)){var a=[];_y(a,Ma,o,Rd(o)),Ny(XD,a)}}function QD(o,a,c){o==="focusin"?(Gy(),Ta=a,Ma=c,Ta.attachEvent("onpropertychange",Wy)):o==="focusout"&&Gy()}function JD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Iu(Ma)}function ZD(o,a){if(o==="click")return Iu(a)}function eA(o,a){if(o==="input"||o==="change")return Iu(a)}function tA(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var fn=typeof Object.is=="function"?Object.is:tA;function Da(o,a){if(fn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Cr.call(a,g)||!fn(o[g],a[g]))return!1}return!0}function Yy(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ky(o,a){var c=Yy(o);o=0;for(var h;c;){if(c.nodeType===3){if(h=o+c.textContent.length,o<=a&&h>=a)return{node:c,offset:a-o};o=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Yy(c)}}function Xy(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Xy(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Qy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=Tu(o.document);a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=Tu(o.document)}return a}function _d(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function nA(o,a){var c=Qy(a);a=o.focusedElem;var h=o.selectionRange;if(c!==a&&a&&a.ownerDocument&&Xy(a.ownerDocument.documentElement,a)){if(h!==null&&_d(a)){if(o=h.start,c=h.end,c===void 0&&(c=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(c,a.value.length);else if(c=(o=a.ownerDocument||document)&&o.defaultView||window,c.getSelection){c=c.getSelection();var g=a.textContent.length,x=Math.min(h.start,g);h=h.end===void 0?x:Math.min(h.end,g),!c.extend&&x>h&&(g=h,h=x,x=g),g=Ky(a,x);var O=Ky(a,h);g&&O&&(c.rangeCount!==1||c.anchorNode!==g.node||c.anchorOffset!==g.offset||c.focusNode!==O.node||c.focusOffset!==O.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),c.removeAllRanges(),x>h?(c.addRange(o),c.extend(O.node,O.offset)):(o.setEnd(O.node,O.offset),c.addRange(o)))}}for(o=[],c=a;c=c.parentNode;)c.nodeType===1&&o.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)c=o[a],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var rA=Or&&"documentMode"in document&&11>=document.documentMode,al=null,Ud=null,Aa=null,Vd=!1;function Jy(o,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vd||al==null||al!==Tu(h)||(h=al,"selectionStart"in h&&_d(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Aa&&Da(Aa,h)||(Aa=h,h=mc(Ud,"onSelect"),0<h.length&&(a=new Ru("onSelect","select",null,a,c),o.push({event:a,listeners:h}),a.target=al)))}function no(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var sl={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},qd={},Zy={};Or&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ro(o){if(qd[o])return qd[o];if(!sl[o])return o;var a=sl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in Zy)return qd[o]=a[c];return o}var eb=ro("animationend"),tb=ro("animationiteration"),nb=ro("animationstart"),iA=ro("transitionrun"),oA=ro("transitionstart"),lA=ro("transitioncancel"),rb=ro("transitionend"),ib=new Map,ob="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(o,a){ib.set(o,a),eo(a,[o])}var Dn=[],ul=0,Gd=0;function Bu(){for(var o=ul,a=Gd=ul=0;a<o;){var c=Dn[a];Dn[a++]=null;var h=Dn[a];Dn[a++]=null;var g=Dn[a];Dn[a++]=null;var x=Dn[a];if(Dn[a++]=null,h!==null&&g!==null){var O=h.pending;O===null?g.next=g:(g.next=O.next,O.next=g),h.pending=g}x!==0&&lb(c,g,x)}}function Pu(o,a,c,h){Dn[ul++]=o,Dn[ul++]=a,Dn[ul++]=c,Dn[ul++]=h,Gd|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function Wd(o,a,c,h){return Pu(o,a,c,h),Lu(o)}function ni(o,a){return Pu(o,null,null,a),Lu(o)}function lb(o,a,c){o.lanes|=c;var h=o.alternate;h!==null&&(h.lanes|=c);for(var g=!1,x=o.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(o=x.stateNode,o===null||o._visibility&1||(g=!0)),o=x,x=x.return;g&&a!==null&&o.tag===3&&(x=o.stateNode,g=31-cn(c),x=x.hiddenUpdates,o=x[g],o===null?x[g]=[a]:o.push(a),a.lane=c|536870912)}function Lu(o){if(50<es)throw es=0,Zh=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var cl={},ab=new WeakMap;function An(o,a){if(typeof o=="object"&&o!==null){var c=ab.get(o);return c!==void 0?c:(a={value:o,source:a,stack:le(a)},ab.set(o,a),a)}return{value:o,source:a,stack:le(a)}}var fl=[],dl=0,ju=null,zu=0,Nn=[],Rn=0,io=null,Mr=1,Dr="";function oo(o,a){fl[dl++]=zu,fl[dl++]=ju,ju=o,zu=a}function sb(o,a,c){Nn[Rn++]=Mr,Nn[Rn++]=Dr,Nn[Rn++]=io,io=o;var h=Mr;o=Dr;var g=32-cn(h)-1;h&=~(1<<g),c+=1;var x=32-cn(a)+g;if(30<x){var O=g-g%5;x=(h&(1<<O)-1).toString(32),h>>=O,g-=O,Mr=1<<32-cn(a)+g|c<<g|h,Dr=x+o}else Mr=1<<x|c<<g|h,Dr=o}function Yd(o){o.return!==null&&(oo(o,1),sb(o,1,0))}function Kd(o){for(;o===ju;)ju=fl[--dl],fl[dl]=null,zu=fl[--dl],fl[dl]=null;for(;o===io;)io=Nn[--Rn],Nn[Rn]=null,Dr=Nn[--Rn],Nn[Rn]=null,Mr=Nn[--Rn],Nn[Rn]=null}var qt=null,Dt=null,_e=!1,Yn=null,sr=!1,Xd=Error(r(519));function lo(o){var a=Error(r(418,""));throw ka(An(a,o)),Xd}function ub(o){var a=o.stateNode,c=o.type,h=o.memoizedProps;switch(a[Lt]=o,a[tn]=h,c){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(c=0;c<ns.length;c++)Le(ns[c],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Cy(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ou(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Ty(a,h.value,h.defaultValue,h.children),Ou(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||yx(a.textContent,c)?(h.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),h.onScroll!=null&&Le("scroll",a),h.onScrollEnd!=null&&Le("scrollend",a),h.onClick!=null&&(a.onclick=gc),a=!0):a=!1,a||lo(o)}function cb(o){for(qt=o.return;qt;)switch(qt.tag){case 3:case 27:sr=!0;return;case 5:case 13:sr=!1;return;default:qt=qt.return}}function Na(o){if(o!==qt)return!1;if(!_e)return cb(o),_e=!0,!1;var a=!1,c;if((c=o.tag!==3&&o.tag!==27)&&((c=o.tag===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||gp(o.type,o.memoizedProps)),c=!c),c&&(a=!0),a&&Dt&&lo(o),cb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(c=o.data,c==="/$"){if(a===0){Dt=Xn(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;o=o.nextSibling}Dt=null}}else Dt=qt?Xn(o.stateNode.nextSibling):null;return!0}function Ra(){Dt=qt=null,_e=!1}function ka(o){Yn===null?Yn=[o]:Yn.push(o)}var Ia=Error(r(460)),fb=Error(r(474)),Qd={then:function(){}};function db(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Hu(){}function hb(o,a,c){switch(c=o[c],c===void 0?o.push(a):c!==a&&(a.then(Hu,Hu),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===Ia?Error(r(483)):o;default:if(typeof a.status=="string")a.then(Hu,Hu);else{if(o=Je,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===Ia?Error(r(483)):o}throw Ba=a,Ia}}var Ba=null;function pb(){if(Ba===null)throw Error(r(459));var o=Ba;return Ba=null,o}var hl=null,Pa=0;function $u(o){var a=Pa;return Pa+=1,hl===null&&(hl=[]),hb(hl,o,a)}function La(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Fu(o,a){throw a.$$typeof===l?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function mb(o){var a=o._init;return a(o._payload)}function gb(o){function a(H,P){if(o){var $=H.deletions;$===null?(H.deletions=[P],H.flags|=16):$.push(P)}}function c(H,P){if(!o)return null;for(;P!==null;)a(H,P),P=P.sibling;return null}function h(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function g(H,P){return H=pi(H,P),H.index=0,H.sibling=null,H}function x(H,P,$){return H.index=$,o?($=H.alternate,$!==null?($=$.index,$<P?(H.flags|=33554434,P):$):(H.flags|=33554434,P)):(H.flags|=1048576,P)}function O(H){return o&&H.alternate===null&&(H.flags|=33554434),H}function N(H,P,$,X){return P===null||P.tag!==6?(P=qh($,H.mode,X),P.return=H,P):(P=g(P,$),P.return=H,P)}function k(H,P,$,X){var fe=$.type;return fe===f?G(H,P,$.props.children,X,$.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===T&&mb(fe)===P.type)?(P=g(P,$.props),La(P,$),P.return=H,P):(P=oc($.type,$.key,$.props,null,H.mode,X),La(P,$),P.return=H,P)}function j(H,P,$,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=Gh($,H.mode,X),P.return=H,P):(P=g(P,$.children||[]),P.return=H,P)}function G(H,P,$,X,fe){return P===null||P.tag!==7?(P=vo($,H.mode,X,fe),P.return=H,P):(P=g(P,$),P.return=H,P)}function J(H,P,$){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=qh(""+P,H.mode,$),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case s:return $=oc(P.type,P.key,P.props,null,H.mode,$),La($,P),$.return=H,$;case u:return P=Gh(P,H.mode,$),P.return=H,P;case T:var X=P._init;return P=X(P._payload),J(H,P,$)}if(_(P)||I(P))return P=vo(P,H.mode,$,null),P.return=H,P;if(typeof P.then=="function")return J(H,$u(P),$);if(P.$$typeof===y)return J(H,nc(H,P),$);Fu(H,P)}return null}function F(H,P,$,X){var fe=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return fe!==null?null:N(H,P,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case s:return $.key===fe?k(H,P,$,X):null;case u:return $.key===fe?j(H,P,$,X):null;case T:return fe=$._init,$=fe($._payload),F(H,P,$,X)}if(_($)||I($))return fe!==null?null:G(H,P,$,X,null);if(typeof $.then=="function")return F(H,P,$u($),X);if($.$$typeof===y)return F(H,P,nc(H,$),X);Fu(H,$)}return null}function V(H,P,$,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return H=H.get($)||null,N(P,H,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case s:return H=H.get(X.key===null?$:X.key)||null,k(P,H,X,fe);case u:return H=H.get(X.key===null?$:X.key)||null,j(P,H,X,fe);case T:var Re=X._init;return X=Re(X._payload),V(H,P,$,X,fe)}if(_(X)||I(X))return H=H.get($)||null,G(P,H,X,fe,null);if(typeof X.then=="function")return V(H,P,$,$u(X),fe);if(X.$$typeof===y)return V(H,P,$,nc(P,X),fe);Fu(P,X)}return null}function ge(H,P,$,X){for(var fe=null,Re=null,ye=P,Ee=P=0,St=null;ye!==null&&Ee<$.length;Ee++){ye.index>Ee?(St=ye,ye=null):St=ye.sibling;var Ue=F(H,ye,$[Ee],X);if(Ue===null){ye===null&&(ye=St);break}o&&ye&&Ue.alternate===null&&a(H,ye),P=x(Ue,P,Ee),Re===null?fe=Ue:Re.sibling=Ue,Re=Ue,ye=St}if(Ee===$.length)return c(H,ye),_e&&oo(H,Ee),fe;if(ye===null){for(;Ee<$.length;Ee++)ye=J(H,$[Ee],X),ye!==null&&(P=x(ye,P,Ee),Re===null?fe=ye:Re.sibling=ye,Re=ye);return _e&&oo(H,Ee),fe}for(ye=h(ye);Ee<$.length;Ee++)St=V(ye,H,Ee,$[Ee],X),St!==null&&(o&&St.alternate!==null&&ye.delete(St.key===null?Ee:St.key),P=x(St,P,Ee),Re===null?fe=St:Re.sibling=St,Re=St);return o&&ye.forEach(function(Si){return a(H,Si)}),_e&&oo(H,Ee),fe}function Oe(H,P,$,X){if($==null)throw Error(r(151));for(var fe=null,Re=null,ye=P,Ee=P=0,St=null,Ue=$.next();ye!==null&&!Ue.done;Ee++,Ue=$.next()){ye.index>Ee?(St=ye,ye=null):St=ye.sibling;var Si=F(H,ye,Ue.value,X);if(Si===null){ye===null&&(ye=St);break}o&&ye&&Si.alternate===null&&a(H,ye),P=x(Si,P,Ee),Re===null?fe=Si:Re.sibling=Si,Re=Si,ye=St}if(Ue.done)return c(H,ye),_e&&oo(H,Ee),fe;if(ye===null){for(;!Ue.done;Ee++,Ue=$.next())Ue=J(H,Ue.value,X),Ue!==null&&(P=x(Ue,P,Ee),Re===null?fe=Ue:Re.sibling=Ue,Re=Ue);return _e&&oo(H,Ee),fe}for(ye=h(ye);!Ue.done;Ee++,Ue=$.next())Ue=V(ye,H,Ee,Ue.value,X),Ue!==null&&(o&&Ue.alternate!==null&&ye.delete(Ue.key===null?Ee:Ue.key),P=x(Ue,P,Ee),Re===null?fe=Ue:Re.sibling=Ue,Re=Ue);return o&&ye.forEach(function(xN){return a(H,xN)}),_e&&oo(H,Ee),fe}function ot(H,P,$,X){if(typeof $=="object"&&$!==null&&$.type===f&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case s:e:{for(var fe=$.key;P!==null;){if(P.key===fe){if(fe=$.type,fe===f){if(P.tag===7){c(H,P.sibling),X=g(P,$.props.children),X.return=H,H=X;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===T&&mb(fe)===P.type){c(H,P.sibling),X=g(P,$.props),La(X,$),X.return=H,H=X;break e}c(H,P);break}else a(H,P);P=P.sibling}$.type===f?(X=vo($.props.children,H.mode,X,$.key),X.return=H,H=X):(X=oc($.type,$.key,$.props,null,H.mode,X),La(X,$),X.return=H,H=X)}return O(H);case u:e:{for(fe=$.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){c(H,P.sibling),X=g(P,$.children||[]),X.return=H,H=X;break e}else{c(H,P);break}else a(H,P);P=P.sibling}X=Gh($,H.mode,X),X.return=H,H=X}return O(H);case T:return fe=$._init,$=fe($._payload),ot(H,P,$,X)}if(_($))return ge(H,P,$,X);if(I($)){if(fe=I($),typeof fe!="function")throw Error(r(150));return $=fe.call($),Oe(H,P,$,X)}if(typeof $.then=="function")return ot(H,P,$u($),X);if($.$$typeof===y)return ot(H,P,nc(H,$),X);Fu(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,P!==null&&P.tag===6?(c(H,P.sibling),X=g(P,$),X.return=H,H=X):(c(H,P),X=qh($,H.mode,X),X.return=H,H=X),O(H)):c(H,P)}return function(H,P,$,X){try{Pa=0;var fe=ot(H,P,$,X);return hl=null,fe}catch(ye){if(ye===Ia)throw ye;var Re=Pn(29,ye,null,H.mode);return Re.lanes=X,Re.return=H,Re}finally{}}}var ao=gb(!0),vb=gb(!1),pl=xe(null),_u=xe(0);function yb(o,a){o=Hr,Be(_u,o),Be(pl,a),Hr=o|a.baseLanes}function Jd(){Be(_u,Hr),Be(pl,pl.current)}function Zd(){Hr=_u.current,je(pl),je(_u)}var kn=xe(null),ur=null;function ri(o){var a=o.alternate;Be(pt,pt.current&1),Be(kn,o),ur===null&&(a===null||pl.current!==null||a.memoizedState!==null)&&(ur=o)}function bb(o){if(o.tag===22){if(Be(pt,pt.current),Be(kn,o),ur===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(ur=o)}}else ii()}function ii(){Be(pt,pt.current),Be(kn,kn.current)}function Ar(o){je(kn),ur===o&&(ur=null),je(pt)}var pt=xe(0);function Uu(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var aA=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(c,h){o.push(h)}};this.abort=function(){a.aborted=!0,o.forEach(function(c){return c()})}},sA=t.unstable_scheduleCallback,uA=t.unstable_NormalPriority,mt={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new aA,data:new Map,refCount:0}}function ja(o){o.refCount--,o.refCount===0&&sA(uA,function(){o.controller.abort()})}var za=null,th=0,ml=0,gl=null;function cA(o,a){if(za===null){var c=za=[];th=0,ml=ap(),gl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return th++,a.then(xb,xb),a}function xb(){if(--th===0&&za!==null){gl!==null&&(gl.status="fulfilled");var o=za;za=null,ml=0,gl=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function fA(o,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return o.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Sb=L.S;L.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&cA(o,a),Sb!==null&&Sb(o,a)};var so=xe(null);function nh(){var o=so.current;return o!==null?o:Je.pooledCache}function Vu(o,a){a===null?Be(so,so.current):Be(so,a.pool)}function wb(){var o=nh();return o===null?null:{parent:mt._currentValue,pool:o}}var oi=0,Ae=null,Ge=null,ct=null,qu=!1,vl=!1,uo=!1,Gu=0,Ha=0,yl=null,dA=0;function ut(){throw Error(r(321))}function rh(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!fn(o[c],a[c]))return!1;return!0}function ih(o,a,c,h,g,x){return oi=x,Ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=o===null||o.memoizedState===null?co:li,uo=!1,x=c(h,g),uo=!1,vl&&(x=Cb(a,c,h,g)),Eb(o),x}function Eb(o){L.H=cr;var a=Ge!==null&&Ge.next!==null;if(oi=0,ct=Ge=Ae=null,qu=!1,Ha=0,yl=null,a)throw Error(r(300));o===null||bt||(o=o.dependencies,o!==null&&tc(o)&&(bt=!0))}function Cb(o,a,c,h){Ae=o;var g=0;do{if(vl&&(yl=null),Ha=0,vl=!1,25<=g)throw Error(r(301));if(g+=1,ct=Ge=null,o.updateQueue!=null){var x=o.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}L.H=fo,x=a(c,h)}while(vl);return x}function hA(){var o=L.H,a=o.useState()[0];return a=typeof a.then=="function"?$a(a):a,o=o.useState()[0],(Ge!==null?Ge.memoizedState:null)!==o&&(Ae.flags|=1024),a}function oh(){var o=Gu!==0;return Gu=0,o}function lh(o,a,c){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~c}function ah(o){if(qu){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}qu=!1}oi=0,ct=Ge=Ae=null,vl=!1,Ha=Gu=0,yl=null}function rn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ae.memoizedState=ct=o:ct=ct.next=o,ct}function ft(){if(Ge===null){var o=Ae.alternate;o=o!==null?o.memoizedState:null}else o=Ge.next;var a=ct===null?Ae.memoizedState:ct.next;if(a!==null)ct=a,Ge=o;else{if(o===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ge=o,o={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},ct===null?Ae.memoizedState=ct=o:ct=ct.next=o}return ct}var Wu;Wu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $a(o){var a=Ha;return Ha+=1,yl===null&&(yl=[]),o=hb(yl,o,a),a=Ae,(ct===null?a.memoizedState:ct.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?co:li),o}function Yu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return $a(o);if(o.$$typeof===y)return jt(o)}throw Error(r(438,String(o)))}function sh(o){var a=null,c=Ae.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Ae.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Wu(),Ae.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(o),h=0;h<o;h++)c[h]=R;return a.index++,c}function Nr(o,a){return typeof a=="function"?a(o):a}function Ku(o){var a=ft();return uh(a,Ge,o)}function uh(o,a,c){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var g=o.baseQueue,x=h.pending;if(x!==null){if(g!==null){var O=g.next;g.next=x.next,x.next=O}a.baseQueue=g=x,h.pending=null}if(x=o.baseState,g===null)o.memoizedState=x;else{a=g.next;var N=O=null,k=null,j=a,G=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(ze&J)===J:(oi&J)===J){var F=j.revertLane;if(F===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===ml&&(G=!0);else if((oi&F)===F){j=j.next,F===ml&&(G=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},k===null?(N=k=J,O=x):k=k.next=J,Ae.lanes|=F,mi|=F;J=j.action,uo&&c(x,J),x=j.hasEagerState?j.eagerState:c(x,J)}else F={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},k===null?(N=k=F,O=x):k=k.next=F,Ae.lanes|=J,mi|=J;j=j.next}while(j!==null&&j!==a);if(k===null?O=x:k.next=N,!fn(x,o.memoizedState)&&(bt=!0,G&&(c=gl,c!==null)))throw c;o.memoizedState=x,o.baseState=O,o.baseQueue=k,h.lastRenderedState=x}return g===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function ch(o){var a=ft(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var h=c.dispatch,g=c.pending,x=a.memoizedState;if(g!==null){c.pending=null;var O=g=g.next;do x=o(x,O.action),O=O.next;while(O!==g);fn(x,a.memoizedState)||(bt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,h]}function Ob(o,a,c){var h=Ae,g=ft(),x=_e;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=a();var O=!fn((Ge||g).memoizedState,c);if(O&&(g.memoizedState=c,bt=!0),g=g.queue,hh(Db.bind(null,h,g,o),[o]),g.getSnapshot!==a||O||ct!==null&&ct.memoizedState.tag&1){if(h.flags|=2048,bl(9,Mb.bind(null,h,g,c,a),{destroy:void 0},null),Je===null)throw Error(r(349));x||oi&60||Tb(h,a,c)}return c}function Tb(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ae.updateQueue,a===null?(a=Wu(),Ae.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function Mb(o,a,c,h){a.value=c,a.getSnapshot=h,Ab(a)&&Nb(o)}function Db(o,a,c){return c(function(){Ab(a)&&Nb(o)})}function Ab(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!fn(o,c)}catch{return!0}}function Nb(o){var a=ni(o,2);a!==null&&Gt(a,o,2)}function fh(o){var a=rn();if(typeof o=="function"){var c=o;if(o=c(),uo){Zr(!0);try{c()}finally{Zr(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:o},a}function Rb(o,a,c,h){return o.baseState=c,uh(o,Ge,typeof h=="function"?h:Nr)}function pA(o,a,c,h,g){if(Ju(o))throw Error(r(485));if(o=a.action,o!==null){var x={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};L.T!==null?c(!0):x.isTransition=!1,h(x),c=a.pending,c===null?(x.next=a.pending=x,kb(a,x)):(x.next=c.next,a.pending=c.next=x)}}function kb(o,a){var c=a.action,h=a.payload,g=o.state;if(a.isTransition){var x=L.T,O={};L.T=O;try{var N=c(g,h),k=L.S;k!==null&&k(O,N),Ib(o,a,N)}catch(j){dh(o,a,j)}finally{L.T=x}}else try{x=c(g,h),Ib(o,a,x)}catch(j){dh(o,a,j)}}function Ib(o,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Bb(o,a,h)},function(h){return dh(o,a,h)}):Bb(o,a,c)}function Bb(o,a,c){a.status="fulfilled",a.value=c,Pb(a),o.state=c,a=o.pending,a!==null&&(c=a.next,c===a?o.pending=null:(c=c.next,a.next=c,kb(o,c)))}function dh(o,a,c){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Pb(a),a=a.next;while(a!==h)}o.action=null}function Pb(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function Lb(o,a){return a}function jb(o,a){if(_e){var c=Je.formState;if(c!==null){e:{var h=Ae;if(_e){if(Dt){t:{for(var g=Dt,x=sr;g.nodeType!==8;){if(!x){g=null;break t}if(g=Xn(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Dt=Xn(g.nextSibling),h=g.data==="F!";break e}}lo(h)}h=!1}h&&(a=c[0])}}return c=rn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lb,lastRenderedState:a},c.queue=h,c=t0.bind(null,Ae,h),h.dispatch=c,h=fh(!1),x=yh.bind(null,Ae,!1,h.queue),h=rn(),g={state:a,dispatch:null,action:o,pending:null},h.queue=g,c=pA.bind(null,Ae,g,x,c),g.dispatch=c,h.memoizedState=o,[a,c,!1]}function zb(o){var a=ft();return Hb(a,Ge,o)}function Hb(o,a,c){a=uh(o,a,Lb)[0],o=Ku(Nr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?$a(a):a;var h=ft(),g=h.queue,x=g.dispatch;return c!==h.memoizedState&&(Ae.flags|=2048,bl(9,mA.bind(null,g,c),{destroy:void 0},null)),[a,x,o]}function mA(o,a){o.action=a}function $b(o){var a=ft(),c=Ge;if(c!==null)return Hb(a,c,o);ft(),a=a.memoizedState,c=ft();var h=c.queue.dispatch;return c.memoizedState=o,[a,h,!1]}function bl(o,a,c,h){return o={tag:o,create:a,inst:c,deps:h,next:null},a=Ae.updateQueue,a===null&&(a=Wu(),Ae.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=o.next=o:(h=c.next,c.next=o,o.next=h,a.lastEffect=o),o}function Fb(){return ft().memoizedState}function Xu(o,a,c,h){var g=rn();Ae.flags|=o,g.memoizedState=bl(1|a,c,{destroy:void 0},h===void 0?null:h)}function Qu(o,a,c,h){var g=ft();h=h===void 0?null:h;var x=g.memoizedState.inst;Ge!==null&&h!==null&&rh(h,Ge.memoizedState.deps)?g.memoizedState=bl(a,c,x,h):(Ae.flags|=o,g.memoizedState=bl(1|a,c,x,h))}function _b(o,a){Xu(8390656,8,o,a)}function hh(o,a){Qu(2048,8,o,a)}function Ub(o,a){return Qu(4,2,o,a)}function Vb(o,a){return Qu(4,4,o,a)}function qb(o,a){if(typeof a=="function"){o=o();var c=a(o);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Gb(o,a,c){c=c!=null?c.concat([o]):null,Qu(4,4,qb.bind(null,a,o),c)}function ph(){}function Wb(o,a){var c=ft();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&rh(a,h[1])?h[0]:(c.memoizedState=[o,a],o)}function Yb(o,a){var c=ft();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&rh(a,h[1]))return h[0];if(h=o(),uo){Zr(!0);try{o()}finally{Zr(!1)}}return c.memoizedState=[h,a],h}function mh(o,a,c){return c===void 0||oi&1073741824?o.memoizedState=a:(o.memoizedState=c,o=X0(),Ae.lanes|=o,mi|=o,c)}function Kb(o,a,c,h){return fn(c,a)?c:pl.current!==null?(o=mh(o,c,h),fn(o,a)||(bt=!0),o):oi&42?(o=X0(),Ae.lanes|=o,mi|=o,a):(bt=!0,o.memoizedState=c)}function Xb(o,a,c,h,g){var x=te.p;te.p=x!==0&&8>x?x:8;var O=L.T,N={};L.T=N,yh(o,!1,a,c);try{var k=g(),j=L.S;if(j!==null&&j(N,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var G=fA(k,h);Fa(o,a,G,mn(o))}else Fa(o,a,h,mn(o))}catch(J){Fa(o,a,{then:function(){},status:"rejected",reason:J},mn())}finally{te.p=x,L.T=O}}function gA(){}function gh(o,a,c,h){if(o.tag!==5)throw Error(r(476));var g=Qb(o).queue;Xb(o,g,a,se,c===null?gA:function(){return Jb(o),c(h)})}function Qb(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:se},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:c},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function Jb(o){var a=Qb(o).next.queue;Fa(o,a,{},mn())}function vh(){return jt(ss)}function Zb(){return ft().memoizedState}function e0(){return ft().memoizedState}function vA(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var c=mn();o=ui(c);var h=ci(a,o,c);h!==null&&(Gt(h,a,c),Va(h,a,c)),a={cache:eh()},o.payload=a;return}a=a.return}}function yA(o,a,c){var h=mn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ju(o)?n0(a,c):(c=Wd(o,a,c,h),c!==null&&(Gt(c,o,h),r0(c,a,h)))}function t0(o,a,c){var h=mn();Fa(o,a,c,h)}function Fa(o,a,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ju(o))n0(a,g);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var O=a.lastRenderedState,N=x(O,c);if(g.hasEagerState=!0,g.eagerState=N,fn(N,O))return Pu(o,a,g,0),Je===null&&Bu(),!1}catch{}finally{}if(c=Wd(o,a,g,h),c!==null)return Gt(c,o,h),r0(c,a,h),!0}return!1}function yh(o,a,c,h){if(h={lane:2,revertLane:ap(),action:h,hasEagerState:!1,eagerState:null,next:null},Ju(o)){if(a)throw Error(r(479))}else a=Wd(o,c,h,2),a!==null&&Gt(a,o,2)}function Ju(o){var a=o.alternate;return o===Ae||a!==null&&a===Ae}function n0(o,a){vl=qu=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function r0(o,a,c){if(c&4194176){var h=a.lanes;h&=o.pendingLanes,c|=h,a.lanes=c,py(o,c)}}var cr={readContext:jt,use:Yu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};cr.useCacheRefresh=ut,cr.useMemoCache=ut,cr.useHostTransitionStatus=ut,cr.useFormState=ut,cr.useActionState=ut,cr.useOptimistic=ut;var co={readContext:jt,use:Yu,useCallback:function(o,a){return rn().memoizedState=[o,a===void 0?null:a],o},useContext:jt,useEffect:_b,useImperativeHandle:function(o,a,c){c=c!=null?c.concat([o]):null,Xu(4194308,4,qb.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Xu(4194308,4,o,a)},useInsertionEffect:function(o,a){Xu(4,2,o,a)},useMemo:function(o,a){var c=rn();a=a===void 0?null:a;var h=o();if(uo){Zr(!0);try{o()}finally{Zr(!1)}}return c.memoizedState=[h,a],h},useReducer:function(o,a,c){var h=rn();if(c!==void 0){var g=c(a);if(uo){Zr(!0);try{c(a)}finally{Zr(!1)}}}else g=a;return h.memoizedState=h.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},h.queue=o,o=o.dispatch=yA.bind(null,Ae,o),[h.memoizedState,o]},useRef:function(o){var a=rn();return o={current:o},a.memoizedState=o},useState:function(o){o=fh(o);var a=o.queue,c=t0.bind(null,Ae,a);return a.dispatch=c,[o.memoizedState,c]},useDebugValue:ph,useDeferredValue:function(o,a){var c=rn();return mh(c,o,a)},useTransition:function(){var o=fh(!1);return o=Xb.bind(null,Ae,o.queue,!0,!1),rn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,c){var h=Ae,g=rn();if(_e){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Je===null)throw Error(r(349));ze&60||Tb(h,a,c)}g.memoizedState=c;var x={value:c,getSnapshot:a};return g.queue=x,_b(Db.bind(null,h,x,o),[o]),h.flags|=2048,bl(9,Mb.bind(null,h,x,c,a),{destroy:void 0},null),c},useId:function(){var o=rn(),a=Je.identifierPrefix;if(_e){var c=Dr,h=Mr;c=(h&~(1<<32-cn(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=Gu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=dA++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},useCacheRefresh:function(){return rn().memoizedState=vA.bind(null,Ae)}};co.useMemoCache=sh,co.useHostTransitionStatus=vh,co.useFormState=jb,co.useActionState=jb,co.useOptimistic=function(o){var a=rn();a.memoizedState=a.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=yh.bind(null,Ae,!0,c),c.dispatch=a,[o,a]};var li={readContext:jt,use:Yu,useCallback:Wb,useContext:jt,useEffect:hh,useImperativeHandle:Gb,useInsertionEffect:Ub,useLayoutEffect:Vb,useMemo:Yb,useReducer:Ku,useRef:Fb,useState:function(){return Ku(Nr)},useDebugValue:ph,useDeferredValue:function(o,a){var c=ft();return Kb(c,Ge.memoizedState,o,a)},useTransition:function(){var o=Ku(Nr)[0],a=ft().memoizedState;return[typeof o=="boolean"?o:$a(o),a]},useSyncExternalStore:Ob,useId:Zb};li.useCacheRefresh=e0,li.useMemoCache=sh,li.useHostTransitionStatus=vh,li.useFormState=zb,li.useActionState=zb,li.useOptimistic=function(o,a){var c=ft();return Rb(c,Ge,o,a)};var fo={readContext:jt,use:Yu,useCallback:Wb,useContext:jt,useEffect:hh,useImperativeHandle:Gb,useInsertionEffect:Ub,useLayoutEffect:Vb,useMemo:Yb,useReducer:ch,useRef:Fb,useState:function(){return ch(Nr)},useDebugValue:ph,useDeferredValue:function(o,a){var c=ft();return Ge===null?mh(c,o,a):Kb(c,Ge.memoizedState,o,a)},useTransition:function(){var o=ch(Nr)[0],a=ft().memoizedState;return[typeof o=="boolean"?o:$a(o),a]},useSyncExternalStore:Ob,useId:Zb};fo.useCacheRefresh=e0,fo.useMemoCache=sh,fo.useHostTransitionStatus=vh,fo.useFormState=$b,fo.useActionState=$b,fo.useOptimistic=function(o,a){var c=ft();return Ge!==null?Rb(c,Ge,o,a):(c.baseState=o,[o,c.queue.dispatch])};function bh(o,a,c,h){a=o.memoizedState,c=c(h,a),c=c==null?a:W({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var xh={isMounted:function(o){return(o=o._reactInternals)?ee(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var h=mn(),g=ui(h);g.payload=a,c!=null&&(g.callback=c),a=ci(o,g,h),a!==null&&(Gt(a,o,h),Va(a,o,h))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var h=mn(),g=ui(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=ci(o,g,h),a!==null&&(Gt(a,o,h),Va(a,o,h))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=mn(),h=ui(c);h.tag=2,a!=null&&(h.callback=a),a=ci(o,h,c),a!==null&&(Gt(a,o,c),Va(a,o,c))}};function i0(o,a,c,h,g,x,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,x,O):a.prototype&&a.prototype.isPureReactComponent?!Da(c,h)||!Da(g,x):!0}function o0(o,a,c,h){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==o&&xh.enqueueReplaceState(a,a.state,null)}function ho(o,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(o=o.defaultProps){c===a&&(c=W({},c));for(var g in o)c[g]===void 0&&(c[g]=o[g])}return c}var Zu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function l0(o){Zu(o)}function a0(o){console.error(o)}function s0(o){Zu(o)}function ec(o,a){try{var c=o.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function u0(o,a,c){try{var h=o.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sh(o,a,c){return c=ui(c),c.tag=3,c.payload={element:null},c.callback=function(){ec(o,a)},c}function c0(o){return o=ui(o),o.tag=3,o}function f0(o,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var x=h.value;o.payload=function(){return g(x)},o.callback=function(){u0(a,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){u0(a,c,h),typeof g!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function bA(o,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Ua(a,c,g,!0),c=kn.current,c!==null){switch(c.tag){case 13:return ur===null?np():c.alternate===null&&it===0&&(it=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Qd?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),ip(o,h,g)),!1;case 22:return c.flags|=65536,h===Qd?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),ip(o,h,g)),!1}throw Error(r(435,c.tag))}return ip(o,h,g),np(),!1}if(_e)return a=kn.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Xd&&(o=Error(r(422),{cause:h}),ka(An(o,c)))):(h!==Xd&&(a=Error(r(423),{cause:h}),ka(An(a,c))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,h=An(h,c),g=Sh(o.stateNode,h,g),Lh(o,g),it!==4&&(it=2)),!1;var x=Error(r(520),{cause:h});if(x=An(x,c),Ja===null?Ja=[x]:Ja.push(x),it!==4&&(it=2),a===null)return!0;h=An(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,o=g&-g,c.lanes|=o,o=Sh(c.stateNode,h,o),Lh(c,o),!1;case 1:if(a=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(gi===null||!gi.has(x))))return c.flags|=65536,g&=-g,c.lanes|=g,g=c0(g),f0(g,o,c,h),Lh(c,g),!1}c=c.return}while(c!==null);return!1}var d0=Error(r(461)),bt=!1;function At(o,a,c,h){a.child=o===null?vb(a,null,c,h):ao(a,o.child,c,h)}function h0(o,a,c,h,g){c=c.render;var x=a.ref;if("ref"in h){var O={};for(var N in h)N!=="ref"&&(O[N]=h[N])}else O=h;return mo(a),h=ih(o,a,c,O,x,g),N=oh(),o!==null&&!bt?(lh(o,a,g),Rr(o,a,g)):(_e&&N&&Yd(a),a.flags|=1,At(o,a,h,g),a.child)}function p0(o,a,c,h,g){if(o===null){var x=c.type;return typeof x=="function"&&!Vh(x)&&x.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=x,m0(o,a,x,h,g)):(o=oc(c.type,null,h,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(x=o.child,!Nh(o,g)){var O=x.memoizedProps;if(c=c.compare,c=c!==null?c:Da,c(O,h)&&o.ref===a.ref)return Rr(o,a,g)}return a.flags|=1,o=pi(x,h),o.ref=a.ref,o.return=a,a.child=o}function m0(o,a,c,h,g){if(o!==null){var x=o.memoizedProps;if(Da(x,h)&&o.ref===a.ref)if(bt=!1,a.pendingProps=h=x,Nh(o,g))o.flags&131072&&(bt=!0);else return a.lanes=o.lanes,Rr(o,a,g)}return wh(o,a,c,h,g)}function g0(o,a,c){var h=a.pendingProps,g=h.children,x=(a.stateNode._pendingVisibility&2)!==0,O=o!==null?o.memoizedState:null;if(_a(o,a),h.mode==="hidden"||x){if(a.flags&128){if(h=O!==null?O.baseLanes|c:c,o!==null){for(g=a.child=o.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;a.childLanes=x&~h}else a.childLanes=0,a.child=null;return v0(o,a,h,c)}if(c&536870912)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&Vu(a,O!==null?O.cachePool:null),O!==null?yb(a,O):Jd(),bb(a);else return a.lanes=a.childLanes=536870912,v0(o,a,O!==null?O.baseLanes|c:c,c)}else O!==null?(Vu(a,O.cachePool),yb(a,O),ii(),a.memoizedState=null):(o!==null&&Vu(a,null),Jd(),ii());return At(o,a,g,c),a.child}function v0(o,a,c,h){var g=nh();return g=g===null?null:{parent:mt._currentValue,pool:g},a.memoizedState={baseLanes:c,cachePool:g},o!==null&&Vu(a,null),Jd(),bb(a),o!==null&&Ua(o,a,h,!0),null}function _a(o,a){var c=a.ref;if(c===null)o!==null&&o.ref!==null&&(a.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(a.flags|=2097664)}}function wh(o,a,c,h,g){return mo(a),c=ih(o,a,c,h,void 0,g),h=oh(),o!==null&&!bt?(lh(o,a,g),Rr(o,a,g)):(_e&&h&&Yd(a),a.flags|=1,At(o,a,c,g),a.child)}function y0(o,a,c,h,g,x){return mo(a),a.updateQueue=null,c=Cb(a,h,c,g),Eb(o),h=oh(),o!==null&&!bt?(lh(o,a,x),Rr(o,a,x)):(_e&&h&&Yd(a),a.flags|=1,At(o,a,c,x),a.child)}function b0(o,a,c,h,g){if(mo(a),a.stateNode===null){var x=cl,O=c.contextType;typeof O=="object"&&O!==null&&(x=jt(O)),x=new c(h,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=xh,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=h,x.state=a.memoizedState,x.refs={},Bh(a),O=c.contextType,x.context=typeof O=="object"&&O!==null?jt(O):cl,x.state=a.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(bh(a,c,O,h),x.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&xh.enqueueReplaceState(x,x.state,null),Ga(a,h,x,g),qa(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(o===null){x=a.stateNode;var N=a.memoizedProps,k=ho(c,N);x.props=k;var j=x.context,G=c.contextType;O=cl,typeof G=="object"&&G!==null&&(O=jt(G));var J=c.getDerivedStateFromProps;G=typeof J=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,G||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||j!==O)&&o0(a,x,h,O),si=!1;var F=a.memoizedState;x.state=F,Ga(a,h,x,g),qa(),j=a.memoizedState,N||F!==j||si?(typeof J=="function"&&(bh(a,c,J,h),j=a.memoizedState),(k=si||i0(a,c,k,h,F,j,O))?(G||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=j),x.props=h,x.state=j,x.context=O,h=k):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,Ph(o,a),O=a.memoizedProps,G=ho(c,O),x.props=G,J=a.pendingProps,F=x.context,j=c.contextType,k=cl,typeof j=="object"&&j!==null&&(k=jt(j)),N=c.getDerivedStateFromProps,(j=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==J||F!==k)&&o0(a,x,h,k),si=!1,F=a.memoizedState,x.state=F,Ga(a,h,x,g),qa();var V=a.memoizedState;O!==J||F!==V||si||o!==null&&o.dependencies!==null&&tc(o.dependencies)?(typeof N=="function"&&(bh(a,c,N,h),V=a.memoizedState),(G=si||i0(a,c,G,h,F,V,k)||o!==null&&o.dependencies!==null&&tc(o.dependencies))?(j||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,V,k),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,V,k)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===o.memoizedProps&&F===o.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&F===o.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=V),x.props=h,x.state=V,x.context=k,h=G):(typeof x.componentDidUpdate!="function"||O===o.memoizedProps&&F===o.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&F===o.memoizedState||(a.flags|=1024),h=!1)}return x=h,_a(o,a),h=(a.flags&128)!==0,x||h?(x=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,o!==null&&h?(a.child=ao(a,o.child,null,g),a.child=ao(a,null,c,g)):At(o,a,c,g),a.memoizedState=x.state,o=a.child):o=Rr(o,a,g),o}function x0(o,a,c,h){return Ra(),a.flags|=256,At(o,a,c,h),a.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Ch(o){return{baseLanes:o,cachePool:wb()}}function Oh(o,a,c){return o=o!==null?o.childLanes&~c:0,a&&(o|=Ln),o}function S0(o,a,c){var h=a.pendingProps,g=!1,x=(a.flags&128)!==0,O;if((O=x)||(O=o!==null&&o.memoizedState===null?!1:(pt.current&2)!==0),O&&(g=!0,a.flags&=-129),O=(a.flags&32)!==0,a.flags&=-33,o===null){if(_e){if(g?ri(a):ii(),_e){var N=Dt,k;if(k=N){e:{for(k=N,N=sr;k.nodeType!==8;){if(!N){N=null;break e}if(k=Xn(k.nextSibling),k===null){N=null;break e}}N=k}N!==null?(a.memoizedState={dehydrated:N,treeContext:io!==null?{id:Mr,overflow:Dr}:null,retryLane:536870912},k=Pn(18,null,null,0),k.stateNode=N,k.return=a,a.child=k,qt=a,Dt=null,k=!0):k=!1}k||lo(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ar(a)}return N=h.children,h=h.fallback,g?(ii(),g=a.mode,N=Mh({mode:"hidden",children:N},g),h=vo(h,g,c,null),N.return=a,h.return=a,N.sibling=h,a.child=N,g=a.child,g.memoizedState=Ch(c),g.childLanes=Oh(o,O,c),a.memoizedState=Eh,h):(ri(a),Th(a,N))}if(k=o.memoizedState,k!==null&&(N=k.dehydrated,N!==null)){if(x)a.flags&256?(ri(a),a.flags&=-257,a=Dh(o,a,c)):a.memoizedState!==null?(ii(),a.child=o.child,a.flags|=128,a=null):(ii(),g=h.fallback,N=a.mode,h=Mh({mode:"visible",children:h.children},N),g=vo(g,N,c,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,ao(a,o.child,null,c),h=a.child,h.memoizedState=Ch(c),h.childLanes=Oh(o,O,c),a.memoizedState=Eh,a=g);else if(ri(a),N.data==="$!"){if(O=N.nextSibling&&N.nextSibling.dataset,O)var j=O.dgst;O=j,h=Error(r(419)),h.stack="",h.digest=O,ka({value:h,source:null,stack:null}),a=Dh(o,a,c)}else if(bt||Ua(o,a,c,!1),O=(c&o.childLanes)!==0,bt||O){if(O=Je,O!==null){if(h=c&-c,h&42)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=h&(O.suspendedLanes|c)?0:h,h!==0&&h!==k.retryLane)throw k.retryLane=h,ni(o,h),Gt(O,o,h),d0}N.data==="$?"||np(),a=Dh(o,a,c)}else N.data==="$?"?(a.flags|=128,a.child=o.child,a=BA.bind(null,o),N._reactRetry=a,a=null):(o=k.treeContext,Dt=Xn(N.nextSibling),qt=a,_e=!0,Yn=null,sr=!1,o!==null&&(Nn[Rn++]=Mr,Nn[Rn++]=Dr,Nn[Rn++]=io,Mr=o.id,Dr=o.overflow,io=a),a=Th(a,h.children),a.flags|=4096);return a}return g?(ii(),g=h.fallback,N=a.mode,k=o.child,j=k.sibling,h=pi(k,{mode:"hidden",children:h.children}),h.subtreeFlags=k.subtreeFlags&31457280,j!==null?g=pi(j,g):(g=vo(g,N,c,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,N=o.child.memoizedState,N===null?N=Ch(c):(k=N.cachePool,k!==null?(j=mt._currentValue,k=k.parent!==j?{parent:j,pool:j}:k):k=wb(),N={baseLanes:N.baseLanes|c,cachePool:k}),g.memoizedState=N,g.childLanes=Oh(o,O,c),a.memoizedState=Eh,h):(ri(a),c=o.child,o=c.sibling,c=pi(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,o!==null&&(O=a.deletions,O===null?(a.deletions=[o],a.flags|=16):O.push(o)),a.child=c,a.memoizedState=null,c)}function Th(o,a){return a=Mh({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function Mh(o,a){return W0(o,a,0,null)}function Dh(o,a,c){return ao(a,o.child,null,c),o=Th(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function w0(o,a,c){o.lanes|=a;var h=o.alternate;h!==null&&(h.lanes|=a),kh(o.return,a,c)}function Ah(o,a,c,h,g){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=g)}function E0(o,a,c){var h=a.pendingProps,g=h.revealOrder,x=h.tail;if(At(o,a,h.children,c),h=pt.current,h&2)h=h&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&w0(o,c,a);else if(o.tag===19)w0(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}switch(Be(pt,h),g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&Uu(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Ah(a,!1,g,c,x);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&Uu(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}Ah(a,!0,c,null,x);break;case"together":Ah(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Rr(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),mi|=a.lanes,!(c&a.childLanes))if(o!==null){if(Ua(o,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,c=pi(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=pi(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function Nh(o,a){return o.lanes&a?!0:(o=o.dependencies,!!(o!==null&&tc(o)))}function xA(o,a,c){switch(a.tag){case 3:He(a,a.stateNode.containerInfo),ai(a,mt,o.memoizedState.cache),Ra();break;case 27:case 5:On(a);break;case 4:He(a,a.stateNode.containerInfo);break;case 10:ai(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ri(a),a.flags|=128,null):c&a.child.childLanes?S0(o,a,c):(ri(a),o=Rr(o,a,c),o!==null?o.sibling:null);ri(a);break;case 19:var g=(o.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Ua(o,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return E0(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Be(pt,pt.current),h)break;return null;case 22:case 23:return a.lanes=0,g0(o,a,c);case 24:ai(a,mt,o.memoizedState.cache)}return Rr(o,a,c)}function C0(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps)bt=!0;else{if(!Nh(o,c)&&!(a.flags&128))return bt=!1,xA(o,a,c);bt=!!(o.flags&131072)}else bt=!1,_e&&a.flags&1048576&&sb(a,zu,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")Vh(h)?(o=ho(h,o),a.tag=1,a=b0(null,a,h,o,c)):(a.tag=0,a=wh(null,a,h,o,c));else{if(h!=null){if(g=h.$$typeof,g===b){a.tag=11,a=h0(null,a,h,o,c);break e}else if(g===C){a.tag=14,a=p0(null,a,h,o,c);break e}}throw a=U(h)||h,Error(r(306,a,""))}}return a;case 0:return wh(o,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=ho(h,a.pendingProps),b0(o,a,h,g,c);case 3:e:{if(He(a,a.stateNode.containerInfo),o===null)throw Error(r(387));var x=a.pendingProps;g=a.memoizedState,h=g.element,Ph(o,a),Ga(a,x,null,c);var O=a.memoizedState;if(x=O.cache,ai(a,mt,x),x!==g.cache&&Ih(a,[mt],c,!0),qa(),x=O.element,g.isDehydrated)if(g={element:x,isDehydrated:!1,cache:O.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=x0(o,a,x,c);break e}else if(x!==h){h=An(Error(r(424)),a),ka(h),a=x0(o,a,x,c);break e}else for(Dt=Xn(a.stateNode.containerInfo.firstChild),qt=a,_e=!0,Yn=null,sr=!0,c=vb(a,null,x,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ra(),x===h){a=Rr(o,a,c);break e}At(o,a,x,c)}a=a.child}return a;case 26:return _a(o,a),o===null?(c=Mx(a.type,null,a.pendingProps,null))?a.memoizedState=c:_e||(c=a.type,o=a.pendingProps,h=vc(Fe.current).createElement(c),h[Lt]=a,h[tn]=o,Nt(h,c,o),yt(h),a.stateNode=h):a.memoizedState=Mx(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return On(a),o===null&&_e&&(h=a.stateNode=Cx(a.type,a.pendingProps,Fe.current),qt=a,sr=!0,Dt=Xn(h.firstChild)),h=a.pendingProps.children,o!==null||_e?At(o,a,h,c):a.child=ao(a,null,h,c),_a(o,a),a.child;case 5:return o===null&&_e&&((g=h=Dt)&&(h=XA(h,a.type,a.pendingProps,sr),h!==null?(a.stateNode=h,qt=a,Dt=Xn(h.firstChild),sr=!1,g=!0):g=!1),g||lo(a)),On(a),g=a.type,x=a.pendingProps,O=o!==null?o.memoizedProps:null,h=x.children,gp(g,x)?h=null:O!==null&&gp(g,O)&&(a.flags|=32),a.memoizedState!==null&&(g=ih(o,a,hA,null,null,c),ss._currentValue=g),_a(o,a),At(o,a,h,c),a.child;case 6:return o===null&&_e&&((o=c=Dt)&&(c=QA(c,a.pendingProps,sr),c!==null?(a.stateNode=c,qt=a,Dt=null,o=!0):o=!1),o||lo(a)),null;case 13:return S0(o,a,c);case 4:return He(a,a.stateNode.containerInfo),h=a.pendingProps,o===null?a.child=ao(a,null,h,c):At(o,a,h,c),a.child;case 11:return h0(o,a,a.type,a.pendingProps,c);case 7:return At(o,a,a.pendingProps,c),a.child;case 8:return At(o,a,a.pendingProps.children,c),a.child;case 12:return At(o,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,ai(a,a.type,h.value),At(o,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,mo(a),g=jt(g),h=h(g),a.flags|=1,At(o,a,h,c),a.child;case 14:return p0(o,a,a.type,a.pendingProps,c);case 15:return m0(o,a,a.type,a.pendingProps,c);case 19:return E0(o,a,c);case 22:return g0(o,a,c);case 24:return mo(a),h=jt(mt),o===null?(g=nh(),g===null&&(g=Je,x=eh(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=c),g=x),a.memoizedState={parent:h,cache:g},Bh(a),ai(a,mt,g)):(o.lanes&c&&(Ph(o,a),Ga(a,null,null,c),qa()),g=o.memoizedState,x=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),ai(a,mt,h)):(h=x.cache,ai(a,mt,h),h!==g.cache&&Ih(a,[mt],c,!0))),At(o,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var Rh=xe(null),po=null,kr=null;function ai(o,a,c){Be(Rh,a._currentValue),a._currentValue=c}function Ir(o){o._currentValue=Rh.current,je(Rh)}function kh(o,a,c){for(;o!==null;){var h=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),o===c)break;o=o.return}}function Ih(o,a,c,h){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var x=g.dependencies;if(x!==null){var O=g.child;x=x.firstContext;e:for(;x!==null;){var N=x;x=g;for(var k=0;k<a.length;k++)if(N.context===a[k]){x.lanes|=c,N=x.alternate,N!==null&&(N.lanes|=c),kh(x.return,c,o),h||(O=null);break e}x=N.next}}else if(g.tag===18){if(O=g.return,O===null)throw Error(r(341));O.lanes|=c,x=O.alternate,x!==null&&(x.lanes|=c),kh(O,c,o),O=null}else O=g.child;if(O!==null)O.return=g;else for(O=g;O!==null;){if(O===o){O=null;break}if(g=O.sibling,g!==null){g.return=O.return,O=g;break}O=O.return}g=O}}function Ua(o,a,c,h){o=null;for(var g=a,x=!1;g!==null;){if(!x){if(g.flags&524288)x=!0;else if(g.flags&262144)break}if(g.tag===10){var O=g.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var N=g.type;fn(g.pendingProps.value,O.value)||(o!==null?o.push(N):o=[N])}}else if(g===me.current){if(O=g.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(ss):o=[ss])}g=g.return}o!==null&&Ih(a,o,c,h),a.flags|=262144}function tc(o){for(o=o.firstContext;o!==null;){if(!fn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function mo(o){po=o,kr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function jt(o){return O0(po,o)}function nc(o,a){return po===null&&mo(o),O0(o,a)}function O0(o,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},kr===null){if(o===null)throw Error(r(308));kr=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else kr=kr.next=a;return c}var si=!1;function Bh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ui(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ci(o,a,c){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,nt&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Lu(o),lb(o,null,c),a}return Pu(o,h,a,c),Lu(o)}function Va(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194176)!==0)){var h=a.lanes;h&=o.pendingLanes,c|=h,a.lanes=c,py(o,c)}}function Lh(o,a){var c=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?g=x=O:x=x.next=O,c=c.next}while(c!==null);x===null?g=x=a:x=x.next=a}else g=x=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}var jh=!1;function qa(){if(jh){var o=gl;if(o!==null)throw o}}function Ga(o,a,c,h){jh=!1;var g=o.updateQueue;si=!1;var x=g.firstBaseUpdate,O=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var k=N,j=k.next;k.next=null,O===null?x=j:O.next=j,O=k;var G=o.alternate;G!==null&&(G=G.updateQueue,N=G.lastBaseUpdate,N!==O&&(N===null?G.firstBaseUpdate=j:N.next=j,G.lastBaseUpdate=k))}if(x!==null){var J=g.baseState;O=0,G=j=k=null,N=x;do{var F=N.lane&-536870913,V=F!==N.lane;if(V?(ze&F)===F:(h&F)===F){F!==0&&F===ml&&(jh=!0),G!==null&&(G=G.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ge=o,Oe=N;F=a;var ot=c;switch(Oe.tag){case 1:if(ge=Oe.payload,typeof ge=="function"){J=ge.call(ot,J,F);break e}J=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Oe.payload,F=typeof ge=="function"?ge.call(ot,J,F):ge,F==null)break e;J=W({},J,F);break e;case 2:si=!0}}F=N.callback,F!==null&&(o.flags|=64,V&&(o.flags|=8192),V=g.callbacks,V===null?g.callbacks=[F]:V.push(F))}else V={lane:F,tag:N.tag,payload:N.payload,callback:N.callback,next:null},G===null?(j=G=V,k=J):G=G.next=V,O|=F;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;V=N,N=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);G===null&&(k=J),g.baseState=k,g.firstBaseUpdate=j,g.lastBaseUpdate=G,x===null&&(g.shared.lanes=0),mi|=O,o.lanes=O,o.memoizedState=J}}function T0(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function M0(o,a){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)T0(c[o],a)}function Wa(o,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&o)===o){h=void 0;var x=c.create,O=c.inst;h=x(),O.destroy=h}c=c.next}while(c!==g)}}catch(N){Ke(a,a.return,N)}}function fi(o,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&o)===o){var O=h.inst,N=O.destroy;if(N!==void 0){O.destroy=void 0,g=a;var k=c;try{N()}catch(j){Ke(g,k,j)}}}h=h.next}while(h!==x)}}catch(j){Ke(a,a.return,j)}}function D0(o){var a=o.updateQueue;if(a!==null){var c=o.stateNode;try{M0(a,c)}catch(h){Ke(o,o.return,h)}}}function A0(o,a,c){c.props=ho(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(h){Ke(o,a,h)}}function go(o,a){try{var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 26:case 27:case 5:var g=h;break;default:g=h}typeof c=="function"?o.refCleanup=c(g):c.current=g}}catch(x){Ke(o,a,x)}}function dn(o,a){var c=o.ref,h=o.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Ke(o,a,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Ke(o,a,g)}else c.current=null}function N0(o){var a=o.type,c=o.memoizedProps,h=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Ke(o,o.return,g)}}function R0(o,a,c){try{var h=o.stateNode;qA(h,o.type,c,a),h[tn]=a}catch(g){Ke(o,o.return,g)}}function k0(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function zh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||k0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hh(o,a,c){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=gc));else if(h!==4&&h!==27&&(o=o.child,o!==null))for(Hh(o,a,c),o=o.sibling;o!==null;)Hh(o,a,c),o=o.sibling}function rc(o,a,c){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(h!==4&&h!==27&&(o=o.child,o!==null))for(rc(o,a,c),o=o.sibling;o!==null;)rc(o,a,c),o=o.sibling}var Br=!1,rt=!1,$h=!1,I0=typeof WeakSet=="function"?WeakSet:Set,xt=null,B0=!1;function SA(o,a){if(o=o.containerInfo,pp=Ec,o=Qy(o),_d(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var O=0,N=-1,k=-1,j=0,G=0,J=o,F=null;t:for(;;){for(var V;J!==c||g!==0&&J.nodeType!==3||(N=O+g),J!==x||h!==0&&J.nodeType!==3||(k=O+h),J.nodeType===3&&(O+=J.nodeValue.length),(V=J.firstChild)!==null;)F=J,J=V;for(;;){if(J===o)break t;if(F===c&&++j===g&&(N=O),F===x&&++G===h&&(k=O),(V=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=V}c=N===-1||k===-1?null:{start:N,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;for(mp={focusedElem:o,selectionRange:c},Ec=!1,xt=a;xt!==null;)if(a=xt,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,xt=o;else for(;xt!==null;){switch(a=xt,x=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(o&1024&&x!==null){o=void 0,c=a,g=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var ge=ho(c.type,g,c.elementType===c.type);o=h.getSnapshotBeforeUpdate(ge,x),h.__reactInternalSnapshotBeforeUpdate=o}catch(Oe){Ke(c,c.return,Oe)}}break;case 3:if(o&1024){if(o=a.stateNode.containerInfo,c=o.nodeType,c===9)bp(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":bp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(o&1024)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,xt=o;break}xt=a.return}return ge=B0,B0=!1,ge}function P0(o,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Lr(o,c),h&4&&Wa(5,c);break;case 1:if(Lr(o,c),h&4)if(o=c.stateNode,a===null)try{o.componentDidMount()}catch(N){Ke(c,c.return,N)}else{var g=ho(c.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(g,a,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Ke(c,c.return,N)}}h&64&&D0(c),h&512&&go(c,c.return);break;case 3:if(Lr(o,c),h&64&&(h=c.updateQueue,h!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{M0(h,o)}catch(N){Ke(c,c.return,N)}}break;case 26:Lr(o,c),h&512&&go(c,c.return);break;case 27:case 5:Lr(o,c),a===null&&h&4&&N0(c),h&512&&go(c,c.return);break;case 12:Lr(o,c);break;case 13:Lr(o,c),h&4&&z0(o,c);break;case 22:if(g=c.memoizedState!==null||Br,!g){a=a!==null&&a.memoizedState!==null||rt;var x=Br,O=rt;Br=g,(rt=a)&&!O?di(o,c,(c.subtreeFlags&8772)!==0):Lr(o,c),Br=x,rt=O}h&512&&(c.memoizedProps.mode==="manual"?go(c,c.return):dn(c,c.return));break;default:Lr(o,c)}}function L0(o){var a=o.alternate;a!==null&&(o.alternate=null,L0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Td(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var dt=null,hn=!1;function Pr(o,a,c){for(c=c.child;c!==null;)j0(o,a,c),c=c.sibling}function j0(o,a,c){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ga,c)}catch{}switch(c.tag){case 26:rt||dn(c,a),Pr(o,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:rt||dn(c,a);var h=dt,g=hn;for(dt=c.stateNode,Pr(o,a,c),c=c.stateNode,a=c.attributes;a.length;)c.removeAttributeNode(a[0]);Td(c),dt=h,hn=g;break;case 5:rt||dn(c,a);case 6:g=dt;var x=hn;if(dt=null,Pr(o,a,c),dt=g,hn=x,dt!==null)if(hn)try{o=dt,h=c.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)}catch(O){Ke(c,a,O)}else try{dt.removeChild(c.stateNode)}catch(O){Ke(c,a,O)}break;case 18:dt!==null&&(hn?(a=dt,c=c.stateNode,a.nodeType===8?yp(a.parentNode,c):a.nodeType===1&&yp(a,c),ds(a)):yp(dt,c.stateNode));break;case 4:h=dt,g=hn,dt=c.stateNode.containerInfo,hn=!0,Pr(o,a,c),dt=h,hn=g;break;case 0:case 11:case 14:case 15:rt||fi(2,c,a),rt||fi(4,c,a),Pr(o,a,c);break;case 1:rt||(dn(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&A0(c,a,h)),Pr(o,a,c);break;case 21:Pr(o,a,c);break;case 22:rt||dn(c,a),rt=(h=rt)||c.memoizedState!==null,Pr(o,a,c),rt=h;break;default:Pr(o,a,c)}}function z0(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ds(o)}catch(c){Ke(a,a.return,c)}}function wA(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new I0),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new I0),a;default:throw Error(r(435,o.tag))}}function Fh(o,a){var c=wA(o);a.forEach(function(h){var g=PA.bind(null,o,h);c.has(h)||(c.add(h),h.then(g,g))})}function In(o,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],x=o,O=a,N=O;e:for(;N!==null;){switch(N.tag){case 27:case 5:dt=N.stateNode,hn=!1;break e;case 3:dt=N.stateNode.containerInfo,hn=!0;break e;case 4:dt=N.stateNode.containerInfo,hn=!0;break e}N=N.return}if(dt===null)throw Error(r(160));j0(x,O,g),dt=null,hn=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)H0(a,o),a=a.sibling}var Kn=null;function H0(o,a){var c=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:In(a,o),Bn(o),h&4&&(fi(3,o,o.return),Wa(3,o),fi(5,o,o.return));break;case 1:In(a,o),Bn(o),h&512&&(rt||c===null||dn(c,c.return)),h&64&&Br&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Kn;if(In(a,o),Bn(o),h&512&&(rt||c===null||dn(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=o.memoizedState,c===null)if(h===null)if(o.stateNode===null){e:{h=o.type,c=o.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":x=g.getElementsByTagName("title")[0],(!x||x[ba]||x[Lt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(h),g.head.insertBefore(x,g.querySelector("head > title"))),Nt(x,h,c),x[Lt]=o,yt(x),h=x;break e;case"link":var O=Nx("link","href",g).get(h+(c.href||""));if(O){for(var N=0;N<O.length;N++)if(x=O[N],x.getAttribute("href")===(c.href==null?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(N,1);break t}}x=g.createElement(h),Nt(x,h,c),g.head.appendChild(x);break;case"meta":if(O=Nx("meta","content",g).get(h+(c.content||""))){for(N=0;N<O.length;N++)if(x=O[N],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(N,1);break t}}x=g.createElement(h),Nt(x,h,c),g.head.appendChild(x);break;default:throw Error(r(468,h))}x[Lt]=o,yt(x),h=x}o.stateNode=h}else Rx(g,o.type,o.stateNode);else o.stateNode=Ax(g,h,o.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?Rx(g,o.type,o.stateNode):Ax(g,h,o.memoizedProps)):h===null&&o.stateNode!==null&&R0(o,o.memoizedProps,c.memoizedProps)}break;case 27:if(h&4&&o.alternate===null){g=o.stateNode,x=o.memoizedProps;try{for(var k=g.firstChild;k;){var j=k.nextSibling,G=k.nodeName;k[ba]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=j}for(var J=o.type,F=g.attributes;F.length;)g.removeAttributeNode(F[0]);Nt(g,J,x),g[Lt]=o,g[tn]=x}catch(ge){Ke(o,o.return,ge)}}case 5:if(In(a,o),Bn(o),h&512&&(rt||c===null||dn(c,c.return)),o.flags&32){g=o.stateNode;try{rl(g,"")}catch(ge){Ke(o,o.return,ge)}}h&4&&o.stateNode!=null&&(g=o.memoizedProps,R0(o,g,c!==null?c.memoizedProps:g)),h&1024&&($h=!0);break;case 6:if(In(a,o),Bn(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,c=o.stateNode;try{c.nodeValue=h}catch(ge){Ke(o,o.return,ge)}}break;case 3:if(xc=null,g=Kn,Kn=yc(a.containerInfo),In(a,o),Kn=g,Bn(o),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ds(a.containerInfo)}catch(ge){Ke(o,o.return,ge)}$h&&($h=!1,$0(o));break;case 4:h=Kn,Kn=yc(o.stateNode.containerInfo),In(a,o),Bn(o),Kn=h;break;case 12:In(a,o),Bn(o);break;case 13:In(a,o),Bn(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Xh=ar()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Fh(o,h)));break;case 22:if(h&512&&(rt||c===null||dn(c,c.return)),k=o.memoizedState!==null,j=c!==null&&c.memoizedState!==null,G=Br,J=rt,Br=G||k,rt=J||j,In(a,o),rt=J,Br=G,Bn(o),a=o.stateNode,a._current=o,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,h&8192&&(a._visibility=k?a._visibility&-2:a._visibility|1,k&&(a=Br||rt,c===null||j||a||xl(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(c=null,a=o;;){if(a.tag===5||a.tag===26||a.tag===27){if(c===null){j=c=a;try{if(g=j.stateNode,k)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{O=j.stateNode,N=j.memoizedProps.style;var V=N!=null&&N.hasOwnProperty("display")?N.display:null;O.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ge){Ke(j,j.return,ge)}}}else if(a.tag===6){if(c===null){j=a;try{j.stateNode.nodeValue=k?"":j.memoizedProps}catch(ge){Ke(j,j.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=o.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Fh(o,c))));break;case 19:In(a,o),Bn(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Fh(o,h)));break;case 21:break;default:In(a,o),Bn(o)}}function Bn(o){var a=o.flags;if(a&2){try{if(o.tag!==27){e:{for(var c=o.return;c!==null;){if(k0(c)){var h=c;break e}c=c.return}throw Error(r(160))}switch(h.tag){case 27:var g=h.stateNode,x=zh(o);rc(o,x,g);break;case 5:var O=h.stateNode;h.flags&32&&(rl(O,""),h.flags&=-33);var N=zh(o);rc(o,N,O);break;case 3:case 4:var k=h.stateNode.containerInfo,j=zh(o);Hh(o,j,k);break;default:throw Error(r(161))}}}catch(G){Ke(o,o.return,G)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function $0(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;$0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Lr(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)P0(o,a.alternate,a),a=a.sibling}function xl(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:fi(4,a,a.return),xl(a);break;case 1:dn(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&A0(a,a.return,c),xl(a);break;case 26:case 27:case 5:dn(a,a.return),xl(a);break;case 22:dn(a,a.return),a.memoizedState===null&&xl(a);break;default:xl(a)}o=o.sibling}}function di(o,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=o,x=a,O=x.flags;switch(x.tag){case 0:case 11:case 15:di(g,x,c),Wa(4,x);break;case 1:if(di(g,x,c),h=x,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(j){Ke(h,h.return,j)}if(h=x,g=h.updateQueue,g!==null){var N=h.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)T0(k[g],N)}catch(j){Ke(h,h.return,j)}}c&&O&64&&D0(x),go(x,x.return);break;case 26:case 27:case 5:di(g,x,c),c&&h===null&&O&4&&N0(x),go(x,x.return);break;case 12:di(g,x,c);break;case 13:di(g,x,c),c&&O&4&&z0(g,x);break;case 22:x.memoizedState===null&&di(g,x,c),go(x,x.return);break;default:di(g,x,c)}a=a.sibling}}function _h(o,a){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&ja(c))}function Uh(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&ja(o))}function hi(o,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)F0(o,a,c,h),a=a.sibling}function F0(o,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:hi(o,a,c,h),g&2048&&Wa(9,a);break;case 3:hi(o,a,c,h),g&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&ja(o)));break;case 12:if(g&2048){hi(o,a,c,h),o=a.stateNode;try{var x=a.memoizedProps,O=x.id,N=x.onPostCommit;typeof N=="function"&&N(O,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(k){Ke(a,a.return,k)}}else hi(o,a,c,h);break;case 23:break;case 22:x=a.stateNode,a.memoizedState!==null?x._visibility&4?hi(o,a,c,h):Ya(o,a):x._visibility&4?hi(o,a,c,h):(x._visibility|=4,Sl(o,a,c,h,(a.subtreeFlags&10256)!==0)),g&2048&&_h(a.alternate,a);break;case 24:hi(o,a,c,h),g&2048&&Uh(a.alternate,a);break;default:hi(o,a,c,h)}}function Sl(o,a,c,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=o,O=a,N=c,k=h,j=O.flags;switch(O.tag){case 0:case 11:case 15:Sl(x,O,N,k,g),Wa(8,O);break;case 23:break;case 22:var G=O.stateNode;O.memoizedState!==null?G._visibility&4?Sl(x,O,N,k,g):Ya(x,O):(G._visibility|=4,Sl(x,O,N,k,g)),g&&j&2048&&_h(O.alternate,O);break;case 24:Sl(x,O,N,k,g),g&&j&2048&&Uh(O.alternate,O);break;default:Sl(x,O,N,k,g)}a=a.sibling}}function Ya(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=o,h=a,g=h.flags;switch(h.tag){case 22:Ya(c,h),g&2048&&_h(h.alternate,h);break;case 24:Ya(c,h),g&2048&&Uh(h.alternate,h);break;default:Ya(c,h)}a=a.sibling}}var Ka=8192;function wl(o){if(o.subtreeFlags&Ka)for(o=o.child;o!==null;)_0(o),o=o.sibling}function _0(o){switch(o.tag){case 26:wl(o),o.flags&Ka&&o.memoizedState!==null&&cN(Kn,o.memoizedState,o.memoizedProps);break;case 5:wl(o);break;case 3:case 4:var a=Kn;Kn=yc(o.stateNode.containerInfo),wl(o),Kn=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=Ka,Ka=16777216,wl(o),Ka=a):wl(o));break;default:wl(o)}}function U0(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Xa(o){var a=o.deletions;if(o.flags&16){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];xt=h,q0(h,o)}U0(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)V0(o),o=o.sibling}function V0(o){switch(o.tag){case 0:case 11:case 15:Xa(o),o.flags&2048&&fi(9,o,o.return);break;case 3:Xa(o);break;case 12:Xa(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&4&&(o.return===null||o.return.tag!==13)?(a._visibility&=-5,ic(o)):Xa(o);break;default:Xa(o)}}function ic(o){var a=o.deletions;if(o.flags&16){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];xt=h,q0(h,o)}U0(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:fi(8,a,a.return),ic(a);break;case 22:c=a.stateNode,c._visibility&4&&(c._visibility&=-5,ic(a));break;default:ic(a)}o=o.sibling}}function q0(o,a){for(;xt!==null;){var c=xt;switch(c.tag){case 0:case 11:case 15:fi(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ja(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,xt=h;else e:for(c=o;xt!==null;){h=xt;var g=h.sibling,x=h.return;if(L0(h),h===c){xt=null;break e}if(g!==null){g.return=x,xt=g;break e}xt=x}}}function EA(o,a,c,h){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(o,a,c,h){return new EA(o,a,c,h)}function Vh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pi(o,a){var c=o.alternate;return c===null?(c=Pn(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&31457280,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function G0(o,a){o.flags&=31457282;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,a=c.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function oc(o,a,c,h,g,x){var O=0;if(h=o,typeof o=="function")Vh(o)&&(O=1);else if(typeof o=="string")O=sN(o,c,vt.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case f:return vo(c.children,g,x,a);case d:O=8,g|=24;break;case p:return o=Pn(12,c,a,g|2),o.elementType=p,o.lanes=x,o;case S:return o=Pn(13,c,a,g),o.elementType=S,o.lanes=x,o;case w:return o=Pn(19,c,a,g),o.elementType=w,o.lanes=x,o;case M:return W0(c,g,x,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case m:case y:O=10;break e;case v:O=9;break e;case b:O=11;break e;case C:O=14;break e;case T:O=16,h=null;break e}O=29,c=Error(r(130,o===null?"null":typeof o,"")),h=null}return a=Pn(O,c,a,g),a.elementType=o,a.type=h,a.lanes=x,a}function vo(o,a,c,h){return o=Pn(7,o,h,a),o.lanes=c,o}function W0(o,a,c,h){o=Pn(22,o,h,a),o.elementType=M,o.lanes=c;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=g._current;if(x===null)throw Error(r(456));if(!(g._pendingVisibility&2)){var O=ni(x,2);O!==null&&(g._pendingVisibility|=2,Gt(O,x,2))}},attach:function(){var x=g._current;if(x===null)throw Error(r(456));if(g._pendingVisibility&2){var O=ni(x,2);O!==null&&(g._pendingVisibility&=-3,Gt(O,x,2))}}};return o.stateNode=g,o}function qh(o,a,c){return o=Pn(6,o,null,a),o.lanes=c,o}function Gh(o,a,c){return a=Pn(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function jr(o){o.flags|=4}function Y0(o,a){if(a.type!=="stylesheet"||a.state.loading&4)o.flags&=-16777217;else if(o.flags|=16777216,!kx(a)){if(a=kn.current,a!==null&&((ze&4194176)===ze?ur!==null:(ze&62914560)!==ze&&!(ze&536870912)||a!==ur))throw Ba=Qd,fb;o.flags|=8192}}function lc(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?dy():536870912,o.lanes|=a,Cl|=a)}function Qa(o,a){if(!_e)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function tt(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,h=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&31457280,h|=g.flags&31457280,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=h,o.childLanes=c,a}function CA(o,a,c){var h=a.pendingProps;switch(Kd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(a),null;case 1:return tt(a),null;case 3:return c=a.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ir(mt),st(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(Na(a)?jr(a):o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Yn!==null&&(ep(Yn),Yn=null))),tt(a),null;case 26:return c=a.memoizedState,o===null?(jr(a),c!==null?(tt(a),Y0(a,c)):(tt(a),a.flags&=-16777217)):c?c!==o.memoizedState?(jr(a),tt(a),Y0(a,c)):(tt(a),a.flags&=-16777217):(o.memoizedProps!==h&&jr(a),tt(a),a.flags&=-16777217),null;case 27:Er(a),c=Fe.current;var g=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==h&&jr(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return tt(a),null}o=vt.current,Na(a)?ub(a):(o=Cx(g,h,c),a.stateNode=o,jr(a))}return tt(a),null;case 5:if(Er(a),c=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==h&&jr(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return tt(a),null}if(o=vt.current,Na(a))ub(a);else{switch(g=vc(Fe.current),o){case 1:o=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?o.multiple=!0:h.size&&(o.size=h.size);break;default:o=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}o[Lt]=a,o[tn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)o.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=o;e:switch(Nt(o,c,h),c){case"button":case"input":case"select":case"textarea":o=!!h.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&jr(a)}}return tt(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==h&&jr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(o=Fe.current,Na(a)){if(o=a.stateNode,c=a.memoizedProps,h=null,g=qt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}o[Lt]=a,o=!!(o.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||yx(o.nodeValue,c)),o||lo(a)}else o=vc(o).createTextNode(h),o[Lt]=a,a.stateNode=o}return tt(a),null;case 13:if(h=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=Na(a),h!==null&&h.dehydrated!==null){if(o===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Lt]=a}else Ra(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;tt(a),g=!1}else Yn!==null&&(ep(Yn),Yn=null),g=!0;if(!g)return a.flags&256?(Ar(a),a):(Ar(a),null)}if(Ar(a),a.flags&128)return a.lanes=c,a;if(c=h!==null,o=o!==null&&o.memoizedState!==null,c){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048)}return c!==o&&c&&(a.child.flags|=8192),lc(a,a.updateQueue),tt(a),null;case 4:return st(),o===null&&fp(a.stateNode.containerInfo),tt(a),null;case 10:return Ir(a.type),tt(a),null;case 19:if(je(pt),g=a.memoizedState,g===null)return tt(a),null;if(h=(a.flags&128)!==0,x=g.rendering,x===null)if(h)Qa(g,!1);else{if(it!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(x=Uu(o),x!==null){for(a.flags|=128,Qa(g,!1),o=x.updateQueue,a.updateQueue=o,lc(a,o),a.subtreeFlags=0,o=c,c=a.child;c!==null;)G0(c,o),c=c.sibling;return Be(pt,pt.current&1|2),a.child}o=o.sibling}g.tail!==null&&ar()>ac&&(a.flags|=128,h=!0,Qa(g,!1),a.lanes=4194304)}else{if(!h)if(o=Uu(x),o!==null){if(a.flags|=128,h=!0,o=o.updateQueue,a.updateQueue=o,lc(a,o),Qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!_e)return tt(a),null}else 2*ar()-g.renderingStartTime>ac&&c!==536870912&&(a.flags|=128,h=!0,Qa(g,!1),a.lanes=4194304);g.isBackwards?(x.sibling=a.child,a.child=x):(o=g.last,o!==null?o.sibling=x:a.child=x,g.last=x)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=ar(),a.sibling=null,o=pt.current,Be(pt,h?o&1|2:o&1),a):(tt(a),null);case 22:case 23:return Ar(a),Zd(),h=a.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?c&536870912&&!(a.flags&128)&&(tt(a),a.subtreeFlags&6&&(a.flags|=8192)):tt(a),c=a.updateQueue,c!==null&&lc(a,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),o!==null&&je(so),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ir(mt),tt(a),null;case 25:return null}throw Error(r(156,a.tag))}function OA(o,a){switch(Kd(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ir(mt),st(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return Er(a),null;case 13:if(Ar(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ra()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return je(pt),null;case 4:return st(),null;case 10:return Ir(a.type),null;case 22:case 23:return Ar(a),Zd(),o!==null&&je(so),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Ir(mt),null;case 25:return null;default:return null}}function K0(o,a){switch(Kd(a),a.tag){case 3:Ir(mt),st();break;case 26:case 27:case 5:Er(a);break;case 4:st();break;case 13:Ar(a);break;case 19:je(pt);break;case 10:Ir(a.type);break;case 22:case 23:Ar(a),Zd(),o!==null&&je(so);break;case 24:Ir(mt)}}var TA={getCacheForType:function(o){var a=jt(mt),c=a.data.get(o);return c===void 0&&(c=o(),a.data.set(o,c)),c}},MA=typeof WeakMap=="function"?WeakMap:Map,nt=0,Je=null,Ie=null,ze=0,Ze=0,pn=null,zr=!1,El=!1,Wh=!1,Hr=0,it=0,mi=0,yo=0,Yh=0,Ln=0,Cl=0,Ja=null,fr=null,Kh=!1,Xh=0,ac=1/0,sc=null,gi=null,uc=!1,bo=null,Za=0,Qh=0,Jh=null,es=0,Zh=null;function mn(){if(nt&2&&ze!==0)return ze&-ze;if(L.T!==null){var o=ml;return o!==0?o:ap()}return gy()}function X0(){Ln===0&&(Ln=!(ze&536870912)||_e?fy():536870912);var o=kn.current;return o!==null&&(o.flags|=32),Ln}function Gt(o,a,c){(o===Je&&Ze===2||o.cancelPendingCommit!==null)&&(Ol(o,0),$r(o,ze,Ln,!1)),ya(o,c),(!(nt&2)||o!==Je)&&(o===Je&&(!(nt&2)&&(yo|=c),it===4&&$r(o,ze,Ln,!1)),dr(o))}function Q0(o,a,c){if(nt&6)throw Error(r(327));var h=!c&&(a&60)===0&&(a&o.expiredLanes)===0||va(o,a),g=h?NA(o,a):rp(o,a,!0),x=h;do{if(g===0){El&&!h&&$r(o,a,0,!1);break}else if(g===6)$r(o,a,0,!zr);else{if(c=o.current.alternate,x&&!DA(c)){g=rp(o,a,!1),x=!1;continue}if(g===2){if(x=a,o.errorRecoveryDisabledLanes&x)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){a=O;e:{var N=o;g=Ja;var k=N.current.memoizedState.isDehydrated;if(k&&(Ol(N,O).flags|=256),O=rp(N,O,!1),O!==2){if(Wh&&!k){N.errorRecoveryDisabledLanes|=x,yo|=x,g=4;break e}x=fr,fr=g,x!==null&&ep(x)}g=O}if(x=!1,g!==2)continue}}if(g===1){Ol(o,0),$r(o,a,0,!0);break}e:{switch(h=o,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){$r(h,a,Ln,!zr);break e}break;case 2:fr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=c,h.finishedLanes=a,(a&62914560)===a&&(x=Xh+300-ar(),10<x)){if($r(h,a,Ln,!zr),wu(h,0)!==0)break e;h.timeoutHandle=Sx(J0.bind(null,h,c,fr,sc,Kh,a,Ln,yo,Cl,zr,2,-0,0),x);break e}J0(h,c,fr,sc,Kh,a,Ln,yo,Cl,zr,0,-0,0)}}break}while(!0);dr(o)}function ep(o){fr===null?fr=o:fr.push.apply(fr,o)}function J0(o,a,c,h,g,x,O,N,k,j,G,J,F){var V=a.subtreeFlags;if((V&8192||(V&16785408)===16785408)&&(as={stylesheets:null,count:0,unsuspend:uN},_0(a),a=fN(),a!==null)){o.cancelPendingCommit=a(ox.bind(null,o,c,h,g,O,N,k,1,J,F)),$r(o,x,O,!j);return}ox(o,c,h,g,O,N,k,G,J,F)}function DA(o){for(var a=o;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],x=g.getSnapshot;g=g.value;try{if(!fn(x(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $r(o,a,c,h){a&=~Yh,a&=~yo,o.suspendedLanes|=a,o.pingedLanes&=~a,h&&(o.warmLanes|=a),h=o.expirationTimes;for(var g=a;0<g;){var x=31-cn(g),O=1<<x;h[x]=-1,g&=~O}c!==0&&hy(o,c,a)}function cc(){return nt&6?!0:(ts(0),!1)}function tp(){if(Ie!==null){if(Ze===0)var o=Ie.return;else o=Ie,kr=po=null,ah(o),hl=null,Pa=0,o=Ie;for(;o!==null;)K0(o.alternate,o),o=o.return;Ie=null}}function Ol(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,WA(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),tp(),Je=o,Ie=c=pi(o.current,null),ze=a,Ze=0,pn=null,zr=!1,El=va(o,a),Wh=!1,Cl=Ln=Yh=yo=mi=it=0,fr=Ja=null,Kh=!1,a&8&&(a|=a&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=a;0<h;){var g=31-cn(h),x=1<<g;a|=o[g],h&=~x}return Hr=a,Bu(),c}function Z0(o,a){Ae=null,L.H=cr,a===Ia?(a=pb(),Ze=3):a===fb?(a=pb(),Ze=4):Ze=a===d0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,pn=a,Ie===null&&(it=1,ec(o,An(a,o.current)))}function ex(){var o=L.H;return L.H=cr,o===null?cr:o}function tx(){var o=L.A;return L.A=TA,o}function np(){it=4,zr||(ze&4194176)!==ze&&kn.current!==null||(El=!0),!(mi&134217727)&&!(yo&134217727)||Je===null||$r(Je,ze,Ln,!1)}function rp(o,a,c){var h=nt;nt|=2;var g=ex(),x=tx();(Je!==o||ze!==a)&&(sc=null,Ol(o,a)),a=!1;var O=it;e:do try{if(Ze!==0&&Ie!==null){var N=Ie,k=pn;switch(Ze){case 8:tp(),O=6;break e;case 3:case 2:case 6:kn.current===null&&(a=!0);var j=Ze;if(Ze=0,pn=null,Tl(o,N,k,j),c&&El){O=0;break e}break;default:j=Ze,Ze=0,pn=null,Tl(o,N,k,j)}}AA(),O=it;break}catch(G){Z0(o,G)}while(!0);return a&&o.shellSuspendCounter++,kr=po=null,nt=h,L.H=g,L.A=x,Ie===null&&(Je=null,ze=0,Bu()),O}function AA(){for(;Ie!==null;)nx(Ie)}function NA(o,a){var c=nt;nt|=2;var h=ex(),g=tx();Je!==o||ze!==a?(sc=null,ac=ar()+500,Ol(o,a)):El=va(o,a);e:do try{if(Ze!==0&&Ie!==null){a=Ie;var x=pn;t:switch(Ze){case 1:Ze=0,pn=null,Tl(o,a,x,1);break;case 2:if(db(x)){Ze=0,pn=null,rx(a);break}a=function(){Ze===2&&Je===o&&(Ze=7),dr(o)},x.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:db(x)?(Ze=0,pn=null,rx(a)):(Ze=0,pn=null,Tl(o,a,x,7));break;case 5:var O=null;switch(Ie.tag){case 26:O=Ie.memoizedState;case 5:case 27:var N=Ie;if(!O||kx(O)){Ze=0,pn=null;var k=N.sibling;if(k!==null)Ie=k;else{var j=N.return;j!==null?(Ie=j,fc(j)):Ie=null}break t}}Ze=0,pn=null,Tl(o,a,x,5);break;case 6:Ze=0,pn=null,Tl(o,a,x,6);break;case 8:tp(),it=6;break e;default:throw Error(r(462))}}RA();break}catch(G){Z0(o,G)}while(!0);return kr=po=null,L.H=h,L.A=g,nt=c,Ie!==null?0:(Je=null,ze=0,Bu(),it)}function RA(){for(;Ie!==null&&!ZM();)nx(Ie)}function nx(o){var a=C0(o.alternate,o,Hr);o.memoizedProps=o.pendingProps,a===null?fc(o):Ie=a}function rx(o){var a=o,c=a.alternate;switch(a.tag){case 15:case 0:a=y0(c,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=y0(c,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:ah(a);default:K0(c,a),a=Ie=G0(a,Hr),a=C0(c,a,Hr)}o.memoizedProps=o.pendingProps,a===null?fc(o):Ie=a}function Tl(o,a,c,h){kr=po=null,ah(a),hl=null,Pa=0;var g=a.return;try{if(bA(o,g,a,c,ze)){it=1,ec(o,An(c,o.current)),Ie=null;return}}catch(x){if(g!==null)throw Ie=g,x;it=1,ec(o,An(c,o.current)),Ie=null;return}a.flags&32768?(_e||h===1?o=!0:El||ze&536870912?o=!1:(zr=o=!0,(h===2||h===3||h===6)&&(h=kn.current,h!==null&&h.tag===13&&(h.flags|=16384))),ix(a,o)):fc(a)}function fc(o){var a=o;do{if(a.flags&32768){ix(a,zr);return}o=a.return;var c=CA(a.alternate,a,Hr);if(c!==null){Ie=c;return}if(a=a.sibling,a!==null){Ie=a;return}Ie=a=o}while(a!==null);it===0&&(it=5)}function ix(o,a){do{var c=OA(o.alternate,o);if(c!==null){c.flags&=32767,Ie=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(o=o.sibling,o!==null)){Ie=o;return}Ie=o=c}while(o!==null);it=6,Ie=null}function ox(o,a,c,h,g,x,O,N,k,j){var G=L.T,J=te.p;try{te.p=2,L.T=null,kA(o,a,c,h,J,g,x,O,N,k,j)}finally{L.T=G,te.p=J}}function kA(o,a,c,h,g,x,O,N){do Ml();while(bo!==null);if(nt&6)throw Error(r(327));var k=o.finishedWork;if(h=o.finishedLanes,k===null)return null;if(o.finishedWork=null,o.finishedLanes=0,k===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var j=k.lanes|k.childLanes;if(j|=Gd,cD(o,h,j,x,O,N),o===Je&&(Ie=Je=null,ze=0),!(k.subtreeFlags&10256)&&!(k.flags&10256)||uc||(uc=!0,Qh=j,Jh=c,LA(bu,function(){return Ml(),null})),c=(k.flags&15990)!==0,k.subtreeFlags&15990||c?(c=L.T,L.T=null,x=te.p,te.p=2,O=nt,nt|=4,SA(o,k),H0(k,o),nA(mp,o.containerInfo),Ec=!!pp,mp=pp=null,o.current=k,P0(o,k.alternate,k),eD(),nt=O,te.p=x,L.T=c):o.current=k,uc?(uc=!1,bo=o,Za=h):lx(o,j),j=o.pendingLanes,j===0&&(gi=null),oD(k.stateNode),dr(o),a!==null)for(g=o.onRecoverableError,k=0;k<a.length;k++)j=a[k],g(j.value,{componentStack:j.stack});return Za&3&&Ml(),j=o.pendingLanes,h&4194218&&j&42?o===Zh?es++:(es=0,Zh=o):es=0,ts(0),null}function lx(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,ja(a)))}function Ml(){if(bo!==null){var o=bo,a=Qh;Qh=0;var c=my(Za),h=L.T,g=te.p;try{if(te.p=32>c?32:c,L.T=null,bo===null)var x=!1;else{c=Jh,Jh=null;var O=bo,N=Za;if(bo=null,Za=0,nt&6)throw Error(r(331));var k=nt;if(nt|=4,V0(O.current),F0(O,O.current,N,c),nt=k,ts(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ga,O)}catch{}x=!0}return x}finally{te.p=g,L.T=h,lx(o,a)}}return!1}function ax(o,a,c){a=An(c,a),a=Sh(o.stateNode,a,2),o=ci(o,a,2),o!==null&&(ya(o,2),dr(o))}function Ke(o,a,c){if(o.tag===3)ax(o,o,c);else for(;a!==null;){if(a.tag===3){ax(a,o,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){o=An(c,o),c=c0(2),h=ci(a,c,2),h!==null&&(f0(c,h,a,o),ya(h,2),dr(h));break}}a=a.return}}function ip(o,a,c){var h=o.pingCache;if(h===null){h=o.pingCache=new MA;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(Wh=!0,g.add(c),o=IA.bind(null,o,a,c),a.then(o,o))}function IA(o,a,c){var h=o.pingCache;h!==null&&h.delete(a),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,Je===o&&(ze&c)===c&&(it===4||it===3&&(ze&62914560)===ze&&300>ar()-Xh?!(nt&2)&&Ol(o,0):Yh|=c,Cl===ze&&(Cl=0)),dr(o)}function sx(o,a){a===0&&(a=dy()),o=ni(o,a),o!==null&&(ya(o,a),dr(o))}function BA(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),sx(o,c)}function PA(o,a){var c=0;switch(o.tag){case 13:var h=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),sx(o,c)}function LA(o,a){return Qi(o,a)}var dc=null,Dl=null,op=!1,hc=!1,lp=!1,xo=0;function dr(o){o!==Dl&&o.next===null&&(Dl===null?dc=Dl=o:Dl=Dl.next=o),hc=!0,op||(op=!0,zA(jA))}function ts(o,a){if(!lp&&hc){lp=!0;do for(var c=!1,h=dc;h!==null;){if(o!==0){var g=h.pendingLanes;if(g===0)var x=0;else{var O=h.suspendedLanes,N=h.pingedLanes;x=(1<<31-cn(42|o)+1)-1,x&=g&~(O&~N),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(c=!0,fx(h,x))}else x=ze,x=wu(h,h===Je?x:0),!(x&3)||va(h,x)||(c=!0,fx(h,x));h=h.next}while(c);lp=!1}}function jA(){hc=op=!1;var o=0;xo!==0&&(GA()&&(o=xo),xo=0);for(var a=ar(),c=null,h=dc;h!==null;){var g=h.next,x=ux(h,a);x===0?(h.next=null,c===null?dc=g:c.next=g,g===null&&(Dl=c)):(c=h,(o!==0||x&3)&&(hc=!0)),h=g}ts(o)}function ux(o,a){for(var c=o.suspendedLanes,h=o.pingedLanes,g=o.expirationTimes,x=o.pendingLanes&-62914561;0<x;){var O=31-cn(x),N=1<<O,k=g[O];k===-1?(!(N&c)||N&h)&&(g[O]=uD(N,a)):k<=a&&(o.expiredLanes|=N),x&=~N}if(a=Je,c=ze,c=wu(o,o===a?c:0),h=o.callbackNode,c===0||o===a&&Ze===2||o.cancelPendingCommit!==null)return h!==null&&h!==null&&Ed(h),o.callbackNode=null,o.callbackPriority=0;if(!(c&3)||va(o,c)){if(a=c&-c,a===o.callbackPriority)return a;switch(h!==null&&Ed(h),my(c)){case 2:case 8:c=uy;break;case 32:c=bu;break;case 268435456:c=cy;break;default:c=bu}return h=cx.bind(null,o),c=Qi(c,h),o.callbackPriority=a,o.callbackNode=c,a}return h!==null&&h!==null&&Ed(h),o.callbackPriority=2,o.callbackNode=null,2}function cx(o,a){var c=o.callbackNode;if(Ml()&&o.callbackNode!==c)return null;var h=ze;return h=wu(o,o===Je?h:0),h===0?null:(Q0(o,h,a),ux(o,ar()),o.callbackNode!=null&&o.callbackNode===c?cx.bind(null,o):null)}function fx(o,a){if(Ml())return null;Q0(o,a,!0)}function zA(o){YA(function(){nt&6?Qi(sy,o):o()})}function ap(){return xo===0&&(xo=fy()),xo}function dx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Mu(""+o)}function hx(o,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,o.id&&c.setAttribute("form",o.id),a.parentNode.insertBefore(c,a),o=new FormData(o),c.parentNode.removeChild(c),o}function HA(o,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var x=dx((g[tn]||null).action),O=h.submitter;O&&(a=(a=O[tn]||null)?dx(a.formAction):O.getAttribute("formAction"),a!==null&&(x=a,O=null));var N=new Ru("action","action",null,h,g);o.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(xo!==0){var k=O?hx(g,O):new FormData(g);gh(c,{pending:!0,data:k,method:g.method,action:x},null,k)}}else typeof x=="function"&&(N.preventDefault(),k=O?hx(g,O):new FormData(g),gh(c,{pending:!0,data:k,method:g.method,action:x},x,k))},currentTarget:g}]})}}for(var sp=0;sp<ob.length;sp++){var up=ob[sp],$A=up.toLowerCase(),FA=up[0].toUpperCase()+up.slice(1);Wn($A,"on"+FA)}Wn(eb,"onAnimationEnd"),Wn(tb,"onAnimationIteration"),Wn(nb,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(iA,"onTransitionRun"),Wn(oA,"onTransitionStart"),Wn(lA,"onTransitionCancel"),Wn(rb,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),eo("onBeforeInput",["compositionend","keypress","textInput","paste"]),eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ns));function px(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var h=o[c],g=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var O=h.length-1;0<=O;O--){var N=h[O],k=N.instance,j=N.currentTarget;if(N=N.listener,k!==x&&g.isPropagationStopped())break e;x=N,g.currentTarget=j;try{x(g)}catch(G){Zu(G)}g.currentTarget=null,x=k}else for(O=0;O<h.length;O++){if(N=h[O],k=N.instance,j=N.currentTarget,N=N.listener,k!==x&&g.isPropagationStopped())break e;x=N,g.currentTarget=j;try{x(g)}catch(G){Zu(G)}g.currentTarget=null,x=k}}}}function Le(o,a){var c=a[Od];c===void 0&&(c=a[Od]=new Set);var h=o+"__bubble";c.has(h)||(mx(a,o,2,!1),c.add(h))}function cp(o,a,c){var h=0;a&&(h|=4),mx(c,o,h,a)}var pc="_reactListening"+Math.random().toString(36).slice(2);function fp(o){if(!o[pc]){o[pc]=!0,yy.forEach(function(c){c!=="selectionchange"&&(_A.has(c)||cp(c,!1,o),cp(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[pc]||(a[pc]=!0,cp("selectionchange",!1,a))}}function mx(o,a,c,h){switch(zx(a)){case 2:var g=pN;break;case 8:g=mN;break;default:g=Cp}c=g.bind(null,a,c,o),g=void 0,!Id||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function dp(o,a,c,h,g){var x=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var N=h.stateNode.containerInfo;if(N===g||N.nodeType===8&&N.parentNode===g)break;if(O===4)for(O=h.return;O!==null;){var k=O.tag;if((k===3||k===4)&&(k=O.stateNode.containerInfo,k===g||k.nodeType===8&&k.parentNode===g))return;O=O.return}for(;N!==null;){if(O=Zi(N),O===null)return;if(k=O.tag,k===5||k===6||k===26||k===27){h=x=O;continue e}N=N.parentNode}}h=h.return}Ny(function(){var j=x,G=Rd(c),J=[];e:{var F=ib.get(o);if(F!==void 0){var V=Ru,ge=o;switch(o){case"keypress":if(Au(c)===0)break e;case"keydown":case"keyup":V=PD;break;case"focusin":ge="focus",V=jd;break;case"focusout":ge="blur",V=jd;break;case"beforeblur":case"afterblur":V=jd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=ED;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=zD;break;case eb:case tb:case nb:V=TD;break;case rb:V=$D;break;case"scroll":case"scrollend":V=SD;break;case"wheel":V=_D;break;case"copy":case"cut":case"paste":V=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Py;break;case"toggle":case"beforetoggle":V=VD}var Oe=(a&4)!==0,ot=!Oe&&(o==="scroll"||o==="scrollend"),H=Oe?F!==null?F+"Capture":null:F;Oe=[];for(var P=j,$;P!==null;){var X=P;if($=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||$===null||H===null||(X=Sa(P,H),X!=null&&Oe.push(rs(P,X,$))),ot)break;P=P.return}0<Oe.length&&(F=new V(F,ge,null,c,G),J.push({event:F,listeners:Oe}))}}if(!(a&7)){e:{if(F=o==="mouseover"||o==="pointerover",V=o==="mouseout"||o==="pointerout",F&&c!==Nd&&(ge=c.relatedTarget||c.fromElement)&&(Zi(ge)||ge[Jo]))break e;if((V||F)&&(F=G.window===G?G:(F=G.ownerDocument)?F.defaultView||F.parentWindow:window,V?(ge=c.relatedTarget||c.toElement,V=j,ge=ge?Zi(ge):null,ge!==null&&(ot=ee(ge),Oe=ge.tag,ge!==ot||Oe!==5&&Oe!==27&&Oe!==6)&&(ge=null)):(V=null,ge=j),V!==ge)){if(Oe=Iy,X="onMouseLeave",H="onMouseEnter",P="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=Py,X="onPointerLeave",H="onPointerEnter",P="pointer"),ot=V==null?F:xa(V),$=ge==null?F:xa(ge),F=new Oe(X,P+"leave",V,c,G),F.target=ot,F.relatedTarget=$,X=null,Zi(G)===j&&(Oe=new Oe(H,P+"enter",ge,c,G),Oe.target=$,Oe.relatedTarget=ot,X=Oe),ot=X,V&&ge)t:{for(Oe=V,H=ge,P=0,$=Oe;$;$=Al($))P++;for($=0,X=H;X;X=Al(X))$++;for(;0<P-$;)Oe=Al(Oe),P--;for(;0<$-P;)H=Al(H),$--;for(;P--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=Al(Oe),H=Al(H)}Oe=null}else Oe=null;V!==null&&gx(J,F,V,Oe,!1),ge!==null&&ot!==null&&gx(J,ot,ge,Oe,!0)}}e:{if(F=j?xa(j):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var fe=Uy;else if(Fy(F))if(Vy)fe=eA;else{fe=JD;var Re=QD}else V=F.nodeName,!V||V.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&Ad(j.elementType)&&(fe=Uy):fe=ZD;if(fe&&(fe=fe(o,j))){_y(J,fe,c,G);break e}Re&&Re(o,F,j),o==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Dd(F,"number",F.value)}switch(Re=j?xa(j):window,o){case"focusin":(Fy(Re)||Re.contentEditable==="true")&&(al=Re,Ud=j,Aa=null);break;case"focusout":Aa=Ud=al=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Jy(J,c,G);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":Jy(J,c,G)}var ye;if(Hd)e:{switch(o){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ll?Hy(o,c)&&(Ee="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ly&&c.locale!=="ko"&&(ll||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ll&&(ye=Ry()):(ti=G,Bd="value"in ti?ti.value:ti.textContent,ll=!0)),Re=mc(j,Ee),0<Re.length&&(Ee=new By(Ee,o,null,c,G),J.push({event:Ee,listeners:Re}),ye?Ee.data=ye:(ye=$y(c),ye!==null&&(Ee.data=ye)))),(ye=GD?WD(o,c):YD(o,c))&&(Ee=mc(j,"onBeforeInput"),0<Ee.length&&(Re=new By("onBeforeInput","beforeinput",null,c,G),J.push({event:Re,listeners:Ee}),Re.data=ye)),HA(J,o,j,c,G)}px(J,a)})}function rs(o,a,c){return{instance:o,listener:a,currentTarget:c}}function mc(o,a){for(var c=a+"Capture",h=[];o!==null;){var g=o,x=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Sa(o,c),g!=null&&h.unshift(rs(o,g,x)),g=Sa(o,a),g!=null&&h.push(rs(o,g,x))),o=o.return}return h}function Al(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function gx(o,a,c,h,g){for(var x=a._reactName,O=[];c!==null&&c!==h;){var N=c,k=N.alternate,j=N.stateNode;if(N=N.tag,k!==null&&k===h)break;N!==5&&N!==26&&N!==27||j===null||(k=j,g?(j=Sa(c,x),j!=null&&O.unshift(rs(c,j,k))):g||(j=Sa(c,x),j!=null&&O.push(rs(c,j,k)))),c=c.return}O.length!==0&&o.push({event:a,listeners:O})}var UA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function vx(o){return(typeof o=="string"?o:""+o).replace(UA,`
`).replace(VA,"")}function yx(o,a){return a=vx(a),vx(o)===a}function gc(){}function We(o,a,c,h,g,x){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||rl(o,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&rl(o,""+h);break;case"className":Cu(o,"class",h);break;case"tabIndex":Cu(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Cu(o,c,h);break;case"style":Dy(o,h,x);break;case"data":if(a!=="object"){Cu(o,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){o.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(c);break}h=Mu(""+h),o.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(a!=="input"&&We(o,a,"name",g.name,g,null),We(o,a,"formEncType",g.formEncType,g,null),We(o,a,"formMethod",g.formMethod,g,null),We(o,a,"formTarget",g.formTarget,g,null)):(We(o,a,"encType",g.encType,g,null),We(o,a,"method",g.method,g,null),We(o,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(c);break}h=Mu(""+h),o.setAttribute(c,h);break;case"onClick":h!=null&&(o.onclick=gc);break;case"onScroll":h!=null&&Le("scroll",o);break;case"onScrollEnd":h!=null&&Le("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}c=Mu(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(c,""+h):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":h===!0?o.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(c,h):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(c,h):o.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(c):o.setAttribute(c,h);break;case"popover":Le("beforetoggle",o),Le("toggle",o),Eu(o,"popover",h);break;case"xlinkActuate":Tr(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Tr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Tr(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Tr(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Tr(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Tr(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Tr(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Tr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Tr(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Eu(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bD.get(c)||c,Eu(o,c,h))}}function hp(o,a,c,h,g,x){switch(c){case"style":Dy(o,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof h=="string"?rl(o,h):(typeof h=="number"||typeof h=="bigint")&&rl(o,""+h);break;case"onScroll":h!=null&&Le("scroll",o);break;case"onScrollEnd":h!=null&&Le("scrollend",o);break;case"onClick":h!=null&&(o.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!by.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),x=o[tn]||null,x=x!=null?x[c]:null,typeof x=="function"&&o.removeEventListener(a,x,g),typeof h=="function")){typeof x!="function"&&x!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(a,h,g);break e}c in o?o[c]=h:h===!0?o.setAttribute(c,""):Eu(o,c,h)}}}function Nt(o,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",o),Le("load",o);var h=!1,g=!1,x;for(x in c)if(c.hasOwnProperty(x)){var O=c[x];if(O!=null)switch(x){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:We(o,a,x,O,c,null)}}g&&We(o,a,"srcSet",c.srcSet,c,null),h&&We(o,a,"src",c.src,c,null);return;case"input":Le("invalid",o);var N=x=O=g=null,k=null,j=null;for(h in c)if(c.hasOwnProperty(h)){var G=c[h];if(G!=null)switch(h){case"name":g=G;break;case"type":O=G;break;case"checked":k=G;break;case"defaultChecked":j=G;break;case"value":x=G;break;case"defaultValue":N=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,a));break;default:We(o,a,h,G,c,null)}}Cy(o,x,N,k,j,O,g,!1),Ou(o);return;case"select":Le("invalid",o),h=O=x=null;for(g in c)if(c.hasOwnProperty(g)&&(N=c[g],N!=null))switch(g){case"value":x=N;break;case"defaultValue":O=N;break;case"multiple":h=N;default:We(o,a,g,N,c,null)}a=x,c=O,o.multiple=!!h,a!=null?nl(o,!!h,a,!1):c!=null&&nl(o,!!h,c,!0);return;case"textarea":Le("invalid",o),x=g=h=null;for(O in c)if(c.hasOwnProperty(O)&&(N=c[O],N!=null))switch(O){case"value":h=N;break;case"defaultValue":g=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:We(o,a,O,N,c,null)}Ty(o,h,g,x),Ou(o);return;case"option":for(k in c)if(c.hasOwnProperty(k)&&(h=c[k],h!=null))switch(k){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:We(o,a,k,h,c,null)}return;case"dialog":Le("cancel",o),Le("close",o);break;case"iframe":case"object":Le("load",o);break;case"video":case"audio":for(h=0;h<ns.length;h++)Le(ns[h],o);break;case"image":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"embed":case"source":case"link":Le("error",o),Le("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in c)if(c.hasOwnProperty(j)&&(h=c[j],h!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:We(o,a,j,h,c,null)}return;default:if(Ad(a)){for(G in c)c.hasOwnProperty(G)&&(h=c[G],h!==void 0&&hp(o,a,G,h,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(h=c[N],h!=null&&We(o,a,N,h,c,null))}function qA(o,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,O=null,N=null,k=null,j=null,G=null;for(V in c){var J=c[V];if(c.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":k=J;default:h.hasOwnProperty(V)||We(o,a,V,null,h,J)}}for(var F in h){var V=h[F];if(J=c[F],h.hasOwnProperty(F)&&(V!=null||J!=null))switch(F){case"type":x=V;break;case"name":g=V;break;case"checked":j=V;break;case"defaultChecked":G=V;break;case"value":O=V;break;case"defaultValue":N=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,a));break;default:V!==J&&We(o,a,F,V,h,J)}}Md(o,O,N,k,j,G,x,g);return;case"select":V=O=N=F=null;for(x in c)if(k=c[x],c.hasOwnProperty(x)&&k!=null)switch(x){case"value":break;case"multiple":V=k;default:h.hasOwnProperty(x)||We(o,a,x,null,h,k)}for(g in h)if(x=h[g],k=c[g],h.hasOwnProperty(g)&&(x!=null||k!=null))switch(g){case"value":F=x;break;case"defaultValue":N=x;break;case"multiple":O=x;default:x!==k&&We(o,a,g,x,h,k)}a=N,c=O,h=V,F!=null?nl(o,!!c,F,!1):!!h!=!!c&&(a!=null?nl(o,!!c,a,!0):nl(o,!!c,c?[]:"",!1));return;case"textarea":V=F=null;for(N in c)if(g=c[N],c.hasOwnProperty(N)&&g!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:We(o,a,N,null,h,g)}for(O in h)if(g=h[O],x=c[O],h.hasOwnProperty(O)&&(g!=null||x!=null))switch(O){case"value":F=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&We(o,a,O,g,h,x)}Oy(o,F,V);return;case"option":for(var ge in c)if(F=c[ge],c.hasOwnProperty(ge)&&F!=null&&!h.hasOwnProperty(ge))switch(ge){case"selected":o.selected=!1;break;default:We(o,a,ge,null,h,F)}for(k in h)if(F=h[k],V=c[k],h.hasOwnProperty(k)&&F!==V&&(F!=null||V!=null))switch(k){case"selected":o.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(o,a,k,F,h,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)F=c[Oe],c.hasOwnProperty(Oe)&&F!=null&&!h.hasOwnProperty(Oe)&&We(o,a,Oe,null,h,F);for(j in h)if(F=h[j],V=c[j],h.hasOwnProperty(j)&&F!==V&&(F!=null||V!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,a));break;default:We(o,a,j,F,h,V)}return;default:if(Ad(a)){for(var ot in c)F=c[ot],c.hasOwnProperty(ot)&&F!==void 0&&!h.hasOwnProperty(ot)&&hp(o,a,ot,void 0,h,F);for(G in h)F=h[G],V=c[G],!h.hasOwnProperty(G)||F===V||F===void 0&&V===void 0||hp(o,a,G,F,h,V);return}}for(var H in c)F=c[H],c.hasOwnProperty(H)&&F!=null&&!h.hasOwnProperty(H)&&We(o,a,H,null,h,F);for(J in h)F=h[J],V=c[J],!h.hasOwnProperty(J)||F===V||F==null&&V==null||We(o,a,J,F,h,V)}var pp=null,mp=null;function vc(o){return o.nodeType===9?o:o.ownerDocument}function bx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xx(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function gp(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vp=null;function GA(){var o=window.event;return o&&o.type==="popstate"?o===vp?!1:(vp=o,!0):(vp=null,!1)}var Sx=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,wx=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof wx<"u"?function(o){return wx.resolve(null).then(o).catch(KA)}:Sx;function KA(o){setTimeout(function(){throw o})}function yp(o,a){var c=a,h=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){o.removeChild(g),ds(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);ds(a)}function bp(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":bp(c),Td(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function XA(o,a,c,h){for(;o.nodeType===1;){var g=c;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[ba])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(x=o.getAttribute("rel"),x==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(x!==g.rel||o.getAttribute("href")!==(g.href==null?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(x=o.getAttribute("src"),(x!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===x)return o}else return o;if(o=Xn(o.nextSibling),o===null)break}return null}function QA(o,a,c){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Xn(o.nextSibling),o===null))return null;return o}function Xn(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}function Ex(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}function Cx(o,a,c){switch(a=vc(c),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}var jn=new Map,Ox=new Set;function yc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var Fr=te.d;te.d={f:JA,r:ZA,D:eN,C:tN,L:nN,m:rN,X:oN,S:iN,M:lN};function JA(){var o=Fr.f(),a=cc();return o||a}function ZA(o){var a=Zo(o);a!==null&&a.tag===5&&a.type==="form"?Jb(a):Fr.r(o)}var Nl=typeof document>"u"?null:document;function Tx(o,a,c){var h=Nl;if(h&&typeof a=="string"&&a){var g=Mn(a);g='link[rel="'+o+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Ox.has(g)||(Ox.add(g),o={rel:o,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Nt(a,"link",o),yt(a),h.head.appendChild(a)))}}function eN(o){Fr.D(o),Tx("dns-prefetch",o,null)}function tN(o,a){Fr.C(o,a),Tx("preconnect",o,a)}function nN(o,a,c){Fr.L(o,a,c);var h=Nl;if(h&&o&&a){var g='link[rel="preload"][as="'+Mn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Mn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Mn(c.imageSizes)+'"]')):g+='[href="'+Mn(o)+'"]';var x=g;switch(a){case"style":x=Rl(o);break;case"script":x=kl(o)}jn.has(x)||(o=W({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:o,as:a},c),jn.set(x,o),h.querySelector(g)!==null||a==="style"&&h.querySelector(is(x))||a==="script"&&h.querySelector(ls(x))||(a=h.createElement("link"),Nt(a,"link",o),yt(a),h.head.appendChild(a)))}}function rN(o,a){Fr.m(o,a);var c=Nl;if(c&&o){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Mn(h)+'"][href="'+Mn(o)+'"]',x=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=kl(o)}if(!jn.has(x)&&(o=W({rel:"modulepreload",href:o},a),jn.set(x,o),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ls(x)))return}h=c.createElement("link"),Nt(h,"link",o),yt(h),c.head.appendChild(h)}}}function iN(o,a,c){Fr.S(o,a,c);var h=Nl;if(h&&o){var g=el(h).hoistableStyles,x=Rl(o);a=a||"default";var O=g.get(x);if(!O){var N={loading:0,preload:null};if(O=h.querySelector(is(x)))N.loading=5;else{o=W({rel:"stylesheet",href:o,"data-precedence":a},c),(c=jn.get(x))&&xp(o,c);var k=O=h.createElement("link");yt(k),Nt(k,"link",o),k._p=new Promise(function(j,G){k.onload=j,k.onerror=G}),k.addEventListener("load",function(){N.loading|=1}),k.addEventListener("error",function(){N.loading|=2}),N.loading|=4,bc(O,a,h)}O={type:"stylesheet",instance:O,count:1,state:N},g.set(x,O)}}}function oN(o,a){Fr.X(o,a);var c=Nl;if(c&&o){var h=el(c).hoistableScripts,g=kl(o),x=h.get(g);x||(x=c.querySelector(ls(g)),x||(o=W({src:o,async:!0},a),(a=jn.get(g))&&Sp(o,a),x=c.createElement("script"),yt(x),Nt(x,"link",o),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function lN(o,a){Fr.M(o,a);var c=Nl;if(c&&o){var h=el(c).hoistableScripts,g=kl(o),x=h.get(g);x||(x=c.querySelector(ls(g)),x||(o=W({src:o,async:!0,type:"module"},a),(a=jn.get(g))&&Sp(o,a),x=c.createElement("script"),yt(x),Nt(x,"link",o),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function Mx(o,a,c,h){var g=(g=Fe.current)?yc(g):null;if(!g)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Rl(c.href),c=el(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=Rl(c.href);var x=el(g).hoistableStyles,O=x.get(o);if(O||(g=g.ownerDocument||g,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(o,O),(x=g.querySelector(is(o)))&&!x._p&&(O.instance=x,O.state.loading=5),jn.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},jn.set(o,c),x||aN(g,o,c,O.state))),a&&h===null)throw Error(r(528,""));return O}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=kl(c),c=el(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Rl(o){return'href="'+Mn(o)+'"'}function is(o){return'link[rel="stylesheet"]['+o+"]"}function Dx(o){return W({},o,{"data-precedence":o.precedence,precedence:null})}function aN(o,a,c,h){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=o.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Nt(a,"link",c),yt(a),o.head.appendChild(a))}function kl(o){return'[src="'+Mn(o)+'"]'}function ls(o){return"script[async]"+o}function Ax(o,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=o.querySelector('style[data-href~="'+Mn(c.href)+'"]');if(h)return a.instance=h,yt(h),h;var g=W({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),yt(h),Nt(h,"style",g),bc(h,c.precedence,o),a.instance=h;case"stylesheet":g=Rl(c.href);var x=o.querySelector(is(g));if(x)return a.state.loading|=4,a.instance=x,yt(x),x;h=Dx(c),(g=jn.get(g))&&xp(h,g),x=(o.ownerDocument||o).createElement("link"),yt(x);var O=x;return O._p=new Promise(function(N,k){O.onload=N,O.onerror=k}),Nt(x,"link",h),a.state.loading|=4,bc(x,c.precedence,o),a.instance=x;case"script":return x=kl(c.src),(g=o.querySelector(ls(x)))?(a.instance=g,yt(g),g):(h=c,(g=jn.get(x))&&(h=W({},c),Sp(h,g)),o=o.ownerDocument||o,g=o.createElement("script"),yt(g),Nt(g,"link",h),o.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(h=a.instance,a.state.loading|=4,bc(h,c.precedence,o));return a.instance}function bc(o,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,x=g,O=0;O<h.length;O++){var N=h[O];if(N.dataset.precedence===a)x=N;else if(x!==g)break}x?x.parentNode.insertBefore(o,x.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(o,a.firstChild))}function xp(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Sp(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var xc=null;function Nx(o,a,c){if(xc===null){var h=new Map,g=xc=new Map;g.set(c,h)}else g=xc,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(o))return h;for(h.set(o,null),c=c.getElementsByTagName(o),g=0;g<c.length;g++){var x=c[g];if(!(x[ba]||x[Lt]||o==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(a)||"";O=o+O;var N=h.get(O);N?N.push(x):h.set(O,[x])}}return h}function Rx(o,a,c){o=o.ownerDocument||o,o.head.insertBefore(c,a==="title"?o.querySelector("head > title"):null)}function sN(o,a,c){if(c===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function kx(o){return!(o.type==="stylesheet"&&!(o.state.loading&3))}var as=null;function uN(){}function cN(o,a,c){if(as===null)throw Error(r(475));var h=as;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var g=Rl(c.href),x=o.querySelector(is(g));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(h.count++,h=Sc.bind(h),o.then(h,h)),a.state.loading|=4,a.instance=x,yt(x);return}x=o.ownerDocument||o,c=Dx(c),(g=jn.get(g))&&xp(c,g),x=x.createElement("link"),yt(x);var O=x;O._p=new Promise(function(N,k){O.onload=N,O.onerror=k}),Nt(x,"link",c),a.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,o),(o=a.state.preload)&&!(a.state.loading&3)&&(h.count++,a=Sc.bind(h),o.addEventListener("load",a),o.addEventListener("error",a))}}function fN(){if(as===null)throw Error(r(475));var o=as;return o.stylesheets&&o.count===0&&wp(o,o.stylesheets),0<o.count?function(a){var c=setTimeout(function(){if(o.stylesheets&&wp(o,o.stylesheets),o.unsuspend){var h=o.unsuspend;o.unsuspend=null,h()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(c)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var wc=null;function wp(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,wc=new Map,a.forEach(dN,o),wc=null,Sc.call(o))}function dN(o,a){if(!(a.state.loading&4)){var c=wc.get(o);if(c)var h=c.get(null);else{c=new Map,wc.set(o,c);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var O=g[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}g=a.instance,O=g.getAttribute("data-precedence"),x=c.get(O)||h,x===h&&c.set(null,g),c.set(O,g),this.count++,h=Sc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),x?x.parentNode.insertBefore(g,x.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),a.state.loading|=4}}var ss={$$typeof:y,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function hN(o,a,c,h,g,x,O,N){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.hiddenUpdates=Cd(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ix(o,a,c,h,g,x,O,N,k,j,G,J){return o=new hN(o,a,c,O,N,k,j,J),a=1,x===!0&&(a|=24),x=Pn(3,null,null,a),o.current=x,x.stateNode=o,a=eh(),a.refCount++,o.pooledCache=a,a.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:a},Bh(x),o}function Bx(o){return o?(o=cl,o):cl}function Px(o,a,c,h,g,x){g=Bx(g),h.context===null?h.context=g:h.pendingContext=g,h=ui(a),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=ci(o,h,a),c!==null&&(Gt(c,o,a),Va(c,o,a))}function Lx(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Ep(o,a){Lx(o,a),(o=o.alternate)&&Lx(o,a)}function jx(o){if(o.tag===13){var a=ni(o,67108864);a!==null&&Gt(a,o,67108864),Ep(o,67108864)}}var Ec=!0;function pN(o,a,c,h){var g=L.T;L.T=null;var x=te.p;try{te.p=2,Cp(o,a,c,h)}finally{te.p=x,L.T=g}}function mN(o,a,c,h){var g=L.T;L.T=null;var x=te.p;try{te.p=8,Cp(o,a,c,h)}finally{te.p=x,L.T=g}}function Cp(o,a,c,h){if(Ec){var g=Op(h);if(g===null)dp(o,a,h,Cc,c),Hx(o,h);else if(vN(g,o,a,c,h))h.stopPropagation();else if(Hx(o,h),a&4&&-1<gN.indexOf(o)){for(;g!==null;){var x=Zo(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Ji(x.pendingLanes);if(O!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;O;){var k=1<<31-cn(O);N.entanglements[1]|=k,O&=~k}dr(x),!(nt&6)&&(ac=ar()+500,ts(0))}}break;case 13:N=ni(x,2),N!==null&&Gt(N,x,2),cc(),Ep(x,2)}if(x=Op(h),x===null&&dp(o,a,h,Cc,c),x===g)break;g=x}g!==null&&h.stopPropagation()}else dp(o,a,h,null,c)}}function Op(o){return o=Rd(o),Tp(o)}var Cc=null;function Tp(o){if(Cc=null,o=Zi(o),o!==null){var a=ee(o);if(a===null)o=null;else{var c=a.tag;if(c===13){if(o=ue(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Cc=o,null}function zx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tD()){case sy:return 2;case uy:return 8;case bu:case nD:return 32;case cy:return 268435456;default:return 32}default:return 32}}var Mp=!1,vi=null,yi=null,bi=null,us=new Map,cs=new Map,xi=[],gN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hx(o,a){switch(o){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(a.pointerId)}}function fs(o,a,c,h,g,x){return o===null||o.nativeEvent!==x?(o={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[g]},a!==null&&(a=Zo(a),a!==null&&jx(a)),o):(o.eventSystemFlags|=h,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function vN(o,a,c,h,g){switch(a){case"focusin":return vi=fs(vi,o,a,c,h,g),!0;case"dragenter":return yi=fs(yi,o,a,c,h,g),!0;case"mouseover":return bi=fs(bi,o,a,c,h,g),!0;case"pointerover":var x=g.pointerId;return us.set(x,fs(us.get(x)||null,o,a,c,h,g)),!0;case"gotpointercapture":return x=g.pointerId,cs.set(x,fs(cs.get(x)||null,o,a,c,h,g)),!0}return!1}function $x(o){var a=Zi(o.target);if(a!==null){var c=ee(a);if(c!==null){if(a=c.tag,a===13){if(a=ue(c),a!==null){o.blockedOn=a,fD(o.priority,function(){if(c.tag===13){var h=mn(),g=ni(c,h);g!==null&&Gt(g,c,h),Ep(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Oc(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Op(o.nativeEvent);if(c===null){c=o.nativeEvent;var h=new c.constructor(c.type,c);Nd=h,c.target.dispatchEvent(h),Nd=null}else return a=Zo(c),a!==null&&jx(a),o.blockedOn=c,!1;a.shift()}return!0}function Fx(o,a,c){Oc(o)&&c.delete(a)}function yN(){Mp=!1,vi!==null&&Oc(vi)&&(vi=null),yi!==null&&Oc(yi)&&(yi=null),bi!==null&&Oc(bi)&&(bi=null),us.forEach(Fx),cs.forEach(Fx)}function Tc(o,a){o.blockedOn===a&&(o.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yN)))}var Mc=null;function _x(o){Mc!==o&&(Mc=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mc===o&&(Mc=null);for(var a=0;a<o.length;a+=3){var c=o[a],h=o[a+1],g=o[a+2];if(typeof h!="function"){if(Tp(h||c)===null)continue;break}var x=Zo(c);x!==null&&(o.splice(a,3),a-=3,gh(x,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function ds(o){function a(k){return Tc(k,o)}vi!==null&&Tc(vi,o),yi!==null&&Tc(yi,o),bi!==null&&Tc(bi,o),us.forEach(a),cs.forEach(a);for(var c=0;c<xi.length;c++){var h=xi[c];h.blockedOn===o&&(h.blockedOn=null)}for(;0<xi.length&&(c=xi[0],c.blockedOn===null);)$x(c),c.blockedOn===null&&xi.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],x=c[h+1],O=g[tn]||null;if(typeof x=="function")O||_x(c);else if(O){var N=null;if(x&&x.hasAttribute("formAction")){if(g=x,O=x[tn]||null)N=O.formAction;else if(Tp(g)!==null)continue}else N=O.action;typeof N=="function"?c[h+1]=N:(c.splice(h,3),h-=3),_x(c)}}}function Dp(o){this._internalRoot=o}Dc.prototype.render=Dp.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,h=mn();Px(c,h,o,a,null,null)},Dc.prototype.unmount=Dp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;o.tag===0&&Ml(),Px(o.current,2,null,o,null,null),cc(),a[Jo]=null}};function Dc(o){this._internalRoot=o}Dc.prototype.unstable_scheduleHydration=function(o){if(o){var a=gy();o={blockedOn:null,target:o,priority:a};for(var c=0;c<xi.length&&a!==0&&a<xi[c].priority;c++);xi.splice(c,0,o),c===0&&$x(o)}};var Ux=e.version;if(Ux!=="19.0.0")throw Error(r(527,Ux,"19.0.0"));te.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=K(a),o=o!==null?ie(o):null,o=o===null?null:o.stateNode,o};var bN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:Zi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{ga=Ac.inject(bN),un=Ac}catch{}}return ps.createRoot=function(o,a){if(!i(o))throw Error(r(299));var c=!1,h="",g=l0,x=a0,O=s0,N=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=Ix(o,1,!1,null,null,c,h,g,x,O,N,null),o[Jo]=a.current,fp(o.nodeType===8?o.parentNode:o),new Dp(a)},ps.hydrateRoot=function(o,a,c){if(!i(o))throw Error(r(299));var h=!1,g="",x=l0,O=a0,N=s0,k=null,j=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(k=c.unstable_transitionCallbacks),c.formState!==void 0&&(j=c.formState)),a=Ix(o,1,!0,a,c??null,h,g,x,O,N,k,j),a.context=Bx(null),c=a.current,h=mn(),g=ui(h),g.callback=null,ci(c,g,h),a.current.lanes=h,ya(a,h),dr(a),o[Jo]=a.current,fp(o),new Dc(a)},ps.version="19.0.0",ps}var Zx;function AN(){if(Zx)return Rp.exports;Zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rp.exports=DN(),Rp.exports}var NN=AN(),ms={},eS;function RN(){if(eS)return ms;eS=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.parse=s,ms.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const b=new l,S=v.length;if(S<2)return b;const w=(y==null?void 0:y.decode)||p;let C=0;do{const T=v.indexOf("=",C);if(T===-1)break;const M=v.indexOf(";",C),R=M===-1?S:M;if(T>R){C=v.lastIndexOf(";",T-1)+1;continue}const A=u(v,C,T),I=f(v,T,A),z=v.slice(A,I);if(b[z]===void 0){let U=u(v,T+1,R),L=f(v,R,U);const W=w(v.slice(U,L));b[z]=W}C=R+1}while(C<S);return b}function u(v,y,b){do{const S=v.charCodeAt(y);if(S!==32&&S!==9)return y}while(++y<b);return b}function f(v,y,b){for(;y>b;){const S=v.charCodeAt(--y);if(S!==32&&S!==9)return y+1}return b}function d(v,y,b){const S=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const w=S(y);if(!e.test(w))throw new TypeError(`argument val is invalid: ${y}`);let C=v+"="+w;if(!b)return C;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);C+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);C+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);C+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);C+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(C+="; HttpOnly"),b.secure&&(C+="; Secure"),b.partitioned&&(C+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return C}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return i.call(v)==="[object Date]"}return ms}RN();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tS="popstate";function kN(t={}){function e(r,i){let{pathname:l,search:s,hash:u}=r.location;return zm("",{pathname:l,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bs(i)}return BN(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function er(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function nS(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||r||IN()}}function Bs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function BN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,s=i.history,u="POP",f=null,d=p();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function p(){return(s.state||{idx:null}).idx}function m(){u="POP";let w=p(),C=w==null?null:w-d;d=w,f&&f({action:u,location:S.location,delta:C})}function v(w,C){u="PUSH";let T=zm(S.location,w,C);d=p()+1;let M=nS(T,d),R=S.createHref(T);try{s.pushState(M,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(R)}l&&f&&f({action:u,location:S.location,delta:1})}function y(w,C){u="REPLACE";let T=zm(S.location,w,C);d=p();let M=nS(T,d),R=S.createHref(T);s.replaceState(M,"",R),l&&f&&f({action:u,location:S.location,delta:0})}function b(w){let C=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof w=="string"?w:Bs(w);return T=T.replace(/ $/,"%20"),et(C,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,C)}let S={get action(){return u},get location(){return t(i,s)},listen(w){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(tS,m),f=w,()=>{i.removeEventListener(tS,m),f=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let C=b(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:y,go(w){return s.go(w)}};return S}function oE(t,e,n="/"){return PN(t,e,n,!1)}function PN(t,e,n,r){let i=typeof e=="string"?ia(e):e,l=ji(i.pathname||"/",n);if(l==null)return null;let s=lE(t);LN(s);let u=null;for(let f=0;u==null&&f<s.length;++f){let d=WN(l);u=qN(s[f],d,r)}return u}function lE(t,e=[],n=[],r=""){let i=(l,s,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=qr([r,f.relativePath]),p=n.concat(f);l.children&&l.children.length>0&&(et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lE(l.children,e,p,d)),!(l.path==null&&!l.index)&&e.push({path:d,score:UN(d,l.index),routesMeta:p})};return t.forEach((l,s)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,s);else for(let f of aE(l.path))i(l,s,f)}),e}function aE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let s=aE(r.join("/")),u=[];return u.push(...s.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...s),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function LN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jN=/^:[\w-]+$/,zN=3,HN=2,$N=1,FN=10,_N=-2,rS=t=>t==="*";function UN(t,e){let n=t.split("/"),r=n.length;return n.some(rS)&&(r+=_N),e&&(r+=HN),n.filter(i=>!rS(i)).reduce((i,l)=>i+(jN.test(l)?zN:l===""?$N:FN),r)}function VN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qN(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",s=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",m=ef({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),v=f.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=ef({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:qr([l,m.pathname]),pathnameBase:QN(qr([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=qr([l,m.pathnameBase]))}return s}function ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],s=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:m},v)=>{if(p==="*"){let b=u[v]||"";s=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const y=u[v];return m&&!y?d[p]=void 0:d[p]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:s,pattern:t}}function GN(t,e=!1,n=!0){er(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YN(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ia(t):t;return{pathname:n?n.startsWith("/")?n:KN(n,e):e,search:JN(r),hash:ZN(i)}}function KN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kg(t){let e=XN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ig(t,e,n,r=!1){let i;typeof t=="string"?i=ia(t):(i={...t},et(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let l=t===""||i.pathname==="",s=l?"/":i.pathname,u;if(s==null)u=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?e[m]:"/"}let f=YN(i,u),d=s&&s!=="/"&&s.endsWith("/"),p=(l||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var qr=t=>t.join("/").replace(/\/\/+/g,"/"),QN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sE=["POST","PUT","PATCH","DELETE"];new Set(sE);var tR=["GET",...sE];new Set(tR);var oa=E.createContext(null);oa.displayName="DataRouter";var _f=E.createContext(null);_f.displayName="DataRouterState";var uE=E.createContext({isTransitioning:!1});uE.displayName="ViewTransition";var nR=E.createContext(new Map);nR.displayName="Fetchers";var rR=E.createContext(null);rR.displayName="Await";var ir=E.createContext(null);ir.displayName="Navigation";var nu=E.createContext(null);nu.displayName="Location";var or=E.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Bg=E.createContext(null);Bg.displayName="RouteError";function iR(t,{relative:e}={}){et(la(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ir),{hash:i,pathname:l,search:s}=ru(t,{relative:e}),u=l;return n!=="/"&&(u=l==="/"?n:qr([n,l])),r.createHref({pathname:u,search:s,hash:i})}function la(){return E.useContext(nu)!=null}function Vi(){return et(la(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(nu).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fE(t){E.useContext(ir).static||E.useLayoutEffect(t)}function qi(){let{isDataRoute:t}=E.useContext(or);return t?vR():oR()}function oR(){et(la(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(oa),{basename:e,navigator:n}=E.useContext(ir),{matches:r}=E.useContext(or),{pathname:i}=Vi(),l=JSON.stringify(kg(r)),s=E.useRef(!1);return fE(()=>{s.current=!0}),E.useCallback((f,d={})=>{if(er(s.current,cE),!s.current)return;if(typeof f=="number"){n.go(f);return}let p=Ig(f,JSON.parse(l),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qr([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,l,i,t])}E.createContext(null);function dE(){let{matches:t}=E.useContext(or),e=t[t.length-1];return e?e.params:{}}function ru(t,{relative:e}={}){let{matches:n}=E.useContext(or),{pathname:r}=Vi(),i=JSON.stringify(kg(n));return E.useMemo(()=>Ig(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function lR(t,e){return hE(t,e)}function hE(t,e,n,r){var T;et(la(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=E.useContext(ir),{matches:s}=E.useContext(or),u=s[s.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let M=m&&m.path||"";pE(d,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=Vi(),y;if(e){let M=typeof e=="string"?ia(e):e;et(p==="/"||((T=M.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),y=M}else y=v;let b=y.pathname||"/",S=b;if(p!=="/"){let M=p.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=!l&&n&&n.matches&&n.matches.length>0?n.matches:oE(t,{pathname:S});er(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),er(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=fR(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:qr([p,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:qr([p,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r);return e&&C?E.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function aR(){let t=gR(),e=eR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}var sR=E.createElement(aR,null),uR=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(or.Provider,{value:this.props.routeContext},E.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cR({routeContext:t,match:e,children:n}){let r=E.useContext(oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(or.Provider,{value:t},n)}function fR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let f=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let s=!1,u=-1;if(n)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:m}=n,v=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,p)=>{let m,v=!1,y=null,b=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||sR,s&&(u<0&&p===0?(pE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):u===p&&(v=!0,b=d.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),w=()=>{let C;return m?C=y:v?C=b:d.route.Component?C=E.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=f,E.createElement(cR,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?E.createElement(uR,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}function Pg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(t){let e=E.useContext(oa);return et(e,Pg(t)),e}function hR(t){let e=E.useContext(_f);return et(e,Pg(t)),e}function pR(t){let e=E.useContext(or);return et(e,Pg(t)),e}function Lg(t){let e=pR(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mR(){return Lg("useRouteId")}function gR(){var r;let t=E.useContext(Bg),e=hR("useRouteError"),n=Lg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function vR(){let{router:t}=dR("useNavigate"),e=Lg("useNavigate"),n=E.useRef(!1);return fE(()=>{n.current=!0}),E.useCallback(async(i,l={})=>{er(n.current,cE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var iS={};function pE(t,e,n){!e&&!iS[t]&&(iS[t]=!0,er(!1,n))}E.memo(yR);function yR({routes:t,future:e,state:n}){return hE(t,void 0,n,e)}function bR({to:t,replace:e,state:n,relative:r}){et(la(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(ir);er(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=E.useContext(or),{pathname:s}=Vi(),u=qi(),f=Ig(t,kg(l),s,r==="path"),d=JSON.stringify(f);return E.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function Hn(t){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){et(!la(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:s,navigator:i,static:l,future:{}}),[s,i,l]);typeof n=="string"&&(n=ia(n));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:v="default"}=n,y=E.useMemo(()=>{let b=ji(f,s);return b==null?null:{location:{pathname:b,search:d,hash:p,state:m,key:v},navigationType:r}},[s,f,d,p,m,v,r]);return er(y!=null,`<Router basename="${s}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(ir.Provider,{value:u},E.createElement(nu.Provider,{children:e,value:y}))}function SR({children:t,location:e}){return lR(Hm(t),e)}function Hm(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let l=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Hm(r.props.children,l));return}et(r.type===Hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Hm(r.props.children,l)),n.push(s)}),n}var qc="get",Gc="application/x-www-form-urlencoded";function Uf(t){return t!=null&&typeof t.tagName=="string"}function wR(t){return Uf(t)&&t.tagName.toLowerCase()==="button"}function ER(t){return Uf(t)&&t.tagName.toLowerCase()==="form"}function CR(t){return Uf(t)&&t.tagName.toLowerCase()==="input"}function OR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TR(t,e){return t.button===0&&(!e||e==="_self")&&!OR(t)}var Nc=null;function MR(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var DR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(t){return t!=null&&!DR.has(t)?(er(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):t}function AR(t,e){let n,r,i,l,s;if(ER(t)){let u=t.getAttribute("action");r=u?ji(u,e):null,n=t.getAttribute("method")||qc,i=Lp(t.getAttribute("enctype"))||Gc,l=new FormData(t)}else if(wR(t)||CR(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?ji(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||qc,i=Lp(t.getAttribute("formenctype"))||Lp(u.getAttribute("enctype"))||Gc,l=new FormData(u,t),!MR()){let{name:d,type:p,value:m}=t;if(p==="image"){let v=d?`${d}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else d&&l.append(d,m)}}else{if(Uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,r=null,i=Gc,s=t}return l&&i==="text/plain"&&(s=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:s}}function jg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function NR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kR(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let s=await NR(l,n);return s.links?s.links():[]}return[]}));return LR(r.flat(1).filter(RR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oS(t,e,n,r,i,l){let s=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>{var p;return n[d].pathname!==f.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,d)=>s(f,d)||u(f,d)):l==="data"?e.filter((f,d)=>{var m;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(s(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function IR(t,e,{includeHydrateFallback:n}={}){return BR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function BR(t){return[...new Set(t)]}function PR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(PR(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function jR(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function zR(){let t=E.useContext(oa);return jg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HR(){let t=E.useContext(_f);return jg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zg=E.createContext(void 0);zg.displayName="FrameworkContext";function mE(){let t=E.useContext(zg);return jg(t,"You must render this element inside a <HydratedRouter> element"),t}function $R(t,e){let n=E.useContext(zg),[r,i]=E.useState(!1),[l,s]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:m}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=C=>{C.forEach(T=>{s(T.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[t]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:gs(u,y),onBlur:gs(f,b),onMouseEnter:gs(d,y),onMouseLeave:gs(p,b),onTouchStart:gs(m,y)}]:[!1,v,{}]}function gs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FR({page:t,...e}){let{router:n}=zR(),r=E.useMemo(()=>oE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(UR,{page:t,matches:r,...e}):null}function _R(t){let{manifest:e,routeModules:n}=mE(),[r,i]=E.useState([]);return E.useEffect(()=>{let l=!1;return kR(t,e,n).then(s=>{l||i(s)}),()=>{l=!0}},[t,e,n]),r}function UR({page:t,matches:e,...n}){let r=Vi(),{manifest:i,routeModules:l}=mE(),{loaderData:s,matches:u}=HR(),f=E.useMemo(()=>oS(t,e,u,i,r,"data"),[t,e,u,i,r]),d=E.useMemo(()=>oS(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,b=!1;if(e.forEach(w=>{var T;let C=i.routes[w.route.id];!C||!C.hasLoader||(!f.some(M=>M.route.id===w.route.id)&&w.route.id in s&&((T=l[w.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?b=!0:y.add(w.route.id))}),y.size===0)return[];let S=jR(t);return b&&y.size>0&&S.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[s,r,i,f,e,t,l]),m=E.useMemo(()=>IR(d,i),[d,i]),v=_R(d);return E.createElement(E.Fragment,null,p.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:b})=>E.createElement("link",{key:y,...b})))}function VR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gE&&(window.__reactRouterVersion="7.2.0")}catch{}function qR({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=kN({window:n,v5Compat:!0}));let i=r.current,[l,s]=E.useState({action:i.action,location:i.location}),u=E.useCallback(f=>{E.startTransition(()=>s(f))},[s]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(xR,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var vE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:s,state:u,target:f,to:d,preventScrollReset:p,viewTransition:m,...v},y){let{basename:b}=E.useContext(ir),S=typeof d=="string"&&vE.test(d),w,C=!1;if(typeof d=="string"&&S&&(w=d,gE))try{let L=new URL(window.location.href),W=d.startsWith("//")?new URL(L.protocol+d):new URL(d),q=ji(W.pathname,b);W.origin===L.origin&&q!=null?d=q+W.search+W.hash:C=!0}catch{er(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=iR(d,{relative:i}),[M,R,A]=$R(r,v),I=KR(d,{replace:s,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:m});function z(L){e&&e(L),L.defaultPrevented||I(L)}let U=E.createElement("a",{...v,...A,href:w||T,onClick:C||l?e:z,ref:VR(y,R),target:f,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?E.createElement(E.Fragment,null,U,E.createElement(FR,{page:T})):U});gn.displayName="Link";var GR=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:s,viewTransition:u,children:f,...d},p){let m=ru(s,{relative:d.relative}),v=Vi(),y=E.useContext(_f),{navigator:b,basename:S}=E.useContext(ir),w=y!=null&&ek(m)&&u===!0,C=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,T=v.pathname,M=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(T=T.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&S&&(M=ji(M,S)||M);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=T===C||!i&&T.startsWith(C)&&T.charAt(R)==="/",I=M!=null&&(M===C||!i&&M.startsWith(C)&&M.charAt(C.length)==="/"),z={isActive:A,isPending:I,isTransitioning:w},U=A?e:void 0,L;typeof r=="function"?L=r(z):L=[r,A?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(z):l;return E.createElement(gn,{...d,"aria-current":U,className:L,ref:p,style:W,to:s,viewTransition:u},typeof f=="function"?f(z):f)});GR.displayName="NavLink";var WR=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:s=qc,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:m,...v},y)=>{let b=JR(),S=ZR(u,{relative:d}),w=s.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&vE.test(u),T=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let R=M.nativeEvent.submitter,A=(R==null?void 0:R.getAttribute("formmethod"))||s;b(R||M.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:l,relative:d,preventScrollReset:p,viewTransition:m})};return E.createElement("form",{ref:y,method:w,action:S,onSubmit:r?f:T,...v,"data-discover":!C&&t==="render"?"true":void 0})});WR.displayName="Form";function YR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yE(t){let e=E.useContext(oa);return et(e,YR(t)),e}function KR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:s}={}){let u=qi(),f=Vi(),d=ru(t,{relative:l});return E.useCallback(p=>{if(TR(p,e)){p.preventDefault();let m=n!==void 0?n:Bs(f)===Bs(d);u(t,{replace:m,state:r,preventScrollReset:i,relative:l,viewTransition:s})}},[f,u,d,n,r,e,t,i,l,s])}var XR=0,QR=()=>`__${String(++XR)}__`;function JR(){let{router:t}=yE("useSubmit"),{basename:e}=E.useContext(ir),n=mR();return E.useCallback(async(r,i={})=>{let{action:l,method:s,encType:u,formData:f,body:d}=AR(r,e);if(i.navigate===!1){let p=i.fetcherKey||QR();await t.fetch(p,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZR(t,{relative:e}={}){let{basename:n}=E.useContext(ir),r=E.useContext(or);et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...ru(t||".",{relative:e})},s=Vi();if(t==null){l.search=s.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qr([n,l.pathname])),Bs(l)}function ek(t,e={}){let n=E.useContext(uE);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yE("useViewTransitionState"),i=ru(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ef(i.pathname,s)!=null||ef(i.pathname,l)!=null}new TextEncoder;var at=iE();const bE=Rg(at);var jp={exports:{}},zp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function tk(){if(lS)return zp;lS=1;var t=Ff();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,l=t.useEffect,s=t.useMemo,u=t.useDebugValue;return zp.useSyncExternalStoreWithSelector=function(f,d,p,m,v){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=s(function(){function w(A){if(!C){if(C=!0,T=A,A=m(A),v!==void 0&&b.hasValue){var I=b.value;if(v(I,A))return M=I}return M=A}if(I=M,n(T,A))return I;var z=m(A);return v!==void 0&&v(I,z)?(T=A,I):(T=A,M=z)}var C=!1,T,M,R=p===void 0?null:p;return[function(){return w(d())},R===null?void 0:function(){return w(R())}]},[d,p,m,v]);var S=r(f,y[0],y[1]);return l(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},zp}var aS;function nk(){return aS||(aS=1,jp.exports=tk()),jp.exports}var rk=nk();function ik(t){t()}function ok(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ik(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var sS={notify(){},get:()=>[]};function lk(t,e){let n,r=sS,i=0,l=!1;function s(S){p();const w=r.subscribe(S);let C=!1;return()=>{C||(C=!0,w(),m())}}function u(){r.notify()}function f(){b.onStateChange&&b.onStateChange()}function d(){return l}function p(){i++,n||(n=t.subscribe(f),r=ok())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sS)}function v(){l||(l=!0,p())}function y(){l&&(l=!1,m())}const b={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return b}var ak=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=ak(),uk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ck=uk(),fk=()=>sk||ck?E.useLayoutEffect:E.useEffect,dk=fk(),Hp=Symbol.for("react-redux-context"),$p=typeof globalThis<"u"?globalThis:{};function hk(){if(!E.createContext)return{};const t=$p[Hp]??($p[Hp]=new Map);let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var zi=hk();function pk(t){const{children:e,context:n,serverState:r,store:i}=t,l=E.useMemo(()=>{const f=lk(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),s=E.useMemo(()=>i.getState(),[i]);dk(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),s!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,s]);const u=n||zi;return E.createElement(u.Provider,{value:l},e)}var mk=pk;function Hg(t=zi){return function(){return E.useContext(t)}}var xE=Hg();function SE(t=zi){const e=t===zi?xE:Hg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var gk=SE();function vk(t=zi){const e=t===zi?gk:SE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var yk=vk(),bk=(t,e)=>t===e;function xk(t=zi){const e=t===zi?xE:Hg(t),n=(r,i={})=>{const{equalityFn:l=bk}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:u,subscription:f,getServerState:d}=s;E.useRef(!0);const p=E.useCallback({[r.name](v){return r(v)}}[r.name],[r]),m=rk.useSyncExternalStoreWithSelector(f.addNestedSub,u.getState,d||u.getState,p,l);return E.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var wE=xk();function Rt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Sk=typeof Symbol=="function"&&Symbol.observable||"@@observable",uS=Sk,Fp=()=>Math.random().toString(36).substring(7).split("").join("."),wk={INIT:`@@redux/INIT${Fp()}`,REPLACE:`@@redux/REPLACE${Fp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fp()}`},tf=wk;function $g(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function EE(t,e,n){if(typeof t!="function")throw new Error(Rt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rt(1));return n(EE)(t,e)}let r=t,i=e,l=new Map,s=l,u=0,f=!1;function d(){s===l&&(s=new Map,l.forEach((w,C)=>{s.set(C,w)}))}function p(){if(f)throw new Error(Rt(3));return i}function m(w){if(typeof w!="function")throw new Error(Rt(4));if(f)throw new Error(Rt(5));let C=!0;d();const T=u++;return s.set(T,w),function(){if(C){if(f)throw new Error(Rt(6));C=!1,d(),s.delete(T),l=null}}}function v(w){if(!$g(w))throw new Error(Rt(7));if(typeof w.type>"u")throw new Error(Rt(8));if(typeof w.type!="string")throw new Error(Rt(17));if(f)throw new Error(Rt(9));try{f=!0,i=r(i,w)}finally{f=!1}return(l=s).forEach(T=>{T()}),w}function y(w){if(typeof w!="function")throw new Error(Rt(10));r=w,v({type:tf.REPLACE})}function b(){const w=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Rt(11));function T(){const R=C;R.next&&R.next(p())}return T(),{unsubscribe:w(T)}},[uS](){return this}}}return v({type:tf.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:y,[uS]:b}}function Ek(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:tf.INIT})>"u")throw new Error(Rt(12));if(typeof n(void 0,{type:tf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function Ck(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const s=e[l];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Ek(n)}catch(l){i=l}return function(s={},u){if(i)throw i;let f=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],y=s[m],b=v(y,u);if(typeof b>"u")throw u&&u.type,new Error(Rt(14));d[m]=b,f=f||b!==y}return f=f||r.length!==Object.keys(s).length,f?d:s}}function nf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Ok(...t){return e=>(n,r)=>{const i=e(n,r);let l=()=>{throw new Error(Rt(15))};const s={getState:i.getState,dispatch:(f,...d)=>l(f,...d)},u=t.map(f=>f(s));return l=nf(...u)(i.dispatch),{...i,dispatch:l}}}function Tk(t){return $g(t)&&"type"in t&&typeof t.type=="string"}var CE=Symbol.for("immer-nothing"),cS=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function Qn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wl=Object.getPrototypeOf;function $o(t){return!!t&&!!t[En]}function Kr(t){var e;return t?OE(t)||Array.isArray(t)||!!t[cS]||!!((e=t.constructor)!=null&&e[cS])||qf(t)||Gf(t):!1}var Mk=Object.prototype.constructor.toString();function OE(t){if(!t||typeof t!="object")return!1;const e=Wl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Mk}function rf(t,e){Vf(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Vf(t){const e=t[En];return e?e.type_:Array.isArray(t)?1:qf(t)?2:Gf(t)?3:0}function $m(t,e){return Vf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TE(t,e,n){const r=Vf(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Dk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qf(t){return t instanceof Map}function Gf(t){return t instanceof Set}function wo(t){return t.copy_||t.base_}function Fm(t,e){if(qf(t))return new Map(t);if(Gf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=OE(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[En];let i=Reflect.ownKeys(r);for(let l=0;l<i.length;l++){const s=i[l],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Wl(t),r)}else{const r=Wl(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Fg(t,e=!1){return Wf(t)||$o(t)||!Kr(t)||(Vf(t)>1&&(t.set=t.add=t.clear=t.delete=Ak),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Fg(r,!0))),t}function Ak(){Qn(2)}function Wf(t){return Object.isFrozen(t)}var Nk={};function Fo(t){const e=Nk[t];return e||Qn(0,t),e}var Ps;function ME(){return Ps}function Rk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fS(t,e){e&&(Fo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function _m(t){Um(t),t.drafts_.forEach(kk),t.drafts_=null}function Um(t){t===Ps&&(Ps=t.parent_)}function dS(t){return Ps=Rk(Ps,t)}function kk(t){const e=t[En];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[En].modified_&&(_m(e),Qn(4)),Kr(t)&&(t=of(e,t),e.parent_||lf(e,t)),e.patches_&&Fo("Patches").generateReplacementPatches_(n[En].base_,t,e.patches_,e.inversePatches_)):t=of(e,n,[]),_m(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==CE?t:void 0}function of(t,e,n){if(Wf(e))return e;const r=e[En];if(!r)return rf(e,(i,l)=>pS(t,r,e,i,l,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return lf(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let l=i,s=!1;r.type_===3&&(l=new Set(i),i.clear(),s=!0),rf(l,(u,f)=>pS(t,r,i,u,f,n,s)),lf(t,i,!1),n&&t.patches_&&Fo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function pS(t,e,n,r,i,l,s){if($o(i)){const u=l&&e&&e.type_!==3&&!$m(e.assigned_,r)?l.concat(r):void 0,f=of(t,i,u);if(TE(n,r,f),$o(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Kr(i)&&!Wf(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;of(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&lf(t,i)}}function lf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Fg(e,n)}function Ik(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ME(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,l=_g;n&&(i=[r],l=Ls);const{revoke:s,proxy:u}=Proxy.revocable(i,l);return r.draft_=u,r.revoke_=s,u}var _g={get(t,e){if(e===En)return t;const n=wo(t);if(!$m(n,e))return Bk(t,n,e);const r=n[e];return t.finalized_||!Kr(r)?r:r===_p(t.base_,e)?(Up(t),t.copy_[e]=qm(r,t)):r},has(t,e){return e in wo(t)},ownKeys(t){return Reflect.ownKeys(wo(t))},set(t,e,n){const r=DE(wo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_p(wo(t),e),l=i==null?void 0:i[En];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Dk(n,i)&&(n!==void 0||$m(t.base_,e)))return!0;Up(t),Vm(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _p(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Up(t),Vm(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=wo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qn(11)},getPrototypeOf(t){return Wl(t.base_)},setPrototypeOf(){Qn(12)}},Ls={};rf(_g,(t,e)=>{Ls[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ls.deleteProperty=function(t,e){return Ls.set.call(this,t,e,void 0)};Ls.set=function(t,e,n){return _g.set.call(this,t[0],e,n,t[0])};function _p(t,e){const n=t[En];return(n?wo(n):t)[e]}function Bk(t,e,n){var i;const r=DE(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function DE(t,e){if(!(e in t))return;let n=Wl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wl(n)}}function Vm(t){t.modified_||(t.modified_=!0,t.parent_&&Vm(t.parent_))}function Up(t){t.copy_||(t.copy_=Fm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Pk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const s=this;return function(f=l,...d){return s.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&Qn(6),r!==void 0&&typeof r!="function"&&Qn(7);let i;if(Kr(e)){const l=dS(this),s=qm(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?_m(l):Um(l)}return fS(l,r),hS(i,l)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===CE&&(i=void 0),this.autoFreeze_&&Fg(i,!0),r){const l=[],s=[];Fo("Patches").generateReplacementPatches_(e,i,l,s),r(l,s)}return i}else Qn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,f=>e(f,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Kr(t)||Qn(8),$o(t)&&(t=Lk(t));const e=dS(this),n=qm(t,void 0);return n[En].isManual_=!0,Um(e),n}finishDraft(t,e){const n=t&&t[En];(!n||!n.isManual_)&&Qn(9);const{scope_:r}=n;return fS(r,e),hS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Fo("Patches").applyPatches_;return $o(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qm(t,e){const n=qf(t)?Fo("MapSet").proxyMap_(t,e):Gf(t)?Fo("MapSet").proxySet_(t,e):Ik(t,e);return(e?e.scope_:ME()).drafts_.push(n),n}function Lk(t){return $o(t)||Qn(10,t),AE(t)}function AE(t){if(!Kr(t)||Wf(t))return t;const e=t[En];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Fm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Fm(t,!0);return rf(n,(r,i)=>{TE(n,r,AE(i))}),e&&(e.finalized_=!1),n}var Cn=new Pk,NE=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseStrictShallowCopy.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function RE(t){return({dispatch:n,getState:r})=>i=>l=>typeof l=="function"?l(n,r,t):i(l)}var jk=RE(),zk=RE,Hk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nf:nf.apply(null,arguments)};function mS(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Gr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Tk(r)&&r.type===t,n}var kE=class ws extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ws.prototype)}static get[Symbol.species](){return ws}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ws(...e[0].concat(this)):new ws(...e.concat(this))}};function gS(t){return Kr(t)?NE(t,()=>{}):t}function vS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $k(t){return typeof t=="boolean"}var Fk=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=e??{};let s=new kE;return n&&($k(n)?s.push(jk):s.push(zk(n.extraArgument))),s},_k="RTK_autoBatch",yS=t=>e=>{setTimeout(e,t)},Uk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,l=!1,s=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yS(10):t.type==="callback"?t.queueNotification:yS(t.timeout),d=()=>{s=!1,l&&(l=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[_k]),l=!i,l&&(s||(s=!0,f(d))),r.dispatch(p)}finally{i=!0}}})},Vk=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new kE(t);return r&&i.push(Uk(typeof r=="object"?r:void 0)),i};function qk(t){const e=Fk(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:l=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if($g(n))u=Ck(n);else throw new Error(Gr(1));let f;typeof r=="function"?f=r(e):f=e();let d=nf;i&&(d=Hk({trace:!1,...typeof i=="object"&&i}));const p=Ok(...f),m=Vk(p);let v=typeof s=="function"?s(m):m();const y=d(...v);return EE(u,l,y)}function IE(t){const e={},n=[];let r;const i={addCase(l,s){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Gr(28));if(u in e)throw new Error(Gr(29));return e[u]=s,i},addMatcher(l,s){return n.push({matcher:l,reducer:s}),i},addDefaultCase(l){return r=l,i}};return t(i),[e,n,r]}function Gk(t){return typeof t=="function"}function Wk(t,e){let[n,r,i]=IE(e),l;if(Gk(t))l=()=>gS(t());else{const u=gS(t);l=()=>u}function s(u=l(),f){let d=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,m)=>{if(m)if($o(p)){const y=m(p,f);return y===void 0?p:y}else{if(Kr(p))return NE(p,v=>m(v,f));{const v=m(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return s.getInitialState=l,s}var Yk=Symbol.for("rtk-slice-createasyncthunk");function Kk(t,e){return`${t}/${e}`}function Xk({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Yk];return function(i){const{name:l,reducerPath:s=l}=i;if(!l)throw new Error(Gr(11));const u=(typeof i.reducers=="function"?i.reducers(Zk()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(M,R){const A=typeof M=="string"?M:M.type;if(!A)throw new Error(Gr(12));if(A in d.sliceCaseReducersByType)throw new Error(Gr(13));return d.sliceCaseReducersByType[A]=R,p},addMatcher(M,R){return d.sliceMatchers.push({matcher:M,reducer:R}),p},exposeAction(M,R){return d.actionCreators[M]=R,p},exposeCaseReducer(M,R){return d.sliceCaseReducersByName[M]=R,p}};f.forEach(M=>{const R=u[M],A={reducerName:M,type:Kk(l,M),createNotation:typeof i.reducers=="function"};t2(R)?r2(A,R,p,e):e2(A,R,p)});function m(){const[M={},R=[],A=void 0]=typeof i.extraReducers=="function"?IE(i.extraReducers):[i.extraReducers],I={...M,...d.sliceCaseReducersByType};return Wk(i.initialState,z=>{for(let U in I)z.addCase(U,I[U]);for(let U of d.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of R)z.addMatcher(U.matcher,U.reducer);A&&z.addDefaultCase(A)})}const v=M=>M,y=new Map;let b;function S(M,R){return b||(b=m()),b(M,R)}function w(){return b||(b=m()),b.getInitialState()}function C(M,R=!1){function A(z){let U=z[M];return typeof U>"u"&&R&&(U=w()),U}function I(z=v){const U=vS(y,R,()=>new WeakMap);return vS(U,z,()=>{const L={};for(const[W,q]of Object.entries(i.selectors??{}))L[W]=Qk(q,z,w,R);return L})}return{reducerPath:M,getSelectors:I,get selectors(){return I(A)},selectSlice:A}}const T={name:l,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...C(s),injectInto(M,{reducerPath:R,...A}={}){const I=R??s;return M.inject({reducerPath:I,reducer:S},A),{...T,...C(I,!0)}}};return T}}function Qk(t,e,n,r){function i(l,...s){let u=e(l);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Jk=Xk();function Zk(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function e2({type:t,reducerName:e,createNotation:n},r,i){let l,s;if("reducer"in r){if(n&&!n2(r))throw new Error(Gr(17));l=r.reducer,s=r.prepare}else l=r;i.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,s?mS(t,s):mS(t))}function t2(t){return t._reducerDefinitionType==="asyncThunk"}function n2(t){return t._reducerDefinitionType==="reducerWithPrepare"}function r2({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Gr(18));const{payloadCreator:l,fulfilled:s,pending:u,rejected:f,settled:d,options:p}=n,m=i(t,l,p);r.exposeAction(e,m),s&&r.addCase(m.fulfilled,s),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:s||Rc,pending:u||Rc,rejected:f||Rc,settled:d||Rc})}function Rc(){}function Gr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const i2={user:JSON.parse(localStorage.getItem("user"))||null,isAuthenticated:!!localStorage.getItem("user"),error:""},BE=Jk({name:"auth",initialState:i2,reducers:{loginSuccess(t,e){t.user=e.payload,t.isAuthenticated=!0,t.error="",localStorage.setItem("user",JSON.stringify(e.payload))},loginFailure(t,e){t.user=null,t.isAuthenticated=!1,t.error=e.payload},logout(t){t.user=null,t.isAuthenticated=!1,t.error="",localStorage.removeItem("user")}}}),{loginSuccess:o2,loginFailure:l2,logout:i7}=BE.actions,a2=BE.reducer,s2=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),i=yk(),l=qi(),s=wE(f=>f.auth.error),u=async f=>{f.preventDefault(),t==="example"&&n==="123"?(i(o2({username:t,password:n})),l("/dashboard")):i(l2("Invalid username or password"))};return D.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:D.jsxs("div",{className:"container max-w-[400px] max-h-[400px]",children:[D.jsx("h2",{className:"text-center text-3xl mb-5",children:"Login"}),s&&D.jsx("p",{style:{color:"red"},children:s}),D.jsxs("form",{onSubmit:u,className:"w-full",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"Email",className:"block mb-2 text-sm font-medium text-gray-900",children:"Email"}),D.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"John"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900",children:"Password"}),D.jsx("input",{type:"password",id:"Password",value:n,onChange:f=>r(f.target.value),required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""})]}),D.jsx("button",{type:"submit",className:"text-white bg-blue-700 w-full hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mt-4",children:"Login"})]})]})})};var PE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bS=re.createContext&&re.createContext(PE),u2=["attr","size","title"];function c2(t,e){if(t==null)return{};var n=f2(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f2(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){d2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2(t,e,n){return e=h2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2(t){var e=p2(t,"string");return typeof e=="symbol"?e:e+""}function p2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LE(t){return t&&t.map((e,n)=>re.createElement(e.tag,sf({key:n},e.attr),LE(e.child)))}function Qr(t){return e=>re.createElement(m2,af({attr:sf({},t.attr)},e),LE(t.child))}function m2(t){var e=n=>{var{attr:r,size:i,title:l}=t,s=c2(t,u2),u=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),re.createElement("svg",af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:f,style:sf(sf({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&re.createElement("title",null,l),t.children)};return bS!==void 0?re.createElement(bS.Consumer,null,n=>e(n)):e(PE)}function g2(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function SS(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const v2=()=>{const[t,e]=E.useState(!1),n=()=>{e(!t)};return D.jsxs("nav",{className:"bg-white border-gray-200 shadow-md",children:[D.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-wrap items-center justify-between py-4 px-6",children:[D.jsx("span",{className:"self-center text-2xl font-semibold",children:"Saudi-Hop Admin Panel"}),D.jsx("button",{onClick:n,className:"md:hidden p-2 text-gray-600 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t?D.jsx(SS,{size:24}):D.jsx(g2,{size:24})}),D.jsx("div",{className:"hidden md:block",children:D.jsxs("ul",{className:"flex space-x-6 text-gray-900",children:[D.jsx("li",{children:D.jsx(gn,{to:"/manage-package",className:"hover:text-blue-700",children:"Manage Package"})}),D.jsx("li",{children:D.jsx(gn,{to:"/manage-blogs",className:"hover:text-blue-700",children:"Manage Blogs"})}),D.jsx("li",{children:D.jsx(gn,{to:"/manage-hotels",className:"hover:text-blue-700",children:"Manage Hotels"})}),D.jsx("li",{children:D.jsx(gn,{to:"/manage-faqs",className:"hover:text-blue-700",children:"Manage FAQs"})})]})})]}),t&&D.jsx("div",{className:"fixed inset-0 bg-gray-100 bg-opacity-20 z-50",onClick:n}),D.jsx("div",{className:`fixed top-0 left-0 w-64 h-full bg-white shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 z-50 md:hidden`,children:D.jsxs("div",{className:"p-4",children:[D.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-900",children:D.jsx(SS,{size:24})}),D.jsxs("ul",{className:"mt-8 space-y-4 text-gray-900",children:[D.jsx("li",{children:D.jsx(gn,{to:"/manage-blogs",className:"block p-2 hover:bg-gray-100",onClick:n,children:"Manage Blogs"})}),D.jsx("li",{children:D.jsx(gn,{to:"/manage-hotels",className:"block p-2 hover:bg-gray-100",onClick:n,children:"Manage Hotels"})}),D.jsx("li",{children:D.jsx(gn,{to:"/manage-faqs",className:"block p-2 hover:bg-gray-100",onClick:n,children:"Manage FAQs"})})]})]})})]})},hr=({children:t})=>D.jsxs("div",{className:"w-full h-full max-w-screen-xl mx-auto",children:[D.jsx(v2,{}),D.jsx("div",{className:"w-full h-full",children:t})]}),pr=({children:t})=>wE(n=>n.auth.isAuthenticated)?t:D.jsx(bR,{to:"/"}),Jr="http://209.97.137.58:5000";async function y2(t){try{const e=new FormData;e.append("title",t.title),e.append("paragraphs",JSON.stringify(t.paragraphs)),e.append("tags",JSON.stringify(t.tags)),t.image&&e.append("image",t.image),e.append("createdAt",t.createdAt);const n=await fetch(`${Jr}/blogs/create`,{method:"POST",body:e});if(!n.ok)throw new Error("Failed to save blog");const r=await n.json();return console.log("Saved to database:",r),r}catch(e){console.error("Error saving blog:",e)}}async function b2(t=""){const e=await fetch(`${Jr}/blogs/search?query=${t}`,{method:"GET"});if(!e.ok)throw new Error("Failed to fetch blogs");return e.json()}async function x2(t){const e=await fetch(`${Jr}/blogs/`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t})});if(!e.ok)throw new Error("Failed to remove blog");return e.json()}function S2(t){return Qr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function jE(t){return Qr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"},child:[]}]})(t)}const w2=()=>{const[t,e]=E.useState(""),[n,r]=E.useState([]);E.useEffect(()=>{(async()=>{const s=await b2();r(s)})()},[]);const i=async l=>{await x2(l),r(s=>s.filter(u=>u._id!==l))};return D.jsx("div",{children:D.jsxs("div",{className:"main-content  p-4",children:[D.jsxs("h1",{className:"text-lg my-2 text-blue-600",children:["Dashboard / ",D.jsx("span",{className:"text-gray-900",children:"Manage Blogs"})," "]}),D.jsxs("div",{className:"flex flex-row gap-1",children:[D.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),required:!0,className:"bg-gray-50 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block  p-2.5",placeholder:"Search"}),D.jsx(gn,{to:"/create/blog",className:"text-white w-[200px] h-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"+ Create new Blog"})]}),D.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4",children:D.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[D.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:D.jsxs("tr",{children:[D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tags"}),D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),D.jsx("tbody",{children:n.length>0?n.map(l=>D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:l.title}),D.jsx("td",{className:"px-6 py-4",children:D.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags&&l.tags.map((s,u)=>D.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-sm",children:s},u))})}),D.jsx("td",{className:"px-6 py-4",children:l.createdAt}),D.jsx("td",{className:"px-6 py-4",children:D.jsx(jE,{size:20,onClick:()=>i(l._id)})})]},l._id)):D.jsx("tr",{children:D.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No blogs found"})})})]})})]})})};function kt(t){this.content=t}kt.prototype={constructor:kt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),l=r.content.slice();return i==-1?l.push(n||t,e):(l[i+1]=e,n&&(l[i]=n)),new kt(l)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new kt(n)},addToStart:function(t,e){return new kt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new kt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),l=r.find(t);return i.splice(l==-1?i.length:l,0,e,n),new kt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=kt.from(t),t.size?new kt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=kt.from(t),t.size?new kt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=kt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};kt.from=function(t){if(t instanceof kt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new kt(e)};function zE(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),l=e.child(r);if(i==l){n+=i.nodeSize;continue}if(!i.sameMarkup(l))return n;if(i.isText&&i.text!=l.text){for(let s=0;i.text[s]==l.text[s];s++)n++;return n}if(i.content.size||l.content.size){let s=zE(i.content,l.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function HE(t,e,n,r){for(let i=t.childCount,l=e.childCount;;){if(i==0||l==0)return i==l?null:{a:n,b:r};let s=t.child(--i),u=e.child(--l),f=s.nodeSize;if(s==u){n-=f,r-=f;continue}if(!s.sameMarkup(u))return{a:n,b:r};if(s.isText&&s.text!=u.text){let d=0,p=Math.min(s.text.length,u.text.length);for(;d<p&&s.text[s.text.length-d-1]==u.text[u.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(s.content.size||u.content.size){let d=HE(s.content,u.content,n-1,r-1);if(d)return d}n-=f,r-=f}}class Z{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,l){for(let s=0,u=0;u<n;s++){let f=this.content[s],d=u+f.nodeSize;if(d>e&&r(f,i+u,l||null,s)!==!1&&f.content.size){let p=u+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),r,i+p)}u=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let l="",s=!0;return this.nodesBetween(e,n,(u,f)=>{let d=u.isText?u.text.slice(Math.max(e,f)-f,n-f):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&d||u.isTextblock)&&r&&(s?s=!1:l+=r),l+=d},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),l=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),l=1);l<e.content.length;l++)i.push(e.content[l]);return new Z(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let l=0,s=0;s<n;l++){let u=this.content[l],f=s+u.nodeSize;f>e&&((s<e||f>n)&&(u.isText?u=u.cut(Math.max(0,e-s),Math.min(u.text.length,n-s)):u=u.cut(Math.max(0,e-s-1),Math.min(u.content.size,n-s-1))),r.push(u),i+=u.nodeSize),s=f}return new Z(r,i)}cutByIndex(e,n){return e==n?Z.empty:e==0&&n==this.content.length?this:new Z(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),l=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Z(i,l)}addToStart(e){return new Z([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Z(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return zE(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return HE(this,e,n,r)}findIndex(e,n=-1){if(e==0)return kc(0,e);if(e==this.size)return kc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let l=this.child(r),s=i+l.nodeSize;if(s>=e)return s==e||n>0?kc(r+1,s):kc(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Z.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Z(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Z.empty;let n,r=0;for(let i=0;i<e.length;i++){let l=e[i];r+=l.nodeSize,i&&l.isText&&e[i-1].sameMarkup(l)?(n||(n=e.slice(0,i)),n[n.length-1]=l.withText(n[n.length-1].text+l.text)):n&&n.push(l)}return new Z(n||e,r)}static from(e){if(!e)return Z.empty;if(e instanceof Z)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Z([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Z.empty=new Z([],0);const Vp={index:0,offset:0};function kc(t,e){return Vp.index=t,Vp.offset=e,Vp}function uf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!uf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!uf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Xe=class Gm{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let l=e[i];if(this.eq(l))return e;if(this.type.excludes(l.type))n||(n=e.slice(0,i));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(l)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&uf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Gm.none;if(e instanceof Gm)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Xe.none=[];class cf extends Error{}class ae{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=FE(this.content,e+this.openStart,n);return r&&new ae(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ae($E(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ae.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ae(Z.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let l=e.firstChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.lastChild)i++;return new ae(e,r,i)}}ae.empty=new ae(Z.empty,0,0);function $E(t,e,n){let{index:r,offset:i}=t.findIndex(e),l=t.maybeChild(r),{index:s,offset:u}=t.findIndex(n);if(i==e||l.isText){if(u!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,l.copy($E(l.content,e-i-1,n-i-1)))}function FE(t,e,n,r){let{index:i,offset:l}=t.findIndex(e),s=t.maybeChild(i);if(l==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let u=FE(s.content,e-l-1,n);return u&&t.replaceChild(i,s.copy(u))}function E2(t,e,n){if(n.openStart>t.depth)throw new cf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new cf("Inconsistent open depths");return _E(t,e,n,0)}function _E(t,e,n,r){let i=t.index(r),l=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=_E(t,e,n,r+1);return l.copy(l.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,u=s.content;return Po(s,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:s,end:u}=C2(n,t);return Po(l,VE(t,s,u,e,r))}else return Po(l,ff(t,e,r))}function UE(t,e){if(!e.type.compatibleContent(t.type))throw new cf("Cannot join "+e.type.name+" onto "+t.type.name)}function Wm(t,e,n){let r=t.node(n);return UE(r,e.node(n)),r}function Bo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ts(t,e,n,r){let i=(e||t).node(n),l=0,s=e?e.index(n):i.childCount;t&&(l=t.index(n),t.depth>n?l++:t.textOffset&&(Bo(t.nodeAfter,r),l++));for(let u=l;u<s;u++)Bo(i.child(u),r);e&&e.depth==n&&e.textOffset&&Bo(e.nodeBefore,r)}function Po(t,e){return t.type.checkContent(e),t.copy(e)}function VE(t,e,n,r,i){let l=t.depth>i&&Wm(t,e,i+1),s=r.depth>i&&Wm(n,r,i+1),u=[];return Ts(null,t,i,u),l&&s&&e.index(i)==n.index(i)?(UE(l,s),Bo(Po(l,VE(t,e,n,r,i+1)),u)):(l&&Bo(Po(l,ff(t,e,i+1)),u),Ts(e,n,i,u),s&&Bo(Po(s,ff(n,r,i+1)),u)),Ts(r,null,i,u),new Z(u)}function ff(t,e,n){let r=[];if(Ts(null,t,n,r),t.depth>n){let i=Wm(t,e,n+1);Bo(Po(i,ff(t,e,n+1)),r)}return Ts(e,null,n,r),new Z(r)}function C2(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let l=n-1;l>=0;l--)i=e.node(l).copy(Z.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class js{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let l=0;l<e;l++)i+=r.child(l).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Xe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let u=r;r=i,i=u}let l=r.marks;for(var s=0;s<l.length;s++)l[s].type.spec.inclusive===!1&&(!i||!l[s].isInSet(i.marks))&&(l=l[s--].removeFromSet(l));return l}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!i||!r[l].isInSet(i.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new df(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,l=n;for(let s=e;;){let{index:u,offset:f}=s.content.findIndex(l),d=l-f;if(r.push(s,u,i+f),!d||(s=s.child(u),s.isText))break;l=d-1,i+=f+1}return new js(n,r,l)}static resolveCached(e,n){let r=wS.get(e);if(r)for(let l=0;l<r.elts.length;l++){let s=r.elts[l];if(s.pos==n)return s}else wS.set(e,r=new O2);let i=r.elts[r.i]=js.resolve(e,n);return r.i=(r.i+1)%T2,i}}class O2{constructor(){this.elts=[],this.i=0}}const T2=12,wS=new WeakMap;class df{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const M2=Object.create(null);let Ai=class Ym{constructor(e,n,r,i=Xe.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Z.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&uf(this.attrs,n||e.defaultAttrs||M2)&&Xe.sameSet(this.marks,r||Xe.none)}copy(e=null){return e==this.content?this:new Ym(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ym(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ae.empty;let i=this.resolve(e),l=this.resolve(n),s=r?0:i.sharedDepth(n),u=i.start(s),d=i.node(s).content.cut(i.pos-u,l.pos-u);return new ae(d,i.depth-s,l.depth-s)}replace(e,n,r){return E2(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return js.resolveCached(this,e)}resolveNoCache(e){return js.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,l=>(r.isInSet(l.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),qE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Z.empty,i=0,l=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,l),u=s&&s.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let f=i;f<l;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let l=this.contentMatchAt(e).matchType(r),s=l&&l.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Xe.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Xe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Z.fromJSON(e,n.content),l=e.nodeType(n.type).create(n.attrs,i,r);return l.type.checkAttrs(l.attrs),l}};Ai.prototype.text=void 0;class hf extends Ai{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new hf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new hf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function qE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class _o{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new D2(e,n);if(r.next==null)return _o.empty;let i=GE(r);r.next&&r.err("Unexpected trailing text");let l=P2(B2(i));return L2(l,r),l}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let l=n;i&&l<r;l++)i=i.matchType(e.child(l).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function l(s,u){let f=s.matchFragment(e,r);if(f&&(!n||f.validEnd))return Z.from(u.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:p,next:m}=s.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=l(m,u.concat(p));if(v)return v}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),l=i.match;if(l.matchType(e)){let s=[];for(let u=i;u.type;u=u.via)s.push(u.type);return s.reverse()}for(let s=0;s<l.next.length;s++){let{type:u,next:f}=l.next[s];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let l=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)l+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return l}).join(`
`)}}_o.empty=new _o(!0);class D2{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function GE(t){let e=[];do e.push(A2(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function A2(t){let e=[];do e.push(N2(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function N2(t){let e=I2(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=R2(t,e);else break;return e}function ES(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function R2(t,e){let n=ES(t),r=n;return t.eat(",")&&(t.next!="}"?r=ES(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function k2(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let l in n){let s=n[l];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function I2(t){if(t.eat("(")){let e=GE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=k2(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function B2(t){let e=[[]];return i(l(t,0),n()),e;function n(){return e.push([])-1}function r(s,u,f){let d={term:f,to:u};return e[s].push(d),d}function i(s,u){s.forEach(f=>f.to=u)}function l(s,u){if(s.type=="choice")return s.exprs.reduce((f,d)=>f.concat(l(d,u)),[]);if(s.type=="seq")for(let f=0;;f++){let d=l(s.exprs[f],u);if(f==s.exprs.length-1)return d;i(d,u=n())}else if(s.type=="star"){let f=n();return r(u,f),i(l(s.expr,f),f),[r(f)]}else if(s.type=="plus"){let f=n();return i(l(s.expr,u),f),i(l(s.expr,f),f),[r(f)]}else{if(s.type=="opt")return[r(u)].concat(l(s.expr,u));if(s.type=="range"){let f=u;for(let d=0;d<s.min;d++){let p=n();i(l(s.expr,f),p),f=p}if(s.max==-1)i(l(s.expr,f),f);else for(let d=s.min;d<s.max;d++){let p=n();r(f,p),i(l(s.expr,f),p),f=p}return[r(f)]}else{if(s.type=="name")return[r(u,void 0,s.value)];throw new Error("Unknown expr type")}}}}function WE(t,e){return e-t}function CS(t,e){let n=[];return r(e),n.sort(WE);function r(i){let l=t[i];if(l.length==1&&!l[0].term)return r(l[0].to);n.push(i);for(let s=0;s<l.length;s++){let{term:u,to:f}=l[s];!u&&n.indexOf(f)==-1&&r(f)}}}function P2(t){let e=Object.create(null);return n(CS(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:u,to:f})=>{if(!u)return;let d;for(let p=0;p<i.length;p++)i[p][0]==u&&(d=i[p][1]);CS(t,f).forEach(p=>{d||i.push([u,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let l=e[r.join(",")]=new _o(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let u=i[s][1].sort(WE);l.next.push({type:i[s][0],next:e[u.join(",")]||n(u)})}return l}}function L2(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],l=!i.validEnd,s=[];for(let u=0;u<i.next.length;u++){let{type:f,next:d}=i.next[u];s.push(f.name),l&&!(f.isText||f.hasRequiredAttrs())&&(l=!1),r.indexOf(d)==-1&&r.push(d)}l&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function YE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function KE(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let l=t[r];if(l.hasDefault)i=l.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function XE(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let l=t[i];l.validate&&l.validate(e[i])}}function QE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new z2(t,r,e[r]);return n}let OS=class JE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=QE(e,r.attrs),this.defaultAttrs=YE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_o.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:KE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ai(this,this.computeAttrs(e),Z.from(n),Xe.setFrom(r))}createChecked(e=null,n,r){return n=Z.from(n),this.checkContent(n),new Ai(this,this.computeAttrs(e),n,Xe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Z.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),l=i&&i.fillBefore(Z.empty,!0);return l?new Ai(this,e,n.append(l),Xe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){XE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Xe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((l,s)=>r[l]=new JE(l,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function j2(t,e,n){let r=n.split("|");return i=>{let l=i===null?"null":typeof i;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${l}`)}}class z2{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?j2(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Yf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=QE(e,i.attrs),this.excluded=null;let l=YE(this.attrs);this.instance=l?new Xe(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Xe(this,KE(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((l,s)=>r[l]=new Yf(l,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){XE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ZE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=kt.from(e.nodes),n.marks=kt.from(e.marks||{}),this.nodes=OS.compile(this.spec.nodes,this),this.marks=Yf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let l=this.nodes[i],s=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=r[s]||(r[s]=_o.parse(s,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?TS(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let i in this.marks){let l=this.marks[i],s=l.spec.excludes;l.excluded=s==null?[l]:s==""?[]:TS(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof OS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new hf(r,r.defaultAttrs,e,Xe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ai.fromJSON(this,e)}markFromJSON(e){return Xe.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function TS(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],l=t.marks[i],s=l;if(l)n.push(l);else for(let u in t.marks){let f=t.marks[u];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=f)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function H2(t){return t.tag!=null}function $2(t){return t.style!=null}class Ni{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(H2(i))this.tags.push(i);else if($2(i)){let l=/[^=]*/.exec(i.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let l=e.nodes[i.node];return l.contentMatch.matchType(l)})}parse(e,n={}){let r=new DS(this,n,!1);return r.addAll(e,Xe.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new DS(this,n,!0);return r.addAll(e,Xe.none,n.from,n.to),ae.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let l=this.tags[i];if(U2(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||n.matchesContext(l.context))){if(l.getAttrs){let s=l.getAttrs(e);if(s===!1)continue;l.attrs=s||void 0}return l}}}matchStyle(e,n,r,i){for(let l=i?this.styles.indexOf(i)+1:0;l<this.styles.length;l++){let s=this.styles[l],u=s.style;if(!(u.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(s.getAttrs){let f=s.getAttrs(n);if(f===!1)continue;s.attrs=f||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let l=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let u=n[s];if((u.priority==null?50:u.priority)<l)break}n.splice(s,0,i)}for(let i in e.marks){let l=e.marks[i].spec.parseDOM;l&&l.forEach(s=>{r(s=AS(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let l=e.nodes[i].spec.parseDOM;l&&l.forEach(s=>{r(s=AS(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ni(e,Ni.schemaRules(e)))}}const eC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},F2={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tC={ol:!0,ul:!0},zs=1,Km=2,Wc=4;function MS(t,e,n){return e!=null?(e?zs:0)|(e==="full"?Km:0):t&&t.whitespace=="pre"?zs|Km:n&-5}class Ic{constructor(e,n,r,i,l,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Xe.none,this.match=l||(s&Wc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Z.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&zs)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-i[0].length))}}let n=Z.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Z.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class DS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,l,s=MS(null,n.preserveWhitespace,0)|(r?Wc:0);i?l=new Ic(i.type,i.attrs,Xe.none,!0,n.topMatch||i.type.contentMatch,s):r?l=new Ic(null,null,Xe.none,!0,null,s):l=new Ic(e.schema.topNodeType,null,Xe.none,!0,null,s),this.nodes=[l],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,l=i.options&Km?"full":this.localPreserveWS||(i.options&zs)>0;if(l==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),u;tC.hasOwnProperty(s)&&this.parser.normalizeLists&&_2(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:F2.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let d,p=this.needsBlock;if(eC.hasOwnProperty(s))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),d=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=f&&f.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),d&&this.sync(l),this.needsBlock=p}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,f,d,f.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let l=this.parser.matchedStyles[i],s=r.getPropertyValue(l);if(s)for(let u=void 0;;){let f=this.parser.matchStyle(l,s,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(d=>!f.clearMark(d)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return n}addElementByRule(e,n,r,i){let l,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let f=this.enter(s,n.attrs||null,r,n.preserveWhitespace);f&&(l=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}l&&this.sync(u)&&this.open--}addAll(e,n,r,i){let l=r||0;for(let s=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];s!=u;s=s.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(s,n);this.findAtPoint(e,l)}findPlace(e,n){let r,i;for(let l=this.open;l>=0;l--){let s=this.nodes[l],u=s.findWrapping(e);if(u&&(!r||r.length>u.length)&&(r=u,i=s,!u.length)||s.solid)break}if(!r)return null;this.sync(i);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let l=Xe.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):NS(s.type,e.type))&&(l=s.addToSet(l));return i.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let l=this.findPlace(e.create(n),r);return l&&(l=this.enterInner(e,n,r,!0,i)),l}enterInner(e,n,r,i=!1,l){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let u=MS(e,l,s.options);s.options&Wc&&s.content.length==0&&(u|=Wc);let f=Xe.none;return r=r.filter(d=>(s.type?s.type.allowsMarkType(d.type):NS(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new Ic(e,n,f,i,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=zs)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(i?0:1),s=(u,f)=>{for(;u>=0;u--){let d=n[u];if(d==""){if(u==n.length-1||u==0)continue;for(;f>=l;f--)if(s(u-1,f))return!0;return!1}else{let p=f>0||f==0&&i?this.nodes[f].type:r&&f>=l?r.node(f-l).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function _2(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&tC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function U2(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function AS(t){let e={};for(let n in t)e[n]=t[n];return e}function NS(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let l=[],s=u=>{l.push(u);for(let f=0;f<u.edgeCount;f++){let{type:d,next:p}=u.edge(f);if(d==e||l.indexOf(p)<0&&s(p))return!0}};if(s(i.contentMatch))return!0}}class Xo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=qp(n).createDocumentFragment());let i=r,l=[];return e.forEach(s=>{if(l.length||s.marks.length){let u=0,f=0;for(;u<l.length&&f<s.marks.length;){let d=s.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(l[u][0])||d.type.spec.spanning===!1)break;u++,f++}for(;u<l.length;)i=l.pop()[1];for(;f<s.marks.length;){let d=s.marks[f++],p=this.serializeMark(d,s.isInline,n);p&&(l.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Yc(qp(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let l=this.serializeMark(e.marks[i],e.isInline,n);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Yc(qp(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Yc(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Xo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=RS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return RS(e.marks)}}function RS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function qp(t){return t.document||window.document}const kS=new WeakMap;function V2(t){let e=kS.get(t);return e===void 0&&kS.set(t,e=q2(t)),e}function q2(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Yc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],l;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=V2(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let u,f=n?t.createElementNS(n,i):t.createElement(i),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let v=m.indexOf(" ");v>0?f.setAttributeNS(m.slice(0,v),m.slice(v+1),d[m]):f.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:y,contentDOM:b}=Yc(t,v,n,r);if(f.appendChild(y),b){if(u)throw new RangeError("Multiple content holes");u=b}}}return{dom:f,contentDOM:u}}const nC=65535,rC=Math.pow(2,16);function G2(t,e){return t+e*rC}function IS(t){return t&nC}function W2(t){return(t-(t&nC))/rC}const iC=1,oC=2,Kc=4,lC=8;class Xm{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&lC)>0}get deletedBefore(){return(this.delInfo&(iC|Kc))>0}get deletedAfter(){return(this.delInfo&(oC|Kc))>0}get deletedAcross(){return(this.delInfo&Kc)>0}}class vn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vn.empty)return vn.empty}recover(e){let n=0,r=IS(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+W2(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,l=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let d=this.ranges[u+l],p=this.ranges[u+s],m=f+d;if(e<=m){let v=d?e==f?-1:e==m?1:n:n,y=f+i+(v<0?0:p);if(r)return y;let b=e==(n<0?f:m)?null:G2(u/3,e-f),S=e==f?oC:e==m?iC:Kc;return(n<0?e!=f:e!=m)&&(S|=lC),new Xm(y,S,b)}i+=p-d}return r?e+i:new Xm(e+i,0,null)}touches(e,n){let r=0,i=IS(n),l=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[u+l],p=f+d;if(e<=p&&u==i*3)return!0;r+=this.ranges[u+s]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,l=0;i<this.ranges.length;i+=3){let s=this.ranges[i],u=s-(this.inverted?l:0),f=s+(this.inverted?0:l),d=this.ranges[i+n],p=this.ranges[i+r];e(u,u+d,f,f+p),l+=p-d}}invert(){return new vn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vn.empty:new vn(e<0?[0,-e,0]:[0,0,e])}}vn.empty=new vn([]);class Ul{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ul(this.maps,this.mirror,e,n)}copy(){return new Ul(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ul;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let l=this.from;l<this.to;l++){let s=this.maps[l],u=s.mapResult(e,n);if(u.recover!=null){let f=this.getMirror(l);if(f!=null&&f>l&&f<this.to){l=f,e=this.maps[f].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new Xm(e,i,null)}}const Gp=Object.create(null);class _t{getMap(){return vn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Gp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gp)throw new RangeError("Duplicate use of step JSON ID "+e);return Gp[e]=n,n.prototype.jsonID=e,n}}class ht{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ht(e,null)}static fail(e){return new ht(null,e)}static fromReplace(e,n,r,i){try{return ht.ok(e.replace(n,r,i))}catch(l){if(l instanceof cf)return ht.fail(l.message);throw l}}}function Ug(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let l=t.child(i);l.content.size&&(l=l.copy(Ug(l.content,e,l))),l.isInline&&(l=e(l,n,i)),r.push(l)}return Z.fromArray(r)}class Ti extends _t{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),l=new ae(Ug(n.content,(s,u)=>!s.isAtom||!u.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,l)}invert(){return new gr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ti(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ti&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ti(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ti(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("addMark",Ti);class gr extends _t{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ae(Ug(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,r)}invert(){return new Ti(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gr(n.pos,r.pos,this.mark)}merge(e){return e instanceof gr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new gr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new gr(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("removeMark",gr);class Mi extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new ae(Z.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Mi(this.pos,n.marks[i]);return new Mi(this.pos,this.mark)}}return new Yl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mi(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("addNodeMark",Mi);class Yl extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new ae(Z.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yl(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("removeNodeMark",Yl);class wt extends _t{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Qm(e,this.from,this.to)?ht.fail("Structure replace would overwrite content"):ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vn([this.from,this.to-this.from,this.slice.size])}invert(e){return new wt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new wt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof wt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ae.empty:new ae(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ae.empty:new ae(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wt(n.from,n.to,ae.fromJSON(e,n.slice),!!n.structure)}}_t.jsonID("replace",wt);class Et extends _t{constructor(e,n,r,i,l,s,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=l,this.insert=s,this.structure=u}apply(e){if(this.structure&&(Qm(e,this.from,this.gapFrom)||Qm(e,this.gapTo,this.to)))return ht.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ht.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ht.fromReplace(e,this.from,this.to,r):ht.fail("Content does not fit in gap")}getMap(){return new vn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Et(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||l>r.pos?null:new Et(n.pos,r.pos,i,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Et(n.from,n.to,n.gapFrom,n.gapTo,ae.fromJSON(e,n.slice),n.insert,!!n.structure)}}_t.jsonID("replaceAround",Et);function Qm(t,e,n){let r=t.resolve(e),i=n-e,l=r.depth;for(;i>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,i--;if(i>0){let s=r.node(l).maybeChild(r.indexAfter(l));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Y2(t,e,n,r){let i=[],l=[],s,u;t.doc.nodesBetween(e,n,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(d,e),y=Math.min(d+f.nodeSize,n),b=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(b)||(s&&s.to==v&&s.mark.eq(m[S])?s.to=y:i.push(s=new gr(v,y,m[S])));u&&u.to==v?u.to=y:l.push(u=new Ti(v,y,r))}}),i.forEach(f=>t.step(f)),l.forEach(f=>t.step(f))}function K2(t,e,n,r){let i=[],l=0;t.doc.nodesBetween(e,n,(s,u)=>{if(!s.isInline)return;l++;let f=null;if(r instanceof Yf){let d=s.marks,p;for(;p=r.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(s.marks)&&(f=[r]):f=s.marks;if(f&&f.length){let d=Math.min(u+s.nodeSize,n);for(let p=0;p<f.length;p++){let m=f[p],v;for(let y=0;y<i.length;y++){let b=i[y];b.step==l-1&&m.eq(i[y].style)&&(v=b)}v?(v.to=d,v.step=l):i.push({style:m,from:Math.max(u,e),to:d,step:l})}}}),i.forEach(s=>t.step(new gr(s.from,s.to,s.style)))}function Vg(t,e,n,r=n.contentMatch,i=!0){let l=t.doc.nodeAt(e),s=[],u=e+1;for(let f=0;f<l.childCount;f++){let d=l.child(f),p=u+d.nodeSize,m=r.matchType(d.type);if(!m)s.push(new wt(u,p,ae.empty));else{r=m;for(let v=0;v<d.marks.length;v++)n.allowsMarkType(d.marks[v].type)||t.step(new gr(u,p,d.marks[v]));if(i&&d.isText&&n.whitespace!="pre"){let v,y=/\r?\n|\r/g,b;for(;v=y.exec(d.text);)b||(b=new ae(Z.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),s.push(new wt(u+v.index,u+v.index+v[0].length,b))}}u=p}if(!r.validEnd){let f=r.fillBefore(Z.empty,!0);t.replace(u,u,new ae(f,0,0))}for(let f=s.length-1;f>=0;f--)t.step(s[f])}function X2(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function aa(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),l=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(l,s,n))return r;if(r==0||i.type.spec.isolating||!X2(i,l,s))break}return null}function Q2(t,e,n){let{$from:r,$to:i,depth:l}=e,s=r.before(l+1),u=i.after(l+1),f=s,d=u,p=Z.empty,m=0;for(let b=l,S=!1;b>n;b--)S||r.index(b)>0?(S=!0,p=Z.from(r.node(b).copy(p)),m++):f--;let v=Z.empty,y=0;for(let b=l,S=!1;b>n;b--)S||i.after(b+1)<i.end(b)?(S=!0,v=Z.from(i.node(b).copy(v)),y++):d++;t.step(new Et(f,d,s,u,new ae(p.append(v),m,y),p.size-m,!0))}function qg(t,e,n=null,r=t){let i=J2(t,e),l=i&&Z2(r,e);return l?i.map(BS).concat({type:e,attrs:n}).concat(l.map(BS)):null}function BS(t){return{type:t,attrs:null}}function J2(t,e){let{parent:n,startIndex:r,endIndex:i}=t,l=n.contentMatchAt(r).findWrapping(e);if(!l)return null;let s=l.length?l[0]:e;return n.canReplaceWith(r,i,s)?l:null}function Z2(t,e){let{parent:n,startIndex:r,endIndex:i}=t,l=n.child(r),s=e.contentMatch.findWrapping(l.type);if(!s)return null;let f=(s.length?s[s.length-1]:e).contentMatch;for(let d=r;f&&d<i;d++)f=f.matchType(n.child(d).type);return!f||!f.validEnd?null:s}function eI(t,e,n){let r=Z.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let u=n[s].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Z.from(n[s].type.create(n[s].attrs,r))}let i=e.start,l=e.end;t.step(new Et(i,l,i,l,new ae(r,0,0),n.length,!0))}function tI(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(e,n,(s,u)=>{let f=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,f)&&nI(t.doc,t.mapping.slice(l).map(u),r)){let d=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?d=!1:!y&&b&&(d=!0)}d===!1&&sC(t,s,u,l),Vg(t,t.mapping.slice(l).map(u,1),r,void 0,d===null);let p=t.mapping.slice(l),m=p.map(u,1),v=p.map(u+s.nodeSize,1);return t.step(new Et(m,v,m+1,v-1,new ae(Z.from(r.create(f,null,s.marks)),0,0),1,!0)),d===!0&&aC(t,s,u,l),!1}})}function aC(t,e,n,r){e.forEach((i,l)=>{if(i.isText){let s,u=/\r?\n|\r/g;for(;s=u.exec(i.text);){let f=t.mapping.slice(r).map(n+1+l+s.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function sC(t,e,n,r){e.forEach((i,l)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+l);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function nI(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function rI(t,e,n,r,i){let l=t.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");n||(n=l.type);let s=n.create(r,null,i||l.marks);if(l.isLeaf)return t.replaceWith(e,e+l.nodeSize,s);if(!n.validContent(l.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Et(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new ae(Z.from(s),0,0),1,!0))}function Wr(t,e,n=1,r){let i=t.resolve(e),l=i.depth-n,s=r&&r[r.length-1]||i.parent;if(l<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=n-2;d>l;d--,p--){let m=i.node(d),v=i.index(d);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(v,m.childCount),b=r&&r[p+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let S=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!S.type.validContent(y))return!1}let u=i.indexAfter(l),f=r&&r[0];return i.node(l).canReplaceWith(u,u,f?f.type:i.node(l+1).type)}function iI(t,e,n=1,r){let i=t.doc.resolve(e),l=Z.empty,s=Z.empty;for(let u=i.depth,f=i.depth-n,d=n-1;u>f;u--,d--){l=Z.from(i.node(u).copy(l));let p=r&&r[d];s=Z.from(p?p.type.create(p.attrs,s):i.node(u).copy(s))}t.step(new wt(e,e,new ae(l.append(s),n,n),!0))}function Gi(t,e){let n=t.resolve(e),r=n.index();return uC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function oI(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let l=e.child(i),s=l.type==r?t.type.schema.nodes.text:l.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(l.marks))return!1}return n.validEnd}function uC(t,e){return!!(t&&e&&!t.isLeaf&&oI(t,e))}function Kf(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let l,s,u=r.index(i);if(i==r.depth?(l=r.nodeBefore,s=r.nodeAfter):n>0?(l=r.node(i+1),u++,s=r.node(i).maybeChild(u)):(l=r.node(i).maybeChild(u-1),s=r.node(i+1)),l&&!l.isTextblock&&uC(l,s)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function lI(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,l=t.doc.resolve(e-n),s=l.node().type;if(i&&s.inlineContent){let p=s.whitespace=="pre",m=!!s.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let u=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);sC(t,p.node(),p.before(),u)}s.inlineContent&&Vg(t,e+n-1,s,l.node().contentMatchAt(l.index()),r==null);let f=t.mapping.slice(u),d=f.map(e-n);if(t.step(new wt(d,f.map(e+n,-1),ae.empty,!0)),r===!0){let p=t.doc.resolve(d);aC(t,p.node(),p.before(),t.steps.length)}return t}function aI(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let l=r.index(i);if(r.node(i).canReplaceWith(l,l,n))return r.before(i+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let l=r.indexAfter(i);if(r.node(i).canReplaceWith(l,l,n))return r.after(i+1);if(l<r.node(i).childCount)return null}return null}function cC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let l=0;l<n.openStart;l++)i=i.firstChild.content;for(let l=1;l<=(n.openStart==0&&n.size?2:1);l++)for(let s=r.depth;s>=0;s--){let u=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,f=r.index(s)+(u>0?1:0),d=r.node(s),p=!1;if(l==1)p=d.canReplace(f,f,i);else{let m=d.contentMatchAt(f).findWrapping(i.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return u==0?r.pos:u<0?r.before(s+1):r.after(s+1)}return null}function Xf(t,e,n=e,r=ae.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),l=t.resolve(n);return fC(i,l,r)?new wt(e,n,r):new sI(i,l,r).fit()}function fC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class sI{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Z.empty;for(let i=0;i<=e.depth;i++){let l=e.node(i);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Z.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let l=this.placed,s=r.depth,u=i.depth;for(;s&&u&&l.childCount==1;)l=l.firstChild.content,s--,u--;let f=new ae(l,s,u);return e>-1?new Et(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new wt(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let l=n.firstChild;if(n.childCount>1&&(i=0),l.type.spec.isolating&&i<=r){e=r;break}n=l.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,l=null;r?(l=Wp(this.unplaced.content,r-1).firstChild,i=l.content):i=this.unplaced.content;let s=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:d}=this.frontier[u],p,m=null;if(n==1&&(s?d.matchType(s.type)||(m=d.fillBefore(Z.from(s),!1)):l&&f.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:u,parent:l,inject:m};if(n==2&&s&&(p=d.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:u,parent:l,wrap:p};if(l&&d.matchType(l.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Wp(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ae(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Wp(e,n);if(i.childCount<=1&&n>0){let l=e.size-n<=n+i.size;this.unplaced=new ae(Es(e,n-1,1),n-1,l?n-1:r)}else this.unplaced=new ae(Es(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:l}){for(;this.depth>n;)this.closeFrontierNode();if(l)for(let S=0;S<l.length;S++)this.openFrontierNode(l[S]);let s=this.unplaced,u=r?r.content:s.content,f=s.openStart-e,d=0,p=[],{match:m,type:v}=this.frontier[n];if(i){for(let S=0;S<i.childCount;S++)p.push(i.child(S));m=m.matchFragment(i)}let y=u.size+e-(s.content.size-s.openEnd);for(;d<u.childCount;){let S=u.child(d),w=m.matchType(S.type);if(!w)break;d++,(d>1||f==0||S.content.size)&&(m=w,p.push(dC(S.mark(v.allowedMarks(S.marks)),d==1?f:0,d==u.childCount?y:-1)))}let b=d==u.childCount;b||(y=-1),this.placed=Cs(this.placed,n,Z.from(p)),this.frontier[n].match=m,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,w=u;S<y;S++){let C=w.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),w=C.content}this.unplaced=b?e==0?ae.empty:new ae(Es(s.content,e-1,1),e-1,y<0?s.openEnd:e-1):new ae(Es(s.content,e,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Yp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],l=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Yp(e,n,i,r,l);if(s){for(let u=n-1;u>=0;u--){let{match:f,type:d}=this.frontier[u],p=Yp(e,u,d,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:s,move:l?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cs(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),l=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,l)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cs(this.placed,this.depth,Z.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Z.empty,!0);n.childCount&&(this.placed=Cs(this.placed,this.frontier.length,n))}}function Es(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Es(t.firstChild.content,e-1,n)))}function Cs(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Cs(t.lastChild.content,e-1,n)))}function Wp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function dC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,dC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Z.empty,!0)))),t.copy(r)}function Yp(t,e,n,r,i){let l=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==l.childCount&&!n.compatibleContent(l.type))return null;let u=r.fillBefore(l.content,!0,s);return u&&!uI(n,l.content,s)?u:null}function uI(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function cI(t){return t.spec.defining||t.spec.definingForContent}function fI(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),l=t.doc.resolve(n);if(fC(i,l,r))return t.step(new wt(e,n,r));let s=pC(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let u=-(i.depth+1);s.unshift(u);for(let v=i.depth,y=i.pos-1;v>0;v--,y--){let b=i.node(v).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(v)>-1?u=v:i.before(v)==y&&s.splice(1,0,-v)}let f=s.indexOf(u),d=[],p=r.openStart;for(let v=r.content,y=0;;y++){let b=v.firstChild;if(d.push(b),y==r.openStart)break;v=b.content}for(let v=p-1;v>=0;v--){let y=d[v],b=cI(y.type);if(b&&!y.sameMarkup(i.node(Math.abs(u)-1)))p=v;else if(b||!y.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let y=(v+p+1)%(r.openStart+1),b=d[y];if(b)for(let S=0;S<s.length;S++){let w=s[(S+f)%s.length],C=!0;w<0&&(C=!1,w=-w);let T=i.node(w-1),M=i.index(w-1);if(T.canReplaceWith(M,M,b.type,b.marks))return t.replace(i.before(w),C?l.after(w):n,new ae(hC(r.content,0,r.openStart,y),y,r.openEnd))}}let m=t.steps.length;for(let v=s.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>m));v--){let y=s[v];y<0||(e=i.before(y),n=l.after(y))}}function hC(t,e,n,r,i){if(e<n){let l=t.firstChild;t=t.replaceChild(0,l.copy(hC(l.content,e+1,n,r,l)))}if(e>r){let l=i.contentMatchAt(0),s=l.fillBefore(t).append(t);t=s.append(l.matchFragment(s).fillBefore(Z.empty,!0))}return t}function dI(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=aI(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ae(Z.from(r),0,0))}function hI(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),l=pC(r,i);for(let s=0;s<l.length;s++){let u=l[s],f=s==l.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),i.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return t.delete(r.before(u),i.after(u))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function pC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let l=t.start(i);if(l<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(l==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==l-1)&&n.push(i)}return n}class Vl extends _t{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at attribute step's position");let r=Object.create(null);for(let l in n.attrs)r[l]=n.attrs[l];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ht.fromReplace(e,this.pos,this.pos+1,new ae(Z.from(i),0,n.isLeaf?0:1))}getMap(){return vn.empty}invert(e){return new Vl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Vl(n.pos,n.attr,n.value)}}_t.jsonID("attr",Vl);class Hs extends _t{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return ht.ok(r)}getMap(){return vn.empty}invert(e){return new Hs(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Hs(n.attr,n.value)}}_t.jsonID("docAttr",Hs);let Kl=class extends Error{};Kl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Kl.prototype=Object.create(Error.prototype);Kl.prototype.constructor=Kl;Kl.prototype.name="TransformError";class pI{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ul}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Kl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ae.empty){let i=Xf(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ae(Z.from(r),0,0))}delete(e,n){return this.replace(e,n,ae.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return fI(this,e,n,r),this}replaceRangeWith(e,n,r){return dI(this,e,n,r),this}deleteRange(e,n){return hI(this,e,n),this}lift(e,n){return Q2(this,e,n),this}join(e,n=1){return lI(this,e,n),this}wrap(e,n){return eI(this,e,n),this}setBlockType(e,n=e,r,i=null){return tI(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return rI(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Vl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Hs(e,n)),this}addNodeMark(e,n){return this.step(new Mi(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Xe)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Yl(e,n)),this}split(e,n=1,r){return iI(this,e,n,r),this}addMark(e,n,r){return Y2(this,e,n,r),this}removeMark(e,n,r){return K2(this,e,n,r),this}clearIncompatible(e,n,r){return Vg(this,e,n,r),this}}const Kp=Object.create(null);class De{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new mI(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ae.empty){let r=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=r,r=r.lastChild;let l=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:f,$to:d}=s[u],p=e.mapping.slice(l);e.replaceRange(p.map(f.pos),p.map(d.pos),u?ae.empty:n),u==0&&jS(e,l,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){let{$from:s,$to:u}=i[l],f=e.mapping.slice(r),d=f.map(s.pos),p=f.map(u.pos);l?e.deleteRange(d,p):(e.replaceRangeWith(d,p,n),jS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ce(e):Hl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let l=e.depth-1;l>=0;l--){let s=n<0?Hl(e.node(0),e.node(l),e.before(l+1),e.index(l),n,r):Hl(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new bn(e.node(0))}static atStart(e){return Hl(e,e,0,0,1)||new bn(e)}static atEnd(e){return Hl(e,e,e.content.size,e.childCount,-1)||new bn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Kp[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Kp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Kp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ce.between(this.$anchor,this.$head).getBookmark()}}De.prototype.visible=!0;class mI{constructor(e,n){this.$from=e,this.$to=n}}let PS=!1;function LS(t){!PS&&!t.parent.inlineContent&&(PS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ce extends De{constructor(e,n=e){LS(e),LS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return De.near(r);let i=e.resolve(n.map(this.anchor));return new Ce(i.parent.inlineContent?i:r,r)}replace(e,n=ae.empty){if(super.replace(e,n),n==ae.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ce&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Qf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ce(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let l=De.findFrom(n,r,!0)||De.findFrom(n,-r,!0);if(l)n=l.$head;else return De.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(De.findFrom(e,-r,!0)||De.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ce(e,n)}}De.jsonID("text",Ce);class Qf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Qf(e.map(this.anchor),e.map(this.head))}resolve(e){return Ce.between(e.resolve(this.anchor),e.resolve(this.head))}}class Se extends De{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),l=e.resolve(i);return r?De.near(l):new Se(l)}content(){return new ae(Z.from(this.node),0,0)}eq(e){return e instanceof Se&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Gg(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Se(e.resolve(n.anchor))}static create(e,n){return new Se(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Se.prototype.visible=!1;De.jsonID("node",Se);class Gg{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Qf(r,r):new Gg(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Se.isSelectable(r)?new Se(n):De.near(n)}}class bn extends De{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ae.empty){if(n==ae.empty){e.delete(0,e.doc.content.size);let r=De.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new bn(e)}map(e){return new bn(e)}eq(e){return e instanceof bn}getBookmark(){return gI}}De.jsonID("all",bn);const gI={map(){return this},resolve(t){return new bn(t)}};function Hl(t,e,n,r,i,l=!1){if(e.inlineContent)return Ce.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let u=e.child(s);if(u.isAtom){if(!l&&Se.isSelectable(u))return Se.create(t,n-(i<0?u.nodeSize:0))}else{let f=Hl(t,u,n+i,i<0?u.childCount:0,i,l);if(f)return f}n+=u.nodeSize*i}return null}function jS(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof wt||i instanceof Et))return;let l=t.mapping.maps[r],s;l.forEach((u,f,d,p)=>{s==null&&(s=p)}),t.setSelection(De.near(t.doc.resolve(s),n))}const zS=1,HS=2,$S=4;class vI extends pI{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|zS)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&zS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=HS,this}ensureMarks(e){return Xe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&HS)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Xe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let l=this.storedMarks;if(!l){let s=this.doc.resolve(n);l=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,l)),this.selection.empty||this.setSelection(De.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$S,this}get scrolledIntoView(){return(this.updated&$S)>0}}function FS(t,e){return!e||!t?t:t.bind(e)}class Os{constructor(e,n,r){this.name=e,this.init=FS(n.init,r),this.apply=FS(n.apply,r)}}const yI=[new Os("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Os("selection",{init(t,e){return t.selection||De.atStart(e.doc)},apply(t){return t.selection}}),new Os("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Os("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Xp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yI.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Os(r.key,r.spec.state,r))})}}class Fl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let l=!1;for(let s=0;s<this.config.plugins.length;s++){let u=this.config.plugins[s];if(u.spec.appendTransaction){let f=i?i[s].n:0,d=i?i[s].state:this,p=f<n.length&&u.spec.appendTransaction.call(u,f?n.slice(f):n,d,r);if(p&&r.filterTransaction(p,s)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),l=!0}i&&(i[s]={state:r,n:n.length})}}if(!l)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Fl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let l=r[i];n[l.name]=l.apply(e,this[l.name],this,n)}return n}get tr(){return new vI(this)}static create(e){let n=new Xp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Fl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Xp(this.schema,e.plugins),r=n.fields,i=new Fl(n);for(let l=0;l<r.length;l++){let s=r[l].name;i[s]=this.hasOwnProperty(s)?this[s]:r[l].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],l=i.spec.state;l&&l.toJSON&&(n[r]=l.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Xp(e.schema,e.plugins),l=new Fl(i);return i.fields.forEach(s=>{if(s.name=="doc")l.doc=Ai.fromJSON(e.schema,n.doc);else if(s.name=="selection")l.selection=De.fromJSON(l.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(l.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],d=f.spec.state;if(f.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){l[s.name]=d.fromJSON.call(f,e,n[u],l);return}}l[s.name]=s.init(e,l)}}),l}}function mC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=mC(i,e,{})),n[r]=i}return n}class an{constructor(e){this.spec=e,this.props={},e.props&&mC(e.props,this,this.props),this.key=e.key?e.key.key:gC("plugin")}getState(e){return e[this.key]}}const Qp=Object.create(null);function gC(t){return t in Qp?t+"$"+ ++Qp[t]:(Qp[t]=0,t+"$")}class Sr{constructor(e="key"){this.key=gC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const It=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},$s=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Jm=null;const Ur=function(t,e,n){let r=Jm||(Jm=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},bI=function(){Jm=null},Uo=function(t,e,n,r){return n&&(_S(t,e,n,r,-1)||_S(t,e,n,r,1))},xI=/^(img|br|input|textarea|hr)$/i;function _S(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:_n(t))){let l=t.parentNode;if(!l||l.nodeType!=1||iu(t)||xI.test(t.nodeName)||t.contentEditable=="false")return!1;e=It(t)+(i<0?0:1),t=l}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?_n(t):0}else return!1}}function _n(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function SI(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=_n(t)}else if(t.parentNode&&!iu(t))e=It(t),t=t.parentNode;else return null}}function wI(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!iu(t))e=It(t)+1,t=t.parentNode;else return null}}function EI(t,e,n){for(let r=e==0,i=e==_n(t);r||i;){if(t==n)return!0;let l=It(t);if(t=t.parentNode,!t)return!1;r=r&&l==0,i=i&&l==_n(t)}}function iu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Jf=function(t){return t.focusNode&&Uo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Oo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function CI(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function OI(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(_n(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(_n(r.startContainer),r.startOffset)}}}const yr=typeof navigator<"u"?navigator:null,US=typeof document<"u"?document:null,Wi=yr&&yr.userAgent||"",Zm=/Edge\/(\d+)/.exec(Wi),vC=/MSIE \d/.exec(Wi),eg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wi),ln=!!(vC||eg||Zm),Ri=vC?document.documentMode:eg?+eg[1]:Zm?+Zm[1]:0,tr=!ln&&/gecko\/(\d+)/i.test(Wi);tr&&+(/Firefox\/(\d+)/.exec(Wi)||[0,0])[1];const tg=!ln&&/Chrome\/(\d+)/.exec(Wi),Ft=!!tg,yC=tg?+tg[1]:0,Xt=!ln&&!!yr&&/Apple Computer/.test(yr.vendor),Xl=Xt&&(/Mobile\/\w+/.test(Wi)||!!yr&&yr.maxTouchPoints>2),$n=Xl||(yr?/Mac/.test(yr.platform):!1),TI=yr?/Win/.test(yr.platform):!1,Vr=/Android \d/.test(Wi),ou=!!US&&"webkitFontSmoothing"in US.documentElement.style,MI=ou?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function DI(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function _r(t,e){return typeof t=="number"?t:t[e]}function AI(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function VS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let s=n||t.dom;s;s=$s(s)){if(s.nodeType!=1)continue;let u=s,f=u==l.body,d=f?DI(l):AI(u),p=0,m=0;if(e.top<d.top+_r(r,"top")?m=-(d.top-e.top+_r(i,"top")):e.bottom>d.bottom-_r(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+_r(i,"top")-d.top:e.bottom-d.bottom+_r(i,"bottom")),e.left<d.left+_r(r,"left")?p=-(d.left-e.left+_r(i,"left")):e.right>d.right-_r(r,"right")&&(p=e.right-d.right+_r(i,"right")),p||m)if(f)l.defaultView.scrollBy(p,m);else{let v=u.scrollLeft,y=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let b=u.scrollLeft-v,S=u.scrollTop-y;e={left:e.left-b,top:e.top-S,right:e.right-b,bottom:e.bottom-S}}if(f||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function NI(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let l=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let u=t.root.elementFromPoint(l,s);if(!u||u==t.dom||!t.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=n-20){r=u,i=f.top;break}}return{refDOM:r,refTop:i,stack:bC(t.dom)}}function bC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=$s(r));return e}function RI({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;xC(n,r==0?0:r-e)}function xC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:l}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let Il=null;function kI(t){if(t.setActive)return t.setActive();if(Il)return t.focus(Il);let e=bC(t);t.focus(Il==null?{get preventScroll(){return Il={preventScroll:!0},!0}}:void 0),Il||(Il=!1,xC(e,0))}function SC(t,e){let n,r=2e8,i,l=0,s=e.top,u=e.top,f,d;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Ur(p).getClientRects();else continue;for(let y=0;y<v.length;y++){let b=v[y];if(b.top<=s&&b.bottom>=u){s=Math.max(b.bottom,s),u=Math.min(b.top,u);let S=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(S<r){n=p,r=S,i=S&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&S&&(l=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!f&&b.left<=e.left&&b.right>=e.left&&(f=p,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(l=m+1)}}return!n&&f&&(n=f,i=d,r=0),n&&n.nodeType==3?II(n,i):!n||r&&n.nodeType==1?{node:t,offset:l}:SC(n,i)}function II(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let l=wi(r,1);if(l.top!=l.bottom&&Wg(e,l))return{node:t,offset:i+(e.left>=(l.left+l.right)/2?1:0)}}return{node:t,offset:0}}function Wg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function BI(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function PI(t,e,n){let{node:r,offset:i}=SC(e,n),l=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();l=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,l)}function LI(t,e,n,r){let i=-1;for(let l=e,s=!1;l!=t.dom;){let u=t.docView.nearestDesc(l,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&(!s&&f.left>r.left||f.top>r.top?i=u.posBefore:(!s&&f.right<r.left||f.bottom<r.top)&&(i=u.posAfter),s=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function wC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),l=i;;){let s=t.childNodes[l];if(s.nodeType==1){let u=s.getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(Wg(e,d))return wC(s,e,d)}}if((l=(l+1)%r)==i)break}return t}function jI(t,e){let n=t.dom.ownerDocument,r,i=0,l=OI(n,e.left,e.top);l&&({node:r,offset:i}=l);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=t.dom.getBoundingClientRect();if(!Wg(e,d)||(s=wC(t.dom,e,d),!s))return null}if(Xt)for(let d=s;r&&d;d=$s(d))d.draggable&&(r=void 0);if(s=BI(s,e),r){if(tr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let d;ou&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=LI(t,r,i,e))}u==null&&(u=PI(t,s,e));let f=t.docView.nearestDesc(s,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function qS(t){return t.top<t.bottom||t.left<t.right}function wi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(qS(r))return r}return Array.prototype.find.call(n,qS)||t.getBoundingClientRect()}const zI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function EC(t,e,n){let{node:r,offset:i,atom:l}=t.docView.domFromPos(e,n<0?-1:1),s=ou||tr;if(r.nodeType==3)if(s&&(zI.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let f=wi(Ur(r,i,i),n);if(tr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=wi(Ur(r,i-1,i-1),-1);if(d.top==f.top){let p=wi(Ur(r,i,i+1),-1);if(p.top!=f.top)return vs(p,p.left<d.left)}}return f}else{let f=i,d=i,p=n<0?1:-1;return n<0&&!i?(d++,p=-1):n>=0&&i==r.nodeValue.length?(f--,p=1):n<0?f--:d++,vs(wi(Ur(r,f,d),p),p<0)}if(!t.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&i&&(n<0||i==_n(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return Jp(f.getBoundingClientRect(),!1)}if(l==null&&i<_n(r)){let f=r.childNodes[i];if(f.nodeType==1)return Jp(f.getBoundingClientRect(),!0)}return Jp(r.getBoundingClientRect(),n>=0)}if(l==null&&i&&(n<0||i==_n(r))){let f=r.childNodes[i-1],d=f.nodeType==3?Ur(f,_n(f)-(s?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return vs(wi(d,1),!1)}if(l==null&&i<_n(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?Ur(f,0,s?0:1):f.nodeType==1?f:null:null;if(d)return vs(wi(d,-1),!0)}return vs(wi(r.nodeType==3?Ur(r):r,-n),n>=0)}function vs(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Jp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function CC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function HI(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return CC(t,e,()=>{let{node:l}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let s=EC(t,i.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Ur(u,0,u.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(n=="up"?s.top-p.top>(p.bottom-s.top)*2:p.bottom-s.bottom>(s.bottom-p.top)*2))return!1}}return!0})}const $I=/[\u0590-\u08ac]/;function FI(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,l=!i,s=i==r.parent.content.size,u=t.domSelection();return u?!$I.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?l:s:CC(t,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),v=u.caretBidiLevel;u.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:S}=t.domSelectionRange(),w=b&&!y.contains(b.nodeType==1?b:b.parentNode)||f==b&&d==S;try{u.collapse(p,m),f&&(f!=p||d!=m)&&u.extend&&u.extend(f,d)}catch{}return v!=null&&(u.caretBidiLevel=v),w}):r.pos==r.start()||r.pos==r.end()}let GS=null,WS=null,YS=!1;function _I(t,e,n){return GS==e&&WS==n?YS:(GS=e,WS=n,YS=n=="up"||n=="down"?HI(t,e,n):FI(t,e,n))}const qn=0,KS=1,Do=2,br=3;class lu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,s;if(e==this.contentDOM)l=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((s=l.pmViewDesc)&&s.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(s)+s.size:this.posAtStart}else{let l,s;if(e==this.contentDOM)l=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((s=l.pmViewDesc)&&s.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>It(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let l=e;;l=l.parentNode){if(l==this.dom){i=!1;break}if(l.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){i=!0;break}if(l.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let l=this.getDesc(i),s;if(l&&(!n||l.node))if(r&&(s=l.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return l}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let l=this.getDesc(i);if(l)return l.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],l=r+i.size;if(r==e&&l!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let u=i.children[s];if(u.size){i=u;break}}return i}if(e<l)return i.descAt(e-r-i.border);r=l}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let l=0;r<this.children.length;r++){let s=this.children[r],u=l+s.size;if(u>e||s instanceof TC){i=e-l;break}l=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof OC&&l.side>=0;r--);if(n<=0){let l,s=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,s=!1);return l&&n&&s&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?It(l.dom)+1:0}}else{let l,s=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,s=!1);return l&&s&&!l.border&&!l.domAtom?l.domFromPos(0,n):{node:this.contentDOM,offset:l?It(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,l=-1;for(let s=r,u=0;;u++){let f=this.children[u],d=s+f.size;if(i==-1&&e<=d){let p=s+f.border;if(e>=p&&n<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=s;for(let m=u;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=It(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(d>n||u==this.children.length-1)){n=d;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){l=It(m.dom);break}n+=m.size}l==-1&&(l=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let l=Math.min(e,n),s=Math.max(e,n);for(let y=0,b=0;y<this.children.length;y++){let S=this.children[y],w=b+S.size;if(l>b&&s<w)return S.setSelection(e-b-S.border,n-b-S.border,r,i);b=w}let u=this.domFromPos(e,e?-1:1),f=n==e?u:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((tr||Xt)&&e==n){let{node:y,offset:b}=u;if(y.nodeType==3){if(m=!!(b&&y.nodeValue[b-1]==`
`),m&&b==y.nodeValue.length)for(let S=y,w;S;S=S.parentNode){if(w=S.nextSibling){w.nodeName=="BR"&&(u=f={node:w.parentNode,offset:It(w)+1});break}let C=S.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let S=y.childNodes[b-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(tr&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let y=p.focusNode.childNodes[p.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||m&&Xt)&&Uo(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Uo(f.node,f.offset,p.focusNode,p.focusOffset))return;let v=!1;if((d.extend||e==n)&&!m){d.collapse(u.node,u.offset);try{e!=n&&d.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>n){let b=u;u=f,f=b}let y=document.createRange();y.setEnd(f.node,f.offset),y.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let l=this.children[i],s=r+l.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let u=r+l.border,f=s-l.border;if(e>=u&&n<=f){this.dirty=e==r||n==s?Do:KS,e==u&&n==f&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=br:l.markDirty(e-u,n-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Do:br}r=s}this.dirty=Do}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Do:KS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class OC extends lu{constructor(e,n,r,i){let l,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)})),!n.type.spec.raw){if(s.nodeType!=1){let u=document.createElement("span");u.appendChild(s),s=u}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,l=this}matchesWidget(e){return this.dirty==qn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class UI extends lu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Vo extends lu{constructor(e,n,r,i,l){super(e,[],r,i),this.mark=n,this.spec=l}static create(e,n,r,i){let l=i.nodeViews[n.type.name],s=l&&l(n,i,r);return(!s||!s.dom)&&(s=Xo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Vo(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=br&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qn}}slice(e,n,r){let i=Vo.create(this.parent,this.mark,!0,r),l=this.children,s=this.size;n<s&&(l=rg(l,n,s,r)),e>0&&(l=rg(l,0,e,r));for(let u=0;u<l.length;u++)l[u].parent=i;return i.children=l,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ki extends lu{constructor(e,n,r,i,l,s,u,f,d){super(e,[],l,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,n,r,i,l,s){let u=l.nodeViews[n.type.name],f,d=u&&u(n,l,()=>{if(!f)return s;if(f.parent)return f.parent.posBeforeChild(f)},r,i),p=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Xo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=AC(p,r,n),d?f=new VI(e,n,r,i,p,m||null,v,d,l,s+1):n.isText?new Zf(e,n,r,i,p,v,l):new ki(e,n,r,i,p,m||null,v,l,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Z.empty)}return e}matchesNode(e,n,r){return this.dirty==qn&&e.eq(this.node)&&pf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,l=e.composing?this.localCompositionInfo(e,n):null,s=l&&l.pos>-1?l:null,u=l&&l.pos<0,f=new GI(this,s&&s.node,e);KI(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?Xe.none:this.node.child(p).marks,r,e),f.placeWidget(d,e,i)},(d,p,m,v)=>{f.syncToMarks(d.marks,r,e);let y;f.findNodeMatch(d,p,m,v)||u&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(y=f.findIndexWithChild(l.node))>-1&&f.updateNodeAt(d,p,m,y,e)||f.updateNextNode(d,p,m,e,v,i)||f.addNode(d,p,m,e,i),i+=d.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Do)&&(s&&this.protectLocalComposition(e,s),MC(this.contentDOM,this.children,e),Xl&&XI(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ce)||r<n||i>n+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let s=l.nodeValue,u=QI(this.node.content,s,r-n,i-n);return u<0?null:{node:l,pos:u,text:s}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let s=new UI(this,l,n,i);e.input.compositionNodes.push(s),this.children=rg(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qn}updateOuterDeco(e){if(pf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=DC(this.dom,this.nodeDOM,ng(this.outerDeco,this.node,n),ng(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function XS(t,e,n,r,i){AC(r,e,t);let l=new ki(void 0,t,e,n,r,r,r,i,0);return l.contentDOM&&l.updateChildren(i,0),l}class Zf extends ki{constructor(e,n,r,i,l,s,u){super(e,n,r,i,l,null,s,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==br||this.dirty!=qn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=qn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),l=document.createTextNode(i.text);return new Zf(this.parent,i,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=br)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TC extends lu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class VI extends ki{constructor(e,n,r,i,l,s,u,f,d,p){super(e,n,r,i,l,s,u,d,p),this.spec=f}update(e,n,r,i){if(this.dirty==br)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,n,r);return l&&this.updateInner(e,n,r,i),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function MC(t,e,n){let r=t.firstChild,i=!1;for(let l=0;l<e.length;l++){let s=e[l],u=s.dom;if(u.parentNode==t){for(;u!=r;)r=QS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(u,r);if(s instanceof Vo){let f=r?r.previousSibling:t.lastChild;MC(s.contentDOM,s.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=QS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ms=function(t){t&&(this.nodeName=t)};Ms.prototype=Object.create(null);const Ao=[new Ms];function ng(t,e,n){if(t.length==0)return Ao;let r=n?Ao[0]:new Ms,i=[r];for(let l=0;l<t.length;l++){let s=t[l].type.attrs;if(s){s.nodeName&&i.push(r=new Ms(s.nodeName));for(let u in s){let f=s[u];f!=null&&(n&&i.length==1&&i.push(r=new Ms(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return i}function DC(t,e,n,r){if(n==Ao&&r==Ao)return e;let i=e;for(let l=0;l<r.length;l++){let s=r[l],u=n[l];if(l){let f;u&&u.nodeName==s.nodeName&&i!=t&&(f=i.parentNode)&&f.nodeName.toLowerCase()==s.nodeName||(f=document.createElement(s.nodeName),f.pmIsDeco=!0,f.appendChild(i),u=Ao[0]),i=f}qI(i,u||Ao[0],s)}return i}function qI(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)i.indexOf(r[l])==-1&&t.classList.remove(r[l]);for(let l=0;l<i.length;l++)r.indexOf(i[l])==-1&&t.classList.add(i[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function AC(t,e,n){return DC(t,t,Ao,ng(e,n,t.nodeType!=1))}function pf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function QS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class GI{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=WI(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,l=this.stack.length>>1,s=Math.min(l,e.length);for(;i<s&&(i==l-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<l;)this.destroyRest(),this.top.dirty=qn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[l])&&!this.isLocked(d.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=Vo.create(this.top,e[l],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,l++}}findNodeMatch(e,n,r,i){let l=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))l=this.top.children.indexOf(s,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let d=this.top.children[u];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,n,r,i,l){let s=this.top.children[i];return s.dirty==br&&s.dom==s.contentDOM&&(s.dirty=Do),s.update(e,n,r,l)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,l,s){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof ki){let d=this.preMatch.matched.get(f);if(d!=null&&d!=l)return!1;let p=f.dom,m,v=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=br&&pf(n,f.outerDeco));if(!v&&f.update(e,n,r,i))return this.destroyBetween(this.index,u),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(f,e,n,r,i,s)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Do,m.updateChildren(i,s+1),m.dirty=qn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,l,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!pf(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=ki.create(this.top,n,r,i,l,s);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,n,r,i,l){let s=ki.create(this.top,e,n,r,i,l);s.contentDOM&&s.updateChildren(i,l+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let l=new OC(this.top,e,n,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Vo;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Zf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Xt||Ft)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new TC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function WI(t,e){let n=e,r=n.children.length,i=t.childCount,l=new Map,s=[];e:for(;i>0;){let u;for(;;)if(r){let d=n.children[r-1];if(d instanceof Vo)n=d,r=d.children.length;else{u=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=u.node;if(f){if(f!=t.child(i-1))break;--i,l.set(u,i),s.push(u)}}return{index:i,matched:l,matches:s.reverse()}}function YI(t,e){return t.type.side-e.type.side}function KI(t,e,n,r){let i=e.locals(t),l=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let p=t.child(d);r(p,i,e.forChild(l,p),d),l+=p.nodeSize}return}let s=0,u=[],f=null;for(let d=0;;){let p,m;for(;s<i.length&&i[s].to==l;){let w=i[s++];w.widget&&(p?(m||(m=[p])).push(w):p=w)}if(p)if(m){m.sort(YI);for(let w=0;w<m.length;w++)n(m[w],d,!!f)}else n(p,d,!!f);let v,y;if(f)y=-1,v=f,f=null;else if(d<t.childCount)y=d,v=t.child(d++);else break;for(let w=0;w<u.length;w++)u[w].to<=l&&u.splice(w--,1);for(;s<i.length&&i[s].from<=l&&i[s].to>l;)u.push(i[s++]);let b=l+v.nodeSize;if(v.isText){let w=b;s<i.length&&i[s].from<w&&(w=i[s].from);for(let C=0;C<u.length;C++)u[C].to<w&&(w=u[C].to);w<b&&(f=v.cut(w-l),v=v.cut(0,w-l),b=w,y=-1)}else for(;s<i.length&&i[s].to<b;)s++;let S=v.isInline&&!v.isLeaf?u.filter(w=>!w.inline):u.slice();r(v,S,e.forChild(l,v),y),l=b}}function XI(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function QI(t,e,n,r){for(let i=0,l=0;i<t.childCount&&l<=r;){let s=t.child(i++),u=l;if(l+=s.nodeSize,!s.isText)continue;let f=s.text;for(;i<t.childCount;){let d=t.child(i++);if(l+=d.nodeSize,!d.isText)break;f+=d.text}if(l>=n){if(l>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let d=u<r?f.lastIndexOf(e,r-u-1):-1;if(d>=0&&d+e.length+u>=n)return u+d;if(n==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function rg(t,e,n,r,i){let l=[];for(let s=0,u=0;s<t.length;s++){let f=t[s],d=u,p=u+=f.size;d>=n||p<=e?l.push(f):(d<e&&l.push(f.slice(0,e-d,r)),i&&(l.push(i),i=void 0),p>n&&l.push(f.slice(n-d,f.size,r)))}return l}function Yg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),l=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let u=r.resolve(s),f,d;if(Jf(n)){for(f=s;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Se.isSelectable(m)&&i.parent&&!(m.isInline&&EI(n.focusNode,n.focusOffset,i.dom))){let v=i.posBefore;d=new Se(s==v?u:r.resolve(v))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=s,v=s;for(let y=0;y<n.rangeCount;y++){let b=n.getRangeAt(y);m=Math.min(m,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[f,s]=v==t.state.selection.anchor?[v,m]:[m,v],u=r.resolve(s)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!d){let m=e=="pointer"||t.state.selection.head<u.pos&&!l?1:-1;d=Kg(t,p,u,m)}return d}function NC(t){return t.editable?t.hasFocus():kC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Yr(t,e=!1){let n=t.state.selection;if(RC(t,n),!!NC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ft){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Uo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ZI(t);else{let{anchor:r,head:i}=n,l,s;JS&&!(n instanceof Ce)&&(n.$from.parent.inlineContent||(l=ZS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=ZS(t,n.to))),t.docView.setSelection(r,i,t,e),JS&&(l&&e1(l),s&&e1(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&JI(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const JS=Xt||Ft&&yC<63;function ZS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,l=r?n.childNodes[r-1]:null;if(Xt&&i&&i.contentEditable=="false")return Zp(i);if((!i||i.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(i)return Zp(i);if(l)return Zp(l)}}function Zp(t){return t.contentEditable="true",Xt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function e1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function JI(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!NC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZI(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,It(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ln&&Ri<=11&&(r.disabled=!0,r.disabled=!1)}function RC(t,e){if(e instanceof Se){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(t1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else t1(t)}function t1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Kg(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ce.between(e,n,r)}function n1(t){return t.editable&&!t.hasFocus()?!1:kC(t)}function kC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function eB(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Uo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function ig(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),l=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return l&&De.findFrom(l,e)}function Ei(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function r1(t,e,n){let r=t.state.selection;if(r instanceof Ce)if(n.indexOf("s")>-1){let{$head:i}=r,l=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+l.nodeSize*(e<0?-1:1));return Ei(t,new Ce(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ig(t.state,e);return i&&i instanceof Se?Ei(t,i):!1}else if(!($n&&n.indexOf("m")>-1)){let i=r.$head,l=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!l||l.isText)return!1;let u=e<0?i.pos-l.nodeSize:i.pos;return l.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM?Se.isSelectable(l)?Ei(t,new Se(e<0?t.state.doc.resolve(i.pos-l.nodeSize):i)):ou?Ei(t,new Ce(t.state.doc.resolve(e<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Se&&r.node.isInline)return Ei(t,new Ce(e>0?r.$to:r.$from));{let i=ig(t.state,e);return i?Ei(t,i):!1}}}function mf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ds(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Bl(t,e){return e<0?tB(t):nB(t)}function tB(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,l,s=!1;for(tr&&n.nodeType==1&&r<mf(n)&&Ds(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Ds(u,-1))i=n,l=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(IC(n))break;{let u=n.previousSibling;for(;u&&Ds(u,-1);)i=n.parentNode,l=It(u),u=u.previousSibling;if(u)n=u,r=mf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?og(t,n,r):i&&og(t,i,l)}function nB(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=mf(n),l,s;for(;;)if(r<i){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Ds(u,1))l=n,s=++r;else break}else{if(IC(n))break;{let u=n.nextSibling;for(;u&&Ds(u,1);)l=u.parentNode,s=It(u)+1,u=u.nextSibling;if(u)n=u,r=0,i=mf(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}l&&og(t,l,s)}function IC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function rB(t,e){for(;t&&e==t.childNodes.length&&!iu(t);)e=It(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function iB(t,e){for(;t&&!e&&!iu(t);)e=It(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function og(t,e,n){if(e.nodeType!=3){let l,s;(s=rB(e,n))?(e=s,n=0):(l=iB(e,n))&&(e=l,n=l.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Jf(r)){let l=document.createRange();l.setEnd(e,n),l.setStart(e,n),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Yr(t)},50)}function i1(t,e){let n=t.state.doc.resolve(e);if(!(Ft||TI)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let l=t.coordsAtPos(e-1),s=(l.top+l.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(l.left-i.left)>1)return l.left<i.left?"ltr":"rtl"}if(e<n.end()){let l=t.coordsAtPos(e+1),s=(l.top+l.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(l.left-i.left)>1)return l.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function o1(t,e,n){let r=t.state.selection;if(r instanceof Ce&&!r.empty||n.indexOf("s")>-1||$n&&n.indexOf("m")>-1)return!1;let{$from:i,$to:l}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=ig(t.state,e);if(s&&s instanceof Se)return Ei(t,s)}if(!i.parent.inlineContent){let s=e<0?i:l,u=r instanceof bn?De.near(s,e):De.findFrom(s,e);return u?Ei(t,u):!1}return!1}function l1(t,e){if(!(t.state.selection instanceof Ce))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let s=t.state.tr;return e<0?s.delete(n.pos-l.nodeSize,n.pos):s.delete(n.pos,n.pos+l.nodeSize),t.dispatch(s),!0}return!1}function a1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function oB(t){if(!Xt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;a1(t,r,"true"),setTimeout(()=>a1(t,r,"false"),20)}return!1}function lB(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function aB(t,e){let n=e.keyCode,r=lB(e);if(n==8||$n&&n==72&&r=="c")return l1(t,-1)||Bl(t,-1);if(n==46&&!e.shiftKey||$n&&n==68&&r=="c")return l1(t,1)||Bl(t,1);if(n==13||n==27)return!0;if(n==37||$n&&n==66&&r=="c"){let i=n==37?i1(t,t.state.selection.from)=="ltr"?-1:1:-1;return r1(t,i,r)||Bl(t,i)}else if(n==39||$n&&n==70&&r=="c"){let i=n==39?i1(t,t.state.selection.from)=="ltr"?1:-1:1;return r1(t,i,r)||Bl(t,i)}else{if(n==38||$n&&n==80&&r=="c")return o1(t,-1,r)||Bl(t,-1);if(n==40||$n&&n==78&&r=="c")return oB(t)||o1(t,1,r)||Bl(t,1);if(r==($n?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Xg(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:i,openEnd:l}=e;for(;i>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,l--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let s=t.someProp("clipboardSerializer")||Xo.fromSchema(t.state.schema),u=HC(),f=u.createElement("div");f.appendChild(s.serializeFragment(r,{document:u}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=zC[d.nodeName.toLowerCase()]);){for(let y=p.length-1;y>=0;y--){let b=u.createElement(p[y]);for(;f.firstChild;)b.appendChild(f.firstChild);f.appendChild(b),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${l}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function BC(t,e,n,r,i){let l=i.parent.type.spec.code,s,u;if(!n&&!e)return null;let f=e&&(r||l||!n);if(f){if(t.someProp("transformPastedText",v=>{e=v(e,l||r,t)}),l)return e?new ae(Z.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ae.empty;let m=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(m)u=m;else{let v=i.marks(),{schema:y}=t.state,b=Xo.fromSchema(y);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let w=s.appendChild(document.createElement("p"));S&&w.appendChild(b.serializeNode(y.text(S,v)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),s=fB(n),ou&&dB(s);let d=s&&s.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=s.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;s=v}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Ni.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(f||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!sB.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)u=hB(s1(u,+p[1],+p[2]),p[4]);else if(u=ae.maxOpen(uB(u.content,i),!0),u.openStart||u.openEnd){let m=0,v=0;for(let y=u.content.firstChild;m<u.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=u.content.lastChild;v<u.openEnd&&!y.type.spec.isolating;v++,y=y.lastChild);u=s1(u,m,v)}return t.someProp("transformPasted",m=>{u=m(u,t)}),u}const sB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function uB(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),l,s=[];if(t.forEach(u=>{if(!s)return;let f=i.findWrapping(u.type),d;if(!f)return s=null;if(d=s.length&&l.length&&LC(f,l,u,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=jC(s[s.length-1],l.length));let p=PC(u,f);s.push(p),i=i.matchType(p.type),l=f}}),s)return Z.from(s)}return t}function PC(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Z.from(t));return t}function LC(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let l=LC(t,e,n,r.lastChild,i+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Z.from(PC(n,t,i+1))))}}function jC(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Z.empty,!0);return t.copy(n.append(r))}function lg(t,e,n,r,i,l){let s=e<0?t.firstChild:t.lastChild,u=s.content;return t.childCount>1&&(l=0),i<r-1&&(u=lg(u,e,n,r,i+1,l)),i>=n&&(u=e<0?s.contentMatchAt(0).fillBefore(u,l<=i).append(u):u.append(s.contentMatchAt(s.childCount).fillBefore(Z.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(u))}function s1(t,e,n){return e<t.openStart&&(t=new ae(lg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ae(lg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const zC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let u1=null;function HC(){return u1||(u1=document.implementation.createHTMLDocument("title"))}let em=null;function cB(t){let e=window.trustedTypes;return e?(em||(em=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),em.createHTML(t)):t}function fB(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=HC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&zC[r[1].toLowerCase()])&&(t=i.map(l=>"<"+l+">").join("")+t+i.map(l=>"</"+l+">").reverse().join("")),n.innerHTML=cB(t),i)for(let l=0;l<i.length;l++)n=n.querySelector(i[l])||n;return n}function dB(t){let e=t.querySelectorAll(Ft?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function hB(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:l,openEnd:s}=t;for(let u=r.length-2;u>=0;u-=2){let f=n.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;i=Z.from(f.create(r[u+1],i)),l++,s++}return new ae(i,l,s)}const Qt={},Jt={},pB={touchstart:!0,touchmove:!0};class mB{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gB(t){for(let e in Qt){let n=Qt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{yB(t,r)&&!Qg(t,r)&&(t.editable||!(r.type in Jt))&&n(t,r)},pB[e]?{passive:!0}:void 0)}Xt&&t.dom.addEventListener("input",()=>null),ag(t)}function Di(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function vB(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ag(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Qg(t,r))})}function Qg(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function yB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function bB(t,e){!Qg(t,e)&&Qt[e.type]&&(t.editable||!(e.type in Jt))&&Qt[e.type](t,e)}Jt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!FC(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Vr&&Ft&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Xl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Oo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||aB(t,n)?n.preventDefault():Di(t,"key")};Jt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Jt.keypress=(t,e)=>{let n=e;if(FC(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||$n&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ce)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function ed(t){return{left:t.clientX,top:t.clientY}}function xB(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Jg(t,e,n,r,i){if(r==-1)return!1;let l=t.state.doc.resolve(r);for(let s=l.depth+1;s>0;s--)if(t.someProp(e,u=>s>l.depth?u(t,n,l.nodeAfter,l.before(s),i,!0):u(t,n,l.node(s),l.before(s),i,!1)))return!0;return!1}function ql(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function SB(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Se.isSelectable(r)?(ql(t,new Se(n)),!0):!1}function wB(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Se&&(r=n.node);let l=t.state.doc.resolve(e);for(let s=l.depth+1;s>0;s--){let u=s>l.depth?l.nodeAfter:l.node(s);if(Se.isSelectable(u)){r&&n.$from.depth>0&&s>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?i=l.before(n.$from.depth):i=l.before(s);break}}return i!=null?(ql(t,Se.create(t.state.doc,i)),!0):!1}function EB(t,e,n,r,i){return Jg(t,"handleClickOn",e,n,r)||t.someProp("handleClick",l=>l(t,e,r))||(i?wB(t,n):SB(t,n))}function CB(t,e,n,r){return Jg(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function OB(t,e,n,r){return Jg(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||TB(t,n,r)}function TB(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ql(t,Ce.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let l=i.depth+1;l>0;l--){let s=l>i.depth?i.nodeAfter:i.node(l),u=i.before(l);if(s.inlineContent)ql(t,Ce.create(r,u+1,u+1+s.content.size));else if(Se.isSelectable(s))ql(t,Se.create(r,u));else continue;return!0}}function Zg(t){return gf(t)}const $C=$n?"metaKey":"ctrlKey";Qt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Zg(t),i=Date.now(),l="singleClick";i-t.input.lastClick.time<500&&xB(n,t.input.lastClick)&&!n[$C]&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:l};let s=t.posAtCoords(ed(n));s&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MB(t,s,n,!!r)):(l=="doubleClick"?CB:OB)(t,s.pos,s.inside,n)?n.preventDefault():Di(t,"pointer"))};class MB{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[$C],this.allowDefault=r.shiftKey;let l,s;if(n.inside>-1)l=e.state.doc.nodeAt(n.inside),s=n.inside;else{let p=e.state.doc.resolve(n.pos);l=p.parent,s=p.depth?p.before():0}const u=i?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||d instanceof Se&&d.from<=s&&d.to>s)&&(this.mightDrag={node:l,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&tr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Di(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Yr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ed(e))),this.updateAllowDefault(e),this.allowDefault||!n?Di(this.view,"pointer"):EB(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xt&&this.mightDrag&&!this.mightDrag.node.isAtom||Ft&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ql(this.view,De.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Di(this.view,"pointer")}move(e){this.updateAllowDefault(e),Di(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Qt.touchstart=t=>{t.input.lastTouch=Date.now(),Zg(t),Di(t,"pointer")};Qt.touchmove=t=>{t.input.lastTouch=Date.now(),Di(t,"pointer")};Qt.contextmenu=t=>Zg(t);function FC(t,e){return t.composing?!0:Xt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const DB=Vr?5e3:-1;Jt.compositionstart=Jt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ce&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),gf(t,!0),t.markCursor=null;else if(gf(t,!e.selection.empty),tr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,l=r.focusOffset;i&&i.nodeType==1&&l!=0;){let s=l<0?i.lastChild:i.childNodes[l-1];if(!s)break;if(s.nodeType==3){let u=t.domSelection();u&&u.collapse(s,s.nodeValue.length);break}else i=s,l=-1}}t.input.composing=!0}_C(t,DB)};Jt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,_C(t,20))};function _C(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>gf(t),e))}function UC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=NB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function AB(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=SI(e.focusNode,e.focusOffset),r=wI(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(n==l||r==l)return l;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function NB(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function gf(t,e=!1){if(!(Vr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),UC(t),e||t.docView&&t.docView.dirty){let n=Yg(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function RB(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Fs=ln&&Ri<15||Xl&&MI<604;Qt.copy=Jt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let l=Fs?null:n.clipboardData,s=r.content(),{dom:u,text:f}=Xg(t,s);l?(n.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",f)):RB(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kB(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function IB(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?_s(t,r.value,null,i,e):_s(t,r.textContent,r.innerHTML,i,e)},50)}function _s(t,e,n,r,i){let l=BC(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,i,l||ae.empty)))return!0;if(!l)return!1;let s=kB(l),u=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(l);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function VC(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Jt.paste=(t,e)=>{let n=e;if(t.composing&&!Vr)return;let r=Fs?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&_s(t,VC(r),r.getData("text/html"),i,n)?n.preventDefault():IB(t,n)};class qC{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const GC=$n?"altKey":"ctrlKey";Qt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,l=i.empty?null:t.posAtCoords(ed(n)),s;if(!(l&&l.pos>=i.from&&l.pos<=(i instanceof Se?i.to-1:i.to))){if(r&&r.mightDrag)s=Se.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(s=Se.create(t.state.doc,m.posBefore))}}let u=(s||t.state.selection).content(),{dom:f,text:d,slice:p}=Xg(t,u);(!n.dataTransfer.files.length||!Ft||yC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Fs?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",Fs||n.dataTransfer.setData("text/plain",d),t.dragging=new qC(p,!n[GC],s)};Qt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Jt.dragover=Jt.dragenter=(t,e)=>e.preventDefault();Jt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ed(n));if(!i)return;let l=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",b=>{s=b(s,t)}):s=BC(t,VC(n.dataTransfer),Fs?null:n.dataTransfer.getData("text/html"),!1,l);let u=!!(r&&!n[GC]);if(t.someProp("handleDrop",b=>b(t,n,s||ae.empty,u))){n.preventDefault();return}if(!s)return;n.preventDefault();let f=s?cC(t.state.doc,l.pos,s):l.pos;f==null&&(f=l.pos);let d=t.state.tr;if(u){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,v=d.doc;if(m?d.replaceRangeWith(p,p,s.content.firstChild):d.replaceRange(p,p,s),d.doc.eq(v))return;let y=d.doc.resolve(p);if(m&&Se.isSelectable(s.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new Se(y));else{let b=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((S,w,C,T)=>b=T),d.setSelection(Kg(t,y,d.doc.resolve(b)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};Qt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Yr(t)},20))};Qt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Qt.beforeinput=(t,e)=>{if(Ft&&Vr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,Oo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Jt)Qt[t]=Jt[t];function Us(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class vf{constructor(e,n){this.toDOM=e,this.spec=n||Lo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:l,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Un(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof vf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Us(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ii{constructor(e,n){this.attrs=e,this.spec=n||Lo}map(e,n,r,i){let l=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return l>=s?null:new Un(l,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ii&&Us(this.attrs,e.attrs)&&Us(this.spec,e.spec)}static is(e){return e.type instanceof Ii}destroy(){}}class ev{constructor(e,n){this.attrs=e,this.spec=n||Lo}map(e,n,r,i){let l=e.mapResult(n.from+i,1);if(l.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=l.pos?null:new Un(l.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),l;return i==n.from&&!(l=e.child(r)).isText&&i+l.nodeSize==n.to}eq(e){return this==e||e instanceof ev&&Us(this.attrs,e.attrs)&&Us(this.spec,e.spec)}destroy(){}}class Un{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Un(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Un(e,e,new vf(n,r))}static inline(e,n,r,i){return new Un(e,n,new Ii(r,i))}static node(e,n,r,i){return new Un(e,n,new ev(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ii}get widget(){return this.type instanceof vf}}const $l=[],Lo={};class gt{constructor(e,n){this.local=e.length?e:$l,this.children=n.length?n:$l}static create(e,n){return n.length?yf(n,e,0,Lo):Ht}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,l){for(let s=0;s<this.local.length;s++){let u=this.local[s];u.from<=n&&u.to>=e&&(!l||l(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let u=this.children[s]+1;this.children[s+2].findInner(e-u,n-u,r,i+u,l)}}map(e,n,r){return this==Ht||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Lo)}mapInner(e,n,r,i,l){let s;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,i);f&&f.type.valid(n,f)?(s||(s=[])).push(f):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?BB(this.children,s||[],e,n,r,i,l):s?new gt(s.sort(jo),$l):Ht}add(e,n){return n.length?this==Ht?gt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,l=0;e.forEach((u,f)=>{let d=f+r,p;if(p=YC(n,u,d)){for(i||(i=this.children.slice());l<i.length&&i[l]<f;)l+=3;i[l]==f?i[l+2]=i[l+2].addInner(u,p,d+1):i.splice(l,0,f,f+u.nodeSize,yf(p,u,d+1,Lo)),l+=3}});let s=WC(l?KC(n):n,-r);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||s.splice(u--,1);return new gt(s.length?this.local.concat(s).sort(jo):this.local,i||this.children)}remove(e){return e.length==0||this==Ht?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let l=0;l<r.length;l+=3){let s,u=r[l]+n,f=r[l+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<f&&(e[p]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let d=r[l+2].removeInner(s,u+1);d!=Ht?r[l+2]=d:(r.splice(l,3),l-=3)}if(i.length){for(let l=0,s;l<e.length;l++)if(s=e[l])for(let u=0;u<i.length;u++)i[u].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new gt(i,r):Ht}forChild(e,n){if(this==Ht)return this;if(n.isLeaf)return gt.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let l=e+1,s=l+n.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<s&&f.to>l&&f.type instanceof Ii){let d=Math.max(l,f.from)-l,p=Math.min(s,f.to)-l;d<p&&(i||(i=[])).push(f.copy(d,p))}}if(i){let u=new gt(i.sort(jo),$l);return r?new Oi([u,r]):u}return r||Ht}eq(e){if(this==e)return!0;if(!(e instanceof gt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return tv(this.localsInner(e))}localsInner(e){if(this==Ht)return $l;if(e.inlineContent||!this.local.some(Ii.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ii||n.push(this.local[r]);return n}forEachSet(e){e(this)}}gt.empty=new gt([],[]);gt.removeOverlap=tv;const Ht=gt.empty;class Oi{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Lo));return Oi.from(r)}forChild(e,n){if(n.isLeaf)return gt.empty;let r=[];for(let i=0;i<this.members.length;i++){let l=this.members[i].forChild(e,n);l!=Ht&&(l instanceof Oi?r=r.concat(l.members):r.push(l))}return Oi.from(r)}eq(e){if(!(e instanceof Oi)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let l=this.members[i].localsInner(e);if(l.length)if(!n)n=l;else{r&&(n=n.slice(),r=!1);for(let s=0;s<l.length;s++)n.push(l[s])}}return n?tv(r?n:n.sort(jo)):$l}static from(e){switch(e.length){case 0:return Ht;case 1:return e[0];default:return new Oi(e.every(n=>n instanceof gt)?e:e.reduce((n,r)=>n.concat(r instanceof gt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function BB(t,e,n,r,i,l,s){let u=t.slice();for(let d=0,p=l;d<n.maps.length;d++){let m=0;n.maps[d].forEach((v,y,b,S)=>{let w=S-b-(y-v);for(let C=0;C<u.length;C+=3){let T=u[C+1];if(T<0||v>T+p-m)continue;let M=u[C]+p-m;y>=M?u[C+1]=v<=M?-2:-1:v>=p&&w&&(u[C]+=w,u[C+1]+=w)}m+=w}),p=n.maps[d].map(p,-1)}let f=!1;for(let d=0;d<u.length;d+=3)if(u[d+1]<0){if(u[d+1]==-2){f=!0,u[d+1]=-1;continue}let p=n.map(t[d]+l),m=p-i;if(m<0||m>=r.content.size){f=!0;continue}let v=n.map(t[d+1]+l,-1),y=v-i,{index:b,offset:S}=r.content.findIndex(m),w=r.maybeChild(b);if(w&&S==m&&S+w.nodeSize==y){let C=u[d+2].mapInner(n,w,p+1,t[d]+l+1,s);C!=Ht?(u[d]=m,u[d+1]=y,u[d+2]=C):(u[d+1]=-2,f=!0)}else f=!0}if(f){let d=PB(u,t,e,n,i,l,s),p=yf(d,r,0,s);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let y=p.children[m];for(;v<u.length&&u[v]<y;)v+=3;u.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new gt(e.sort(jo),u)}function WC(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Un(i.from+e,i.to+e,i.type))}return n}function PB(t,e,n,r,i,l,s){function u(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(r,i,d);m?n.push(m):s.onRemove&&s.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)u(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&u(t[f+2],e[f]+l+1);return n}function YC(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let l=0,s;l<t.length;l++)(s=t[l])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[l]=null);return i}function KC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function yf(t,e,n,r){let i=[],l=!1;e.forEach((u,f)=>{let d=YC(t,u,f+n);if(d){l=!0;let p=yf(d,u,n+f+1,r);p!=Ht&&i.push(f,f+u.nodeSize,p)}});let s=WC(l?KC(t):t,-n).sort(jo);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||(r.onRemove&&r.onRemove(s[u].spec),s.splice(u--,1));return s.length||i.length?new gt(s,i):Ht}function jo(t,e){return t.from-e.from||t.to-e.to}function tv(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let l=e[i];if(l.from==r.from){l.to!=r.to&&(e==t&&(e=t.slice()),e[i]=l.copy(l.from,r.to),c1(e,i+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,l.from),c1(e,i,r.copy(l.from,r.to)));break}}}return e}function c1(t,e,n){for(;e<t.length&&jo(n,t[e])>0;)e++;t.splice(e,0,n)}function tm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ht&&e.push(r)}),t.cursorWrapper&&e.push(gt.create(t.state.doc,[t.cursorWrapper.deco])),Oi.from(e)}const LB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jB=ln&&Ri<=11;class zB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class HB{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zB,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ln&&Ri<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jB&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,LB)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(n1(this.view)){if(this.suppressingSelectionUpdates)return Yr(this.view);if(ln&&Ri<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Uo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let l=e.focusNode;l;l=$s(l))n.add(l);for(let l=e.anchorNode;l;l=$s(l))if(n.has(l)){r=l;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&n1(e)&&!this.ignoreSelectionChange(r),l=-1,s=-1,u=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],f);m&&(l=l<0?m.from:Math.min(m.from,l),s=s<0?m.to:Math.max(m.to,s),m.typeOver&&(u=!0))}if(tr&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let y=v.parentNode;y&&y.nodeName=="LI"&&(!m||_B(e,m)!=y)&&v.remove()}}}let d=null;l<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Jf(r)&&(d=Yg(e))&&d.eq(De.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Yr(e),this.currentSelection.set(r)):(l>-1||i)&&(l>-1&&(e.docView.markDirty(l,s),$B(e)),this.handleDOMChange(l,s,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Yr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,l=e.nextSibling;if(ln&&Ri<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(l=v)}let s=i&&i.parentNode==e.target?It(i)+1:0,u=r.localPosFromDOM(e.target,s,-1),f=l&&l.parentNode==e.target?It(l):e.target.childNodes.length,d=r.localPosFromDOM(e.target,f,1);return{from:u,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let f1=new WeakMap,d1=!1;function $B(t){if(!f1.has(t)&&(f1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=tr,d1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),d1=!0}}function h1(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,l=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Uo(s.node,s.offset,i,l)&&([n,r,i,l]=[i,l,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:l}}function FB(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return h1(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?h1(t,n):null}function _B(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function UB(t,e,n){let{node:r,fromOffset:i,toOffset:l,from:s,to:u}=t.docView.parseRange(e,n),f=t.domSelectionRange(),d,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],Jf(f)||d.push({node:f.focusNode,offset:f.focusOffset})),Ft&&t.input.lastKeyCode===8)for(let w=l;w>i;w--){let C=r.childNodes[w-1],T=C.pmViewDesc;if(C.nodeName=="BR"&&!T){l=w;break}if(!T||T.size)break}let m=t.state.doc,v=t.someProp("domParser")||Ni.fromSchema(t.state.schema),y=m.resolve(s),b=null,S=v.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:l,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:VB,context:y});if(d&&d[0].pos!=null){let w=d[0].pos,C=d[1]&&d[1].pos;C==null&&(C=w),b={anchor:w+s,head:C+s}}return{doc:S,sel:b,from:s,to:u}}function VB(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Xt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Xt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function GB(t,e,n,r,i){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,W=Yg(t,L);if(W&&!t.state.selection.eq(W)){if(Ft&&Vr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ve=>ve(t,Oo(13,"Enter"))))return;let q=t.state.tr.setSelection(W);L=="pointer"?q.setMeta("pointer",!0):L=="key"&&q.scrollIntoView(),l&&q.setMeta("composition",l),t.dispatch(q)}return}let s=t.state.doc.resolve(e),u=s.sharedDepth(n);e=s.before(u+1),n=t.state.doc.resolve(n).after(u+1);let f=t.state.selection,d=UB(t,e,n),p=t.state.doc,m=p.slice(d.from,d.to),v,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,y="end"):(v=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let b=KB(m.content,d.doc.content,d.from,v,y);if(b&&t.input.domChangeCount++,(Xl&&t.input.lastIOSEnter>Date.now()-225||Vr)&&i.some(L=>L.nodeType==1&&!qB.test(L.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",L=>L(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&f instanceof Ce&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let L=p1(t,t.state.doc,d.sel);if(L&&!L.eq(t.state.selection)){let W=t.state.tr.setSelection(L);l&&W.setMeta("composition",l),t.dispatch(W)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof Ce&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),ln&&Ri<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" "&&(b.start--,b.endA--,b.endB--);let S=d.doc.resolveNoCache(b.start-d.from),w=d.doc.resolveNoCache(b.endB-d.from),C=p.resolve(b.start),T=S.sameParent(w)&&S.parent.inlineContent&&C.end()>=b.endA,M;if((Xl&&t.input.lastIOSEnter>Date.now()-225&&(!T||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!T&&S.pos<d.doc.content.size&&!S.sameParent(w)&&(M=De.findFrom(d.doc.resolve(S.pos+1),1,!0))&&M.head==w.pos)&&t.someProp("handleKeyDown",L=>L(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&YB(p,b.start,b.endA,S,w)&&t.someProp("handleKeyDown",L=>L(t,Oo(8,"Backspace")))){Vr&&Ft&&t.domObserver.suppressSelectionUpdates();return}Ft&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Vr&&!T&&S.start()!=w.start()&&w.parentOffset==0&&S.depth==w.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,w=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Oo(13,"Enter"))})},20));let R=b.start,A=b.endA,I,z,U;if(T){if(S.pos==w.pos)ln&&Ri<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Yr(t),20)),I=t.state.tr.delete(R,A),z=p.resolve(b.start).marksAcross(p.resolve(b.endA));else if(b.endA==b.endB&&(U=WB(S.parent.content.cut(S.parentOffset,w.parentOffset),C.parent.content.cut(C.parentOffset,b.endA-C.start()))))I=t.state.tr,U.type=="add"?I.addMark(R,A,U.mark):I.removeMark(R,A,U.mark);else if(S.parent.child(S.index()).isText&&S.index()==w.index()-(w.textOffset?0:1)){let L=S.parent.textBetween(S.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",W=>W(t,R,A,L)))return;I=t.state.tr.insertText(L,R,A)}}if(I||(I=t.state.tr.replace(R,A,d.doc.slice(b.start-d.from,b.endB-d.from))),d.sel){let L=p1(t,I.doc,d.sel);L&&!(Ft&&t.composing&&L.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(L.head==R||L.head==I.mapping.map(A)-1)||ln&&L.empty&&L.head==R)&&I.setSelection(L)}z&&I.ensureMarks(z),l&&I.setMeta("composition",l),t.dispatch(I.scrollIntoView())}function p1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Kg(t,e.resolve(n.anchor),e.resolve(n.head))}function WB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,l=r,s,u,f;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)l=n[p].removeFromSet(l);if(i.length==1&&l.length==0)u=i[0],s="add",f=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&l.length==1)u=l[0],s="remove",f=p=>p.mark(u.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(Z.from(d).eq(t))return{mark:u,type:s}}function YB(t,e,n,r,i){if(n-e<=i.pos-r.pos||nm(r,!0,!1)<i.pos)return!1;let l=t.resolve(e);if(!r.parent.isTextblock){let u=l.nodeAfter;return u!=null&&n==e+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let s=t.resolve(nm(l,!0,!0));return!s.parent.isTextblock||s.pos>n||nm(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function nm(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let l=t.node(r).maybeChild(t.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,i++}return i}function KB(t,e,n,r,i){let l=t.findDiffStart(e,n);if(l==null)return null;let{a:s,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let f=Math.max(0,l-Math.min(s,u));r-=s+f-l}if(s<l&&t.size<e.size){let f=r<=l&&r>=s?l-r:0;l-=f,l&&l<e.size&&m1(e.textBetween(l-1,l+1))&&(l+=f?1:-1),u=l+(u-s),s=l}else if(u<l){let f=r<=l&&r>=u?l-r:0;l-=f,l&&l<t.size&&m1(t.textBetween(l-1,l+1))&&(l+=f?1:-1),s=l+(s-u),u=l}return{start:l,endA:s,endB:u}}function m1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class XB{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mB,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(x1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=y1(this),v1(this),this.nodeViews=b1(this),this.docView=XS(this.state.doc,g1(this),tm(this),this.dom,this),this.domObserver=new HB(this,(r,i,l,s)=>GB(this,r,i,l,s)),this.domObserver.start(),gB(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ag(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(x1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,l=!1,s=!1;e.storedMarks&&this.composing&&(UC(this),s=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=b1(this);JB(y,this.nodeViews)&&(this.nodeViews=y,l=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&ag(this),this.editable=y1(this),v1(this);let f=tm(this),d=g1(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=l||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(i.selection))&&(s=!0);let v=p=="preserve"&&s&&this.dom.style.overflowAnchor==null&&NI(this);if(s){this.domObserver.stop();let y=m&&(ln||Ft)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&QB(i.selection,e.selection);if(m){let b=Ft?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=AB(this)),(l||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=XS(e.doc,d,f,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&eB(this))?Yr(this,y):(RC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&RI(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Se){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&VS(this,n.getBoundingClientRect(),e)}else VS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let l=r.from+(this.state.doc.content.size-n.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(i=l)}this.dragging=new qC(e.slice,e.move,i<0?void 0:Se.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let u=this.directPlugins[s].props[e];if(u!=null&&(i=n?n(u):u))return i}let l=this.state.plugins;if(l)for(let s=0;s<l.length;s++){let u=l[s].props[e];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(ln){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&kI(this.dom),Yr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return jI(this,e)}coordsAtPos(e,n=1){return EC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return _I(this,n||this.state,e)}pasteHTML(e,n){return _s(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return _s(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xg(this,e)}destroy(){this.docView&&(vB(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bI())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return bB(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Xt&&this.root.nodeType===11&&CI(this.dom.ownerDocument)==this.dom&&FB(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function g1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Un.node(0,t.state.doc.content.size,e)]}function v1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Un.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function y1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function QB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function b1(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function JB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function x1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Hi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ZB=typeof navigator<"u"&&/Mac/.test(navigator.platform),eP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Bt=0;Bt<10;Bt++)Hi[48+Bt]=Hi[96+Bt]=String(Bt);for(var Bt=1;Bt<=24;Bt++)Hi[Bt+111]="F"+Bt;for(var Bt=65;Bt<=90;Bt++)Hi[Bt]=String.fromCharCode(Bt+32),bf[Bt]=String.fromCharCode(Bt);for(var rm in Hi)bf.hasOwnProperty(rm)||(bf[rm]=Hi[rm]);function tP(t){var e=ZB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||eP&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?bf:Hi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const nP=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function rP(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,l,s;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))s=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))nP?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function iP(t){let e=Object.create(null);for(let n in t)e[rP(n)]=t[n];return e}function im(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function oP(t){return new an({props:{handleKeyDown:XC(t)}})}function XC(t){let e=iP(t);return function(n,r){let i=tP(r),l,s=e[im(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[im(i,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(l=Hi[r.keyCode])&&l!=i){let u=e[im(l,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const nv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function QC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const JC=(t,e,n)=>{let r=QC(t,n);if(!r)return!1;let i=rv(r);if(!i){let s=r.blockRange(),u=s&&aa(s);return u==null?!1:(e&&e(t.tr.lift(s,u).scrollIntoView()),!0)}let l=i.nodeBefore;if(aO(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ql(l,"end")||Se.isSelectable(l)))for(let s=r.depth;;s--){let u=Xf(t.doc,r.before(s),r.after(s),ae.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=t.tr.step(u);f.setSelection(Ql(l,"end")?De.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):Se.create(f.doc,i.pos-l.nodeSize)),e(f.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return l.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-l.nodeSize,i.pos).scrollIntoView()),!0):!1},lP=(t,e,n)=>{let r=QC(t,n);if(!r)return!1;let i=rv(r);return i?ZC(t,i,e):!1},aP=(t,e,n)=>{let r=tO(t,n);if(!r)return!1;let i=iv(r);return i?ZC(t,i,e):!1};function ZC(t,e,n){let r=e.nodeBefore,i=r,l=e.pos-1;for(;!i.isTextblock;l--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let s=e.nodeAfter,u=s,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let d=Xf(t.doc,l,f,ae.empty);if(!d||d.from!=l||d instanceof wt&&d.slice.size>=f-l)return!1;if(n){let p=t.tr.step(d);p.setSelection(Ce.create(p.doc,l)),n(p.scrollIntoView())}return!0}function Ql(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const eO=(t,e,n)=>{let{$head:r,empty:i}=t.selection,l=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;l=rv(r)}let s=l&&l.nodeBefore;return!s||!Se.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Se.create(t.doc,l.pos-s.nodeSize)).scrollIntoView()),!0)};function rv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function tO(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const nO=(t,e,n)=>{let r=tO(t,n);if(!r)return!1;let i=iv(r);if(!i)return!1;let l=i.nodeAfter;if(aO(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ql(l,"start")||Se.isSelectable(l))){let s=Xf(t.doc,r.before(),r.after(),ae.empty);if(s&&s.slice.size<s.to-s.from){if(e){let u=t.tr.step(s);u.setSelection(Ql(l,"start")?De.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Se.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return l.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+l.nodeSize).scrollIntoView()),!0):!1},rO=(t,e,n)=>{let{$head:r,empty:i}=t.selection,l=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;l=iv(r)}let s=l&&l.nodeAfter;return!s||!Se.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Se.create(t.doc,l.pos)).scrollIntoView()),!0)};function iv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const sP=(t,e)=>{let n=t.selection,r=n instanceof Se,i;if(r){if(n.node.isTextblock||!Gi(t.doc,n.from))return!1;i=n.from}else if(i=Kf(t.doc,n.from,-1),i==null)return!1;if(e){let l=t.tr.join(i);r&&l.setSelection(Se.create(l.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},uP=(t,e)=>{let n=t.selection,r;if(n instanceof Se){if(n.node.isTextblock||!Gi(t.doc,n.to))return!1;r=n.to}else if(r=Kf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},cP=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),l=i&&aa(i);return l==null?!1:(e&&e(t.tr.lift(i,l).scrollIntoView()),!0)},iO=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ov(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const fP=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),l=n.indexAfter(-1),s=ov(i.contentMatchAt(l));if(!s||!i.canReplaceWith(l,l,s))return!1;if(e){let u=n.after(),f=t.tr.replaceWith(u,u,s.createAndFill());f.setSelection(De.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},oO=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof bn||r.parent.inlineContent||i.parent.inlineContent)return!1;let l=ov(i.parent.contentMatchAt(i.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=t.tr.insert(s,l.createAndFill());u.setSelection(Ce.create(u.doc,s+1)),e(u.scrollIntoView())}return!0},lO=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let l=n.before();if(Wr(t.doc,l))return e&&e(t.tr.split(l).scrollIntoView()),!0}let r=n.blockRange(),i=r&&aa(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function dP(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Se&&e.selection.node.isBlock)return!r.parentOffset||!Wr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],s,u,f=!1,d=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){f=r.end(y)==r.pos+(r.depth-y),d=r.start(y)==r.pos-(r.depth-y),u=ov(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),l.unshift(f&&u?{type:u}:null),s=y;break}else{if(y==1)return!1;l.unshift(null)}let p=e.tr;(e.selection instanceof Ce||e.selection instanceof bn)&&p.deleteSelection();let m=p.mapping.map(r.pos),v=Wr(p.doc,m,l.length,l);if(v||(l[0]=u?{type:u}:null,v=Wr(p.doc,m,l.length,l)),p.split(m,l.length,l),!f&&d&&r.node(s).type!=u){let y=p.mapping.map(r.before(s)),b=p.doc.resolve(y);u&&r.node(s-1).canReplaceWith(b.index(),b.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(s)),u)}return n&&n(p.scrollIntoView()),!0}}const hP=dP(),pP=(t,e)=>{let{$from:n,to:r}=t.selection,i,l=n.sharedDepth(r);return l==0?!1:(i=n.before(l),e&&e(t.tr.setSelection(Se.create(t.doc,i))),!0)};function mP(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,l=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(i.isTextblock||Gi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function aO(t,e,n,r){let i=e.nodeBefore,l=e.nodeAfter,s,u,f=i.type.spec.isolating||l.type.spec.isolating;if(!f&&mP(t,e,n))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(s=(u=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&u.matchType(s[0]||l.type).validEnd){if(n){let y=e.pos+l.nodeSize,b=Z.empty;for(let C=s.length-1;C>=0;C--)b=Z.from(s[C].create(null,b));b=Z.from(i.copy(b));let S=t.tr.step(new Et(e.pos-1,y,e.pos,y,new ae(b,1,0),s.length,!0)),w=S.doc.resolve(y+2*s.length);w.nodeAfter&&w.nodeAfter.type==i.type&&Gi(S.doc,w.pos)&&S.join(w.pos),n(S.scrollIntoView())}return!0}let p=l.type.spec.isolating||r>0&&f?null:De.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&aa(m);if(v!=null&&v>=e.depth)return n&&n(t.tr.lift(m,v).scrollIntoView()),!0;if(d&&Ql(l,"start",!0)&&Ql(i,"end")){let y=i,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let S=l,w=1;for(;!S.isTextblock;S=S.firstChild)w++;if(y.canReplace(y.childCount,y.childCount,S.content)){if(n){let C=Z.empty;for(let M=b.length-1;M>=0;M--)C=Z.from(b[M].copy(C));let T=t.tr.step(new Et(e.pos-b.length,e.pos+l.nodeSize,e.pos+w,e.pos+l.nodeSize-w,new ae(C,b.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function sO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,l=i.depth;for(;i.node(l).isInline;){if(!l)return!1;l--}return i.node(l).isTextblock?(n&&n(e.tr.setSelection(Ce.create(e.doc,t<0?i.start(l):i.end(l)))),!0):!1}}const gP=sO(-1),vP=sO(1);function yP(t,e=null){return function(n,r){let{$from:i,$to:l}=n.selection,s=i.blockRange(l),u=s&&qg(s,t,e);return u?(r&&r(n.tr.wrap(s,u).scrollIntoView()),!0):!1}}function S1(t,e=null){return function(n,r){let i=!1;for(let l=0;l<n.selection.ranges.length&&!i;l++){let{$from:{pos:s},$to:{pos:u}}=n.selection.ranges[l];n.doc.nodesBetween(s,u,(f,d)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)i=!0;else{let p=n.doc.resolve(d),m=p.index();i=p.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let l=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:u},$to:{pos:f}}=n.selection.ranges[s];l.setBlockType(u,f,t,e)}r(l.scrollIntoView())}return!0}}function lv(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}lv(nv,JC,eO);lv(nv,nO,rO);lv(iO,oO,lO,hP);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function bP(t,e=null){return function(n,r){let{$from:i,$to:l}=n.selection,s=i.blockRange(l);if(!s)return!1;let u=r?n.tr:null;return xP(u,s,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function xP(t,e,n,r=null){let i=!1,l=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=s.resolve(e.start-2);l=new df(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new df(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=qg(l,n,r,e);return u?(t&&SP(t,e,u,i,n),!0):!1}function SP(t,e,n,r,i){let l=Z.empty;for(let p=n.length-1;p>=0;p--)l=Z.from(n[p].type.create(n[p].attrs,l));t.step(new Et(e.start-(r?2:0),e.end,e.start,e.end,new ae(l,0,0),n.length,!0));let s=0;for(let p=0;p<n.length;p++)n[p].type==i&&(s=p+1);let u=n.length-s,f=e.start+n.length-(r?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&Wr(t.doc,f,u)&&(t.split(f,u),f+=2*u),f+=d.child(p).nodeSize;return t}function wP(t){return function(e,n){let{$from:r,$to:i}=e.selection,l=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return l?n?r.node(l.depth-1).type==t?EP(e,n,t,l):CP(e,n,l):!0:!1}}function EP(t,e,n,r){let i=t.tr,l=r.end,s=r.$to.end(r.depth);l<s&&(i.step(new Et(l-1,s,l,s,new ae(Z.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new df(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const u=aa(r);if(u==null)return!1;i.lift(r,u);let f=i.mapping.map(l,-1)-1;return Gi(i.doc,f)&&i.join(f),e(i.scrollIntoView()),!0}function CP(t,e,n){let r=t.tr,i=n.parent;for(let y=n.end,b=n.endIndex-1,S=n.startIndex;b>S;b--)y-=i.child(b).nodeSize,r.delete(y-1,y+1);let l=r.doc.resolve(n.start),s=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,f=n.endIndex==i.childCount,d=l.node(-1),p=l.index(-1);if(!d.canReplace(p+(u?0:1),p+1,s.content.append(f?Z.empty:Z.from(i))))return!1;let m=l.pos,v=m+s.nodeSize;return r.step(new Et(m-(u?1:0),v+(f?1:0),m+1,v-1,new ae((u?Z.empty:Z.from(i.copy(Z.empty))).append(f?Z.empty:Z.from(i.copy(Z.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function OP(t){return function(e,n){let{$from:r,$to:i}=e.selection,l=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!l)return!1;let s=l.startIndex;if(s==0)return!1;let u=l.parent,f=u.child(s-1);if(f.type!=t)return!1;if(n){let d=f.lastChild&&f.lastChild.type==u.type,p=Z.from(d?t.create():null),m=new ae(Z.from(t.create(null,Z.from(u.type.create(null,p)))),d?3:1,0),v=l.start,y=l.end;n(e.tr.step(new Et(v-(d?3:1),y,v,y,m,1,!0)).scrollIntoView())}return!0}}function td(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:l}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,l=n.storedMarks,n}}}class nd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:l}=r,s=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...p)=>{const m=f(...p)(s);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:l}=this,{view:s}=i,u=[],f=!!e,d=e||l.tr,p=()=>(!f&&n&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(d),u.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(r).map(([v,y])=>[v,(...S)=>{const w=this.buildProps(d,n),C=y(...S)(w);return u.push(C),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,i=!1,l=e||r.tr,s=this.buildProps(l,i);return{...Object.fromEntries(Object.entries(n).map(([f,d])=>[f,(...p)=>d(...p)({...s,dispatch:void 0})])),chain:()=>this.createChain(l,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:l}=this,{view:s}=i,u={tr:e,editor:i,view:s,state:td({state:l,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...p)=>d(...p)(u)]))}};return u}}class TP{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function de(t,e,n){return t.config[e]===void 0&&t.parent?de(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?de(t.parent,e,n):null}):t.config[e]}function rd(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function uO(t){const e=[],{nodeExtensions:n,markExtensions:r}=rd(t),i=[...n,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const u={name:s.name,options:s.options,storage:s.storage,extensions:i},f=de(s,"addGlobalAttributes",u);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,y])=>{e.push({type:m,name:v,attribute:{...l,...y}})})})})}),i.forEach(s=>{const u={name:s.name,options:s.options,storage:s.storage},f=de(s,"addAttributes",u);if(!f)return;const d=f();Object.entries(d).forEach(([p,m])=>{const v={...l,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:s.name,name:p,attribute:v})})}),e}function Tt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Zt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,l])=>{if(!r[i]){r[i]=l;return}if(i==="class"){const u=l?String(l).split(" "):[],f=r[i]?r[i].split(" "):[],d=u.filter(p=>!f.includes(p));r[i]=[...f,...d].join(" ")}else if(i==="style"){const u=l?l.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[m,v]=p.split(":").map(y=>y.trim());d.set(m,v)}),u.forEach(p=>{const[m,v]=p.split(":").map(y=>y.trim());d.set(m,v)}),r[i]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=l}),r},{})}function sg(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Zt(n,r),{})}function cO(t){return typeof t=="function"}function Ne(t,e=void 0,...n){return cO(t)?e?t.bind(e)(...n):t(...n):t}function MP(t={}){return Object.keys(t).length===0&&t.constructor===Object}function DP(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function w1(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((l,s)=>{const u=s.attribute.parseHTML?s.attribute.parseHTML(n):DP(n.getAttribute(s.name));return u==null?l:{...l,[s.name]:u}},{});return{...r,...i}}}}function E1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&MP(n)?!1:n!=null))}function AP(t,e){var n;const r=uO(t),{nodeExtensions:i,markExtensions:l}=rd(t),s=(n=i.find(d=>de(d,"topNode")))===null||n===void 0?void 0:n.name,u=Object.fromEntries(i.map(d=>{const p=r.filter(C=>C.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},v=t.reduce((C,T)=>{const M=de(T,"extendNodeSchema",m);return{...C,...M?M(d):{}}},{}),y=E1({...v,content:Ne(de(d,"content",m)),marks:Ne(de(d,"marks",m)),group:Ne(de(d,"group",m)),inline:Ne(de(d,"inline",m)),atom:Ne(de(d,"atom",m)),selectable:Ne(de(d,"selectable",m)),draggable:Ne(de(d,"draggable",m)),code:Ne(de(d,"code",m)),whitespace:Ne(de(d,"whitespace",m)),linebreakReplacement:Ne(de(d,"linebreakReplacement",m)),defining:Ne(de(d,"defining",m)),isolating:Ne(de(d,"isolating",m)),attrs:Object.fromEntries(p.map(C=>{var T;return[C.name,{default:(T=C==null?void 0:C.attribute)===null||T===void 0?void 0:T.default}]}))}),b=Ne(de(d,"parseHTML",m));b&&(y.parseDOM=b.map(C=>w1(C,p)));const S=de(d,"renderHTML",m);S&&(y.toDOM=C=>S({node:C,HTMLAttributes:sg(C,p)}));const w=de(d,"renderText",m);return w&&(y.toText=w),[d.name,y]})),f=Object.fromEntries(l.map(d=>{const p=r.filter(w=>w.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},v=t.reduce((w,C)=>{const T=de(C,"extendMarkSchema",m);return{...w,...T?T(d):{}}},{}),y=E1({...v,inclusive:Ne(de(d,"inclusive",m)),excludes:Ne(de(d,"excludes",m)),group:Ne(de(d,"group",m)),spanning:Ne(de(d,"spanning",m)),code:Ne(de(d,"code",m)),attrs:Object.fromEntries(p.map(w=>{var C;return[w.name,{default:(C=w==null?void 0:w.attribute)===null||C===void 0?void 0:C.default}]}))}),b=Ne(de(d,"parseHTML",m));b&&(y.parseDOM=b.map(w=>w1(w,p)));const S=de(d,"renderHTML",m);return S&&(y.toDOM=w=>S({mark:w,HTMLAttributes:sg(w,p)})),[d.name,y]}));return new ZE({topNode:s,nodes:u,marks:f})}function om(t,e){return e.nodes[t]||e.marks[t]||null}function C1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function av(t,e){const n=Xo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const NP=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,l,s,u)=>{var f,d;const p=((d=(f=i.type.spec).toText)===null||d===void 0?void 0:d.call(f,{node:i,pos:l,parent:s,index:u}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-l))}),n};function sv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class id{constructor(e){this.find=e.find,this.handler=e.handler}}const RP=(t,e)=>{if(sv(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Bc(t){var e;const{editor:n,from:r,to:i,text:l,rules:s,plugin:u}=t,{view:f}=n;if(f.composing)return!1;const d=f.state.doc.resolve(r);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=NP(d)+l;return s.forEach(v=>{if(p)return;const y=RP(m,v.find);if(!y)return;const b=f.state.tr,S=td({state:f.state,transaction:b}),w={from:r-(y[0].length-l.length),to:i},{commands:C,chain:T,can:M}=new nd({editor:n,state:S});v.handler({state:S,range:w,match:y,commands:C,chain:T,can:M})===null||!b.steps.length||(b.setMeta(u,{transform:b,from:r,to:i,text:l}),f.dispatch(b),p=!0)}),p}function kP(t){const{editor:e,rules:n}=t,r=new an({state:{init(){return null},apply(i,l,s){const u=i.getMeta(r);if(u)return u;const f=i.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=av(Z.from(p),s.schema);const{from:m}=f,v=m+p.length;Bc({editor:e,from:m,to:v,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:l}},props:{handleTextInput(i,l,s,u){return Bc({editor:e,from:l,to:s,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:l}=i.state.selection;l&&Bc({editor:e,from:l.pos,to:l.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,l){if(l.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Bc({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function IP(t){return Object.prototype.toString.call(t).slice(8,-1)}function Pc(t){return IP(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function od(t,e){const n={...t};return Pc(t)&&Pc(e)&&Object.keys(e).forEach(r=>{Pc(e[r])&&Pc(t[r])?n[r]=od(t[r],e[r]):n[r]=e[r]}),n}class $i{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ne(de(this,"addOptions",{name:this.name}))),this.storage=Ne(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $i(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>od(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new $i(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ne(de(n,"addOptions",{name:n.name})),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const f=s.find(d=>(d==null?void 0:d.type.name)===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function BP(t){return typeof t=="number"}class PP{constructor(e){this.find=e.find,this.handler=e.handler}}const LP=(t,e,n)=>{if(sv(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const l=[i.text];return l.index=i.index,l.input=t,l.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(i.replaceWith)),l}):[]};function jP(t){const{editor:e,state:n,from:r,to:i,rule:l,pasteEvent:s,dropEvent:u}=t,{commands:f,chain:d,can:p}=new nd({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(y,b)=>{if(!y.isTextblock||y.type.spec.code)return;const S=Math.max(r,b),w=Math.min(i,b+y.content.size),C=y.textBetween(S-b,w-b,void 0,"");LP(C,l.find,s).forEach(M=>{if(M.index===void 0)return;const R=S+M.index+1,A=R+M[0].length,I={from:n.tr.mapping.map(R),to:n.tr.mapping.map(A)},z=l.handler({state:n,range:I,match:M,commands:f,chain:d,can:p,pasteEvent:s,dropEvent:u});m.push(z)})}),m.every(y=>y!==null)}let Lc=null;const zP=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function HP(t){const{editor:e,rules:n}=t;let r=null,i=!1,l=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:p,from:m,to:v,rule:y,pasteEvt:b})=>{const S=p.tr,w=td({state:p,transaction:S});if(!(!jP({editor:e,state:w,from:Math.max(m-1,0),to:v.b-1,rule:y,pasteEvent:b,dropEvent:u})||!S.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(p=>new an({view(m){const v=b=>{var S;r=!((S=m.dom.parentElement)===null||S===void 0)&&S.contains(b.target)?m.dom.parentElement:null,r&&(Lc=e)},y=()=>{Lc&&(Lc=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,v)=>{if(l=r===m.dom.parentElement,u=v,!l){const y=Lc;y&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,v)=>{var y;const b=(y=v.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return s=v,i=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(m,v,y)=>{const b=m[0],S=b.getMeta("uiEvent")==="paste"&&!i,w=b.getMeta("uiEvent")==="drop"&&!l,C=b.getMeta("applyPasteRules"),T=!!C;if(!S&&!w&&!T)return;if(T){let{text:A}=C;typeof A=="string"?A=A:A=av(Z.from(A),y.schema);const{from:I}=C,z=I+A.length,U=zP(A);return f({rule:p,state:y,from:I,to:{b:z},pasteEvt:U})}const M=v.doc.content.findDiffStart(y.doc.content),R=v.doc.content.findDiffEnd(y.doc.content);if(!(!BP(M)||!R||M===R.b))return f({rule:p,state:y,from:M,to:R,pasteEvt:s})}}))}function $P(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class _l{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=_l.resolve(e),this.schema=AP(this.extensions,n),this.setupExtensions()}static resolve(e){const n=_l.sort(_l.flatten(e)),r=$P(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=de(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const l=de(r,"priority")||100,s=de(i,"priority")||100;return l>s?-1:l<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:om(n.name,this.schema)},i=de(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=_l.sort([...this.extensions].reverse()),r=[],i=[],l=n.map(s=>{const u={name:s.name,options:s.options,storage:s.storage,editor:e,type:om(s.name,this.schema)},f=[],d=de(s,"addKeyboardShortcuts",u);let p={};if(s.type==="mark"&&de(s,"exitable",u)&&(p.ArrowRight=()=>$i.handleExit({editor:e,mark:s})),d){const S=Object.fromEntries(Object.entries(d()).map(([w,C])=>[w,()=>C({editor:e})]));p={...p,...S}}const m=oP(p);f.push(m);const v=de(s,"addInputRules",u);C1(s,e.options.enableInputRules)&&v&&r.push(...v());const y=de(s,"addPasteRules",u);C1(s,e.options.enablePasteRules)&&y&&i.push(...y());const b=de(s,"addProseMirrorPlugins",u);if(b){const S=b();f.push(...S)}return f}).flat();return[kP({editor:e,rules:r}),...HP({editor:e,rules:i}),...l]}get attributes(){return uO(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=rd(this.extensions);return Object.fromEntries(n.filter(r=>!!de(r,"addNodeView")).map(r=>{const i=this.attributes.filter(f=>f.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:Tt(r.name,this.schema)},s=de(r,"addNodeView",l);if(!s)return[];const u=(f,d,p,m,v)=>{const y=sg(f,i);return s()({node:f,view:d,getPos:p,decorations:m,innerDecorations:v,editor:e,extension:r,HTMLAttributes:y})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:om(e.name,this.schema)};e.type==="mark"&&(!((n=Ne(de(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=de(e,"onBeforeCreate",r),l=de(e,"onCreate",r),s=de(e,"onUpdate",r),u=de(e,"onSelectionUpdate",r),f=de(e,"onTransaction",r),d=de(e,"onFocus",r),p=de(e,"onBlur",r),m=de(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),l&&this.editor.on("create",l),s&&this.editor.on("update",s),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class en{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ne(de(this,"addOptions",{name:this.name}))),this.storage=Ne(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new en(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>od(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new en({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ne(de(n,"addOptions",{name:n.name})),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}}function fO(t,e,n){const{from:r,to:i}=e,{blockSeparator:l=`

`,textSerializers:s={}}=n||{};let u="";return t.nodesBetween(r,i,(f,d,p,m)=>{var v;f.isBlock&&d>r&&(u+=l);const y=s==null?void 0:s[f.type.name];if(y)return p&&(u+=y({node:f,pos:d,parent:p,index:m,range:e})),!1;f.isText&&(u+=(v=f==null?void 0:f.text)===null||v===void 0?void 0:v.slice(Math.max(r,d)-d,i-d))}),u}function dO(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const FP=en.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new an({key:new Sr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:l}=i,s=Math.min(...l.map(p=>p.$from.pos)),u=Math.max(...l.map(p=>p.$to.pos)),f=dO(n);return fO(r,{from:s,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),_P=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),UP=(t=!1)=>({commands:e})=>e.setContent("",t),VP=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:l,$to:s})=>{t.doc.nodesBetween(l.pos,s.pos,(u,f)=>{if(u.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(f)),v=d.resolve(p.map(f+u.nodeSize)),y=m.blockRange(v);if(!y)return;const b=aa(y);if(u.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,S)}(b||b===0)&&e.lift(y,b)})}),!0},qP=t=>e=>t(e),GP=()=>({state:t,dispatch:e})=>oO(t,e),WP=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,l=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,l.content),r.setSelection(new Ce(r.doc.resolve(s-1))),!0},YP=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===r.type){if(e){const u=i.before(l),f=i.after(l);t.delete(u,f).scrollIntoView()}return!0}return!1},KP=t=>({tr:e,state:n,dispatch:r})=>{const i=Tt(t,n.schema),l=e.selection.$anchor;for(let s=l.depth;s>0;s-=1)if(l.node(s).type===i){if(r){const f=l.before(s),d=l.after(s);e.delete(f,d).scrollIntoView()}return!0}return!1},XP=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},QP=()=>({state:t,dispatch:e})=>nv(t,e),JP=()=>({commands:t})=>t.keyboardShortcut("Enter"),ZP=()=>({state:t,dispatch:e})=>fP(t,e);function xf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:sv(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function hO(t,e,n={}){return t.find(r=>r.type===e&&xf(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function O1(t,e,n={}){return!!hO(t,e,n)}function uv(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!hO([...i.node.marks],e,n)))return;let s=i.index,u=t.start()+i.offset,f=s+1,d=u+i.node.nodeSize;for(;s>0&&O1([...t.parent.child(s-1).marks],e,n);)s-=1,u-=t.parent.child(s).nodeSize;for(;f<t.parent.childCount&&O1([...t.parent.child(f).marks],e,n);)d+=t.parent.child(f).nodeSize,f+=1;return{from:u,to:d}}function Yi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const eL=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const l=Yi(t,r.schema),{doc:s,selection:u}=n,{$from:f,from:d,to:p}=u;if(i){const m=uv(f,l,e);if(m&&m.from<=d&&m.to>=p){const v=Ce.create(s,m.from,m.to);n.setSelection(v)}}return!0},tL=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function pO(t){return t instanceof Ce}function No(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function mO(t,e=null){if(!e)return null;const n=De.atStart(t),r=De.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,l=r.to;return e==="all"?Ce.create(t,No(0,i,l),No(t.content.size,i,l)):Ce.create(t,No(e,i,l),No(e,i,l))}function nL(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function cv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const rL=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:l})=>{e={scrollIntoView:!0,...e};const s=()=>{(cv()||nL())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!pO(n.state.selection))return s(),!0;const u=mO(i.doc,t)||n.state.selection,f=n.state.selection.eq(u);return l&&(f||i.setSelection(u),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},iL=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),oL=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),gO=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&gO(r)}return t};function jc(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return gO(n)}function Sf(t,e,n){if(t instanceof Ai||t instanceof Z)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Z.fromArray(t.map(u=>e.nodeFromJSON(u)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(l){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),Sf("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,u="";const f=new ZE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(s=!0,u=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Ni.fromSchema(f).parseSlice(jc(t),n.parseOptions):Ni.fromSchema(f).parse(jc(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=Ni.fromSchema(e);return n.slice?l.parseSlice(jc(t),n.parseOptions).content:l.parse(jc(t),n.parseOptions)}return Sf("",e,n)}function lL(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof wt||i instanceof Et))return;const l=t.mapping.maps[r];let s=0;l.forEach((u,f,d,p)=>{s===0&&(s=p)}),t.setSelection(De.near(t.doc.resolve(s),n))}const aL=t=>!("type"in t),sL=(t,e,n)=>({tr:r,dispatch:i,editor:l})=>{var s;if(i){n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;try{u=Sf(e,l.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:l.options.enableContentCheck})}catch(b){return l.emit("contentError",{editor:l,error:b,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,m=!0;if((aL(u)?u:[u]).forEach(b=>{b.check(),p=p?b.isText&&b.marks.length===0:!1,m=m?b.isBlock:!1}),f===d&&m){const{parent:b}=r.doc.resolve(f);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(f-=1,d+=1)}let y;if(p){if(Array.isArray(e))y=e.map(b=>b.text||"").join("");else if(e instanceof Z){let b="";e.forEach(S=>{S.text&&(b+=S.text)}),y=b}else typeof e=="object"&&e&&e.text?y=e.text:y=e;r.insertText(y,f,d)}else y=u,r.replaceWith(f,d,y);n.updateSelection&&lL(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:y})}return!0},uL=()=>({state:t,dispatch:e})=>sP(t,e),cL=()=>({state:t,dispatch:e})=>uP(t,e),fL=()=>({state:t,dispatch:e})=>JC(t,e),dL=()=>({state:t,dispatch:e})=>nO(t,e),hL=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},pL=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},mL=()=>({state:t,dispatch:e})=>lP(t,e),gL=()=>({state:t,dispatch:e})=>aP(t,e);function vO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function vL(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,l,s;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))s=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))cv()||vO()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),l&&(n=`Shift-${n}`),n}const yL=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const l=vL(t).split(/-(?!$)/),s=l.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),u=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,u))});return f==null||f.steps.forEach(d=>{const p=d.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function Vs(t,e,n={}){const{from:r,to:i,empty:l}=t.selection,s=e?Tt(e,t.schema):null,u=[];t.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const y=Math.max(r,v),b=Math.min(i,v+m.nodeSize);u.push({node:m,from:y,to:b})});const f=i-r,d=u.filter(m=>s?s.name===m.node.type.name:!0).filter(m=>xf(m.node.attrs,n,{strict:!1}));return l?!!d.length:d.reduce((m,v)=>m+v.to-v.from,0)>=f}const bL=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return Vs(n,i,e)?cP(n,r):!1},xL=()=>({state:t,dispatch:e})=>lO(t,e),SL=t=>({state:e,dispatch:n})=>{const r=Tt(t,e.schema);return wP(r)(e,n)},wL=()=>({state:t,dispatch:e})=>iO(t,e);function ld(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function T1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const EL=(t,e)=>({tr:n,state:r,dispatch:i})=>{let l=null,s=null;const u=ld(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(l=Tt(t,r.schema)),u==="mark"&&(s=Yi(t,r.schema)),i&&n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{l&&l===d.type&&n.setNodeMarkup(p,void 0,T1(d.attrs,e)),s&&d.marks.length&&d.marks.forEach(m=>{s===m.type&&n.addMark(p,p+d.nodeSize,s.create(T1(m.attrs,e)))})})}),!0):!1},CL=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),OL=()=>({tr:t,dispatch:e})=>{if(e){const n=new bn(t.doc);t.setSelection(n)}return!0},TL=()=>({state:t,dispatch:e})=>eO(t,e),ML=()=>({state:t,dispatch:e})=>rO(t,e),DL=()=>({state:t,dispatch:e})=>pP(t,e),AL=()=>({state:t,dispatch:e})=>vP(t,e),NL=()=>({state:t,dispatch:e})=>gP(t,e);function ug(t,e,n={},r={}){return Sf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const RL=(t,e=!1,n={},r={})=>({editor:i,tr:l,dispatch:s,commands:u})=>{var f,d;const{doc:p}=l;if(n.preserveWhitespace!=="full"){const m=ug(t,i.schema,n,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck});return s&&l.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return s&&l.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:p.content.size},t,{parseOptions:n,errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck})};function yO(t,e){const n=Yi(e,t.schema),{from:r,to:i,empty:l}=t.selection,s=[];l?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,f=>{s.push(...f.marks)});const u=s.find(f=>f.type.name===n.name);return u?{...u.attrs}:{}}function kL(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function IL(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function fv(t){return e=>IL(e.$from,t)}function BL(t,e){const n={from:0,to:t.content.size};return fO(t,n,e)}function PL(t,e){const n=Tt(e,t.schema),{from:r,to:i}=t.selection,l=[];t.doc.nodesBetween(r,i,u=>{l.push(u)});const s=l.reverse().find(u=>u.type.name===n.name);return s?{...s.attrs}:{}}function LL(t,e){const n=ld(typeof e=="string"?e:e.name,t.schema);return n==="node"?PL(t,e):n==="mark"?yO(t,e):{}}function bO(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const l=n.resolve(t),s=uv(l,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,l)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:l,to:l+i.nodeSize,mark:s})))}),r}function Xc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(l=>l.type===e&&l.name===r);return i?i.attribute.keepOnSplit:!1}))}function cg(t,e,n={}){const{empty:r,ranges:i}=t.selection,l=e?Yi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>l?l.name===m.type.name:!0).find(m=>xf(m.attrs,n,{strict:!1}));let s=0;const u=[];if(i.forEach(({$from:m,$to:v})=>{const y=m.pos,b=v.pos;t.doc.nodesBetween(y,b,(S,w)=>{if(!S.isText&&!S.marks.length)return;const C=Math.max(y,w),T=Math.min(b,w+S.nodeSize),M=T-C;s+=M,u.push(...S.marks.map(R=>({mark:R,from:C,to:T})))})}),s===0)return!1;const f=u.filter(m=>l?l.name===m.mark.type.name:!0).filter(m=>xf(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),d=u.filter(m=>l?m.mark.type!==l&&m.mark.type.excludes(l):!0).reduce((m,v)=>m+v.to-v.from,0);return(f>0?f+d:f)>=s}function jL(t,e,n={}){if(!e)return Vs(t,null,n)||cg(t,null,n);const r=ld(e,t.schema);return r==="node"?Vs(t,e,n):r==="mark"?cg(t,e,n):!1}function M1(t,e){const{nodeExtensions:n}=rd(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},l=Ne(de(r,"group",i));return typeof l!="string"?!1:l.split(" ").includes("list")}function dv(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(l=>{i!==!1&&(dv(l,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function zL(t){return t instanceof Se}function HL(t,e,n){var r;const{selection:i}=e;let l=null;if(pO(i)&&(l=i.$cursor),l){const u=(r=t.storedMarks)!==null&&r!==void 0?r:l.marks();return!!n.isInSet(u)||!u.some(f=>f.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:u,$to:f})=>{let d=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,f.pos,(p,m,v)=>{if(d)return!1;if(p.isInline){const y=!v||v.type.allowsMarkType(n),b=!!n.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(n));d=y&&b}return!d}),d})}const $L=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:l}=n,{empty:s,ranges:u}=l,f=Yi(t,r.schema);if(i)if(s){const d=yO(r,f);n.addStoredMark(f.create({...d,...e}))}else u.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;r.doc.nodesBetween(p,m,(v,y)=>{const b=Math.max(y,p),S=Math.min(y+v.nodeSize,m);v.marks.find(C=>C.type===f)?v.marks.forEach(C=>{f===C.type&&n.addMark(b,S,f.create({...C.attrs,...e}))}):n.addMark(b,S,f.create(e))})});return HL(r,n,f)},FL=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),_L=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const l=Tt(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),l.isTextblock?i().command(({commands:u})=>S1(l,{...s,...e})(n)?!0:u.clearNodes()).command(({state:u})=>S1(l,{...s,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},UL=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=No(t,0,r.content.size),l=Se.create(r,i);e.setSelection(l)}return!0},VL=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:l}=typeof t=="number"?{from:t,to:t}:t,s=Ce.atStart(r).from,u=Ce.atEnd(r).to,f=No(i,s,u),d=No(l,s,u),p=Ce.create(r,f,d);e.setSelection(p)}return!0},qL=t=>({state:e,dispatch:n})=>{const r=Tt(t,e.schema);return OP(r)(e,n)};function D1(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const GL=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:l,doc:s}=e,{$from:u,$to:f}=l,d=i.extensionManager.attributes,p=Xc(d,u.node().type.name,u.node().attrs);if(l instanceof Se&&l.node.isBlock)return!u.parentOffset||!Wr(s,u.pos)?!1:(r&&(t&&D1(n,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,v=u.depth===0?void 0:kL(u.node(-1).contentMatchAt(u.indexAfter(-1)));let y=m&&v?[{type:v,attrs:p}]:void 0,b=Wr(e.doc,e.mapping.map(u.pos),1,y);if(!y&&!b&&Wr(e.doc,e.mapping.map(u.pos),1,v?[{type:v}]:void 0)&&(b=!0,y=v?[{type:v,attrs:p}]:void 0),r){if(b&&(l instanceof Ce&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,y),v&&!m&&!u.parentOffset&&u.parent.type!==v)){const S=e.mapping.map(u.before()),w=e.doc.resolve(S);u.node(-1).canReplaceWith(w.index(),w.index()+1,v)&&e.setNodeMarkup(e.mapping.map(u.before()),v)}t&&D1(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},WL=(t,e={})=>({tr:n,state:r,dispatch:i,editor:l})=>{var s;const u=Tt(t,r.schema),{$from:f,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const m=f.node(-1);if(m.type!==u)return!1;const v=l.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let C=Z.empty;const T=f.index(-1)?1:f.index(-2)?2:3;for(let U=f.depth-T;U>=f.depth-3;U-=1)C=Z.from(f.node(U).copy(C));const M=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,R={...Xc(v,f.node().type.name,f.node().attrs),...e},A=((s=u.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(R))||void 0;C=C.append(Z.from(u.createAndFill(null,A)||void 0));const I=f.before(f.depth-(T-1));n.replace(I,f.after(-M),new ae(C,4-T,0));let z=-1;n.doc.nodesBetween(I,n.doc.content.size,(U,L)=>{if(z>-1)return!1;U.isTextblock&&U.content.size===0&&(z=L+1)}),z>-1&&n.setSelection(Ce.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const y=d.pos===f.end()?m.contentMatchAt(0).defaultType:null,b={...Xc(v,m.type.name,m.attrs),...e},S={...Xc(v,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,d.pos);const w=y?[{type:u,attrs:b},{type:y,attrs:S}]:[{type:u,attrs:b}];if(!Wr(n.doc,f.pos,2))return!1;if(i){const{selection:C,storedMarks:T}=r,{splittableMarks:M}=l.extensionManager,R=T||C.$to.parentOffset&&C.$from.marks();if(n.split(f.pos,2,w).scrollIntoView(),!R||!i)return!0;const A=R.filter(I=>M.includes(I.type.name));n.ensureMarks(A)}return!0},lm=(t,e)=>{const n=fv(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Gi(t.doc,n.pos)&&t.join(n.pos),!0},am=(t,e)=>{const n=fv(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Gi(t.doc,r)&&t.join(r),!0},YL=(t,e,n,r={})=>({editor:i,tr:l,state:s,dispatch:u,chain:f,commands:d,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,y=Tt(t,s.schema),b=Tt(e,s.schema),{selection:S,storedMarks:w}=s,{$from:C,$to:T}=S,M=C.blockRange(T),R=w||S.$to.parentOffset&&S.$from.marks();if(!M)return!1;const A=fv(I=>M1(I.type.name,m))(S);if(M.depth>=1&&A&&M.depth-A.depth<=1){if(A.node.type===y)return d.liftListItem(b);if(M1(A.node.type.name,m)&&y.validContent(A.node.content)&&u)return f().command(()=>(l.setNodeMarkup(A.pos,y),!0)).command(()=>lm(l,y)).command(()=>am(l,y)).run()}return!n||!R||!u?f().command(()=>p().wrapInList(y,r)?!0:d.clearNodes()).wrapInList(y,r).command(()=>lm(l,y)).command(()=>am(l,y)).run():f().command(()=>{const I=p().wrapInList(y,r),z=R.filter(U=>v.includes(U.type.name));return l.ensureMarks(z),I?!0:d.clearNodes()}).wrapInList(y,r).command(()=>lm(l,y)).command(()=>am(l,y)).run()},KL=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:l=!1}=n,s=Yi(t,r.schema);return cg(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:l}):i.setMark(s,e)},XL=(t,e,n={})=>({state:r,commands:i})=>{const l=Tt(t,r.schema),s=Tt(e,r.schema),u=Vs(r,l,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?i.setNode(s,f):i.setNode(l,{...f,...n})},QL=(t,e={})=>({state:n,commands:r})=>{const i=Tt(t,n.schema);return Vs(n,i,e)?r.lift(i):r.wrapIn(i,e)},JL=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let l;if(i.spec.isInputRules&&(l=i.getState(t))){if(e){const s=t.tr,u=l.transform;for(let f=u.steps.length-1;f>=0;f-=1)s.step(u.steps[f].invert(u.docs[f]));if(l.text){const f=s.doc.resolve(l.from).marks();s.replaceWith(l.from,l.to,t.schema.text(l.text,f))}else s.delete(l.from,l.to)}return!0}}return!1},ZL=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},ej=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var l;const{extendEmptyMarkRange:s=!1}=e,{selection:u}=n,f=Yi(t,r.schema),{$from:d,empty:p,ranges:m}=u;if(!i)return!0;if(p&&s){let{from:v,to:y}=u;const b=(l=d.marks().find(w=>w.type===f))===null||l===void 0?void 0:l.attrs,S=uv(d,f,b);S&&(v=S.from,y=S.to),n.removeMark(v,y,f)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,f)});return n.removeStoredMark(f),!0},tj=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let l=null,s=null;const u=ld(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(l=Tt(t,r.schema)),u==="mark"&&(s=Yi(t,r.schema)),i&&n.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,v,y,b;n.selection.empty?r.doc.nodesBetween(d,p,(S,w)=>{l&&l===S.type&&(y=Math.max(w,d),b=Math.min(w+S.nodeSize,p),m=w,v=S)}):r.doc.nodesBetween(d,p,(S,w)=>{w<d&&l&&l===S.type&&(y=Math.max(w,d),b=Math.min(w+S.nodeSize,p),m=w,v=S),w>=d&&w<=p&&(l&&l===S.type&&n.setNodeMarkup(w,void 0,{...S.attrs,...e}),s&&S.marks.length&&S.marks.forEach(C=>{if(s===C.type){const T=Math.max(w,d),M=Math.min(w+S.nodeSize,p);n.addMark(T,M,s.create({...C.attrs,...e}))}}))}),v&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...v.attrs,...e}),s&&v.marks.length&&v.marks.forEach(S=>{s===S.type&&n.addMark(y,b,s.create({...S.attrs,...e}))}))}),!0):!1},nj=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return yP(i,e)(n,r)},rj=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return bP(i,e)(n,r)};var ij=Object.freeze({__proto__:null,blur:_P,clearContent:UP,clearNodes:VP,command:qP,createParagraphNear:GP,cut:WP,deleteCurrentNode:YP,deleteNode:KP,deleteRange:XP,deleteSelection:QP,enter:JP,exitCode:ZP,extendMarkRange:eL,first:tL,focus:rL,forEach:iL,insertContent:oL,insertContentAt:sL,joinBackward:fL,joinDown:cL,joinForward:dL,joinItemBackward:hL,joinItemForward:pL,joinTextblockBackward:mL,joinTextblockForward:gL,joinUp:uL,keyboardShortcut:yL,lift:bL,liftEmptyBlock:xL,liftListItem:SL,newlineInCode:wL,resetAttributes:EL,scrollIntoView:CL,selectAll:OL,selectNodeBackward:TL,selectNodeForward:ML,selectParentNode:DL,selectTextblockEnd:AL,selectTextblockStart:NL,setContent:RL,setMark:$L,setMeta:FL,setNode:_L,setNodeSelection:UL,setTextSelection:VL,sinkListItem:qL,splitBlock:GL,splitListItem:WL,toggleList:YL,toggleMark:KL,toggleNode:XL,toggleWrap:QL,undoInputRule:JL,unsetAllMarks:ZL,unsetMark:ej,updateAttributes:tj,wrapIn:nj,wrapInList:rj});const oj=en.create({name:"commands",addCommands(){return{...ij}}}),lj=en.create({name:"drop",addProseMirrorPlugins(){return[new an({key:new Sr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),aj=en.create({name:"editable",addProseMirrorPlugins(){return[new an({key:new Sr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),sj=en.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new an({key:new Sr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),uj=en.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:u})=>{const{selection:f,doc:d}=u,{empty:p,$anchor:m}=f,{pos:v,parent:y}=m,b=m.parent.isTextblock&&v>0?u.doc.resolve(v-1):m,S=b.parent.type.spec.isolating,w=m.pos-m.parentOffset,C=S&&b.parent.childCount===1?w===m.pos:De.atStart(d).from===v;return!p||!y.type.isTextblock||y.textContent.length||!C||C&&m.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},l={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return cv()||vO()?l:i},addProseMirrorPlugins(){return[new an({key:new Sr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),i=t.some(S=>S.getMeta("preventClearDocument"));if(!r||i)return;const{empty:l,from:s,to:u}=e.selection,f=De.atStart(e.doc).from,d=De.atEnd(e.doc).to;if(l||!(s===f&&u===d)||!dv(n.doc))return;const v=n.tr,y=td({state:n,transaction:v}),{commands:b}=new nd({editor:this.editor,state:y});if(b.clearNodes(),!!v.steps.length)return v}})]}}),cj=en.create({name:"paste",addProseMirrorPlugins(){return[new an({key:new Sr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),fj=en.create({name:"tabindex",addProseMirrorPlugins(){return[new an({key:new Sr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class To{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new To(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new To(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new To(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,s=this.pos+r+(l?0:1),u=this.resolvedPos.doc.resolve(s);if(!i&&u.depth<=this.depth)return;const f=new To(u,this.editor,i,i?n:null);i&&(f.actualDepth=this.depth+1),e.push(new To(u,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const l=i.node.attrs,s=Object.keys(n);for(let u=0;u<s.length;u+=1){const f=s[u];if(l[f]!==n[f])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const l=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&l.every(f=>n[f]===s.node.attrs[f])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const dj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function hj(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class pj extends TP{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=hj(dj,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=cO(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(l=>{const s=typeof l=="string"?`${l}$`:l.key;r=n.filter(u=>!u.key.startsWith(s))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[aj,FP.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),oj,sj,uj,fj,lj,cj].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new _l(i,this)}createCommandManager(){this.commandManager=new nd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=ug(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),n=ug(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=mO(n,this.options.autofocus);this.view=new XB(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Fl.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),l=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return LL(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return jL(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return av(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return BL(this.state.doc,{blockSeparator:n,textSerializers:{...dO(this.schema),...r}})}get isEmpty(){return dv(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new To(n,this)}get $doc(){return this.$pos(0)}}function Jl(t){return new id({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ne(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:l}=e,s=r[r.length-1],u=r[0];if(s){const f=u.search(/\S/),d=n.from+u.indexOf(s),p=d+s.length;if(bO(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(S=>S===t.type&&S!==y.mark.type)).filter(y=>y.to>d).length)return null;p<n.to&&l.delete(p,n.to),d>n.from&&l.delete(n.from+f,d);const v=n.from+f+s.length;l.addMark(n.from+f,v,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}function mj(t){return new id({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ne(t.getAttributes,void 0,r)||{},{tr:l}=e,s=n.from;let u=n.to;const f=t.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=s+d;p>u?p=u:u=p+r[1].length;const m=r[0][r[0].length-1];l.insertText(m,s+r[0].length-1),l.replaceWith(p,u,f)}else if(r[0]){const d=t.type.isInline?s:s-1;l.insert(d,t.type.create(i)).delete(l.mapping.map(s),l.mapping.map(u))}l.scrollIntoView()}})}function fg(t){return new id({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),l=Ne(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,l)}})}function qs(t){return new id({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const l=Ne(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),f=s.doc.resolve(n.from).blockRange(),d=f&&qg(f,t.type,l);if(!d)return null;if(s.wrap(f,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:y}=t.editor.extensionManager,b=v||m.$to.parentOffset&&m.$from.marks();if(b){const S=b.filter(w=>y.includes(w.type.name));s.ensureMarks(S)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,l).run()}const p=s.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Gi(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&s.join(n.from-1)}})}let lr=class dg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ne(de(this,"addOptions",{name:this.name}))),this.storage=Ne(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new dg(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>od(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new dg(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ne(de(n,"addOptions",{name:n.name})),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}};function Zl(t){return new PP({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const l=Ne(t.getAttributes,void 0,r,i);if(l===!1||l===null)return null;const{tr:s}=e,u=r[r.length-1],f=r[0];let d=n.to;if(u){const p=f.search(/\S/),m=n.from+f.indexOf(u),v=m+u.length;if(bO(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===t.type&&w!==b.mark.type)).filter(b=>b.to>m).length)return null;v<n.to&&s.delete(v,n.to),m>n.from&&s.delete(n.from+p,m),d=n.from+p+u.length,s.addMark(n.from+p,d,t.type.create(l||{})),s.removeStoredMark(t.type)}}})}function gj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xO={exports:{}},sm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function vj(){if(A1)return sm;A1=1;var t=re;function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,l=t.useLayoutEffect,s=t.useDebugValue;function u(m,v){var y=v(),b=r({inst:{value:y,getSnapshot:v}}),S=b[0].inst,w=b[1];return l(function(){S.value=y,S.getSnapshot=v,f(S)&&w({inst:S})},[m,y,v]),i(function(){return f(S)&&w({inst:S}),m(function(){f(S)&&w({inst:S})})},[m]),s(y),y}function f(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function d(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return sm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,sm}xO.exports=vj();var hv=xO.exports;const yj=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},bj=({contentComponent:t})=>{const e=hv.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return re.createElement(re.Fragment,null,Object.values(e))};function xj(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:bE.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class Sj extends re.Component{constructor(e){var n;super(e),this.editorContentRef=re.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=xj(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return re.createElement(re.Fragment,null,re.createElement("div",{ref:yj(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&re.createElement(bj,{contentComponent:e.contentComponent}))}}const wj=E.forwardRef((t,e)=>{const n=re.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return re.createElement(Sj,{key:n,innerRef:e,...t})}),Ej=re.memo(wj);var Cj=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,l;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[i]))return!1;for(i=r;i--!==0;){var s=l[i];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},Oj=gj(Cj),SO={exports:{}},um={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function Tj(){if(N1)return um;N1=1;var t=re,e=hv;function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,l=t.useRef,s=t.useEffect,u=t.useMemo,f=t.useDebugValue;return um.useSyncExternalStoreWithSelector=function(d,p,m,v,y){var b=l(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=u(function(){function C(I){if(!T){if(T=!0,M=I,I=v(I),y!==void 0&&S.hasValue){var z=S.value;if(y(z,I))return R=z}return R=I}if(z=R,r(M,I))return z;var U=v(I);return y!==void 0&&y(z,U)?z:(M=I,R=U)}var T=!1,M,R,A=m===void 0?null:m;return[function(){return C(p())},A===null?void 0:function(){return C(A())}]},[p,m,v,y]);var w=i(d,b[0],b[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),f(w),w},um}SO.exports=Tj();var Mj=SO.exports;const Dj=typeof window<"u"?E.useLayoutEffect:E.useEffect;class Aj{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Nj(t){var e;const[n]=E.useState(()=>new Aj(t.editor)),r=Mj.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Oj);return Dj(()=>n.watch(t.editor),[t.editor,n]),E.useDebugValue(r),r}const Rj=!1,hg=typeof window>"u",kj=hg||!!(typeof window<"u"&&window.next);class pv{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?hg||kj?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,l;return(l=(i=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(i,...r)},onBlur:(...r)=>{var i,l;return(l=(i=this.options.current).onBlur)===null||l===void 0?void 0:l.call(i,...r)},onCreate:(...r)=>{var i,l;return(l=(i=this.options.current).onCreate)===null||l===void 0?void 0:l.call(i,...r)},onDestroy:(...r)=>{var i,l;return(l=(i=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(i,...r)},onFocus:(...r)=>{var i,l;return(l=(i=this.options.current).onFocus)===null||l===void 0?void 0:l.call(i,...r)},onSelectionUpdate:(...r)=>{var i,l;return(l=(i=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(i,...r)},onTransaction:(...r)=>{var i,l;return(l=(i=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(i,...r)},onUpdate:(...r)=>{var i,l;return(l=(i=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(i,...r)},onContentError:(...r)=>{var i,l;return(l=(i=this.options.current).onContentError)===null||l===void 0?void 0:l.call(i,...r)},onDrop:(...r)=>{var i,l;return(l=(i=this.options.current).onDrop)===null||l===void 0?void 0:l.call(i,...r)},onPaste:(...r)=>{var i,l;return(l=(i=this.options.current).onPaste)===null||l===void 0?void 0:l.call(i,...r)}};return new pj(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,l)=>{var s;return i===((s=n.extensions)===null||s===void 0?void 0:s[l])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?pv.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Ij(t={},e=[]){const n=E.useRef(t);n.current=t;const[r]=E.useState(()=>new pv(n)),i=hv.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return E.useDebugValue(i),E.useEffect(r.onRender(e)),Nj({editor:i,selector:({transactionNumber:l})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&l===0?0:l+1}),i}const Bj=E.createContext({editor:null});Bj.Consumer;const Pj=E.createContext({onDragStart:void 0}),Lj=()=>E.useContext(Pj);re.forwardRef((t,e)=>{const{onDragStart:n}=Lj(),r=t.as||"div";return re.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const jj=/^\s*>\s$/,zj=lr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[qs({find:jj,type:this.type})]}}),Hj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,$j=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Fj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,_j=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Uj=$i.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jl({find:Hj,type:this.type}),Jl({find:Fj,type:this.type})]},addPasteRules(){return[Zl({find:$j,type:this.type}),Zl({find:_j,type:this.type})]}}),Vj="listItem",R1="textStyle",k1=/^\s*([-+*])\s$/,qj=lr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Vj,this.editor.getAttributes(R1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=qs({find:k1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=qs({find:k1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(R1),editor:this.editor})),[t]}}),Gj=/(^|[^`])`([^`]+)`(?!`)/,Wj=/(^|[^`])`([^`]+)`(?!`)/g,Yj=$i.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Jl({find:Gj,type:this.type})]},addPasteRules(){return[Zl({find:Wj,type:this.type})]}}),Kj=/^```([a-z]+)?[\s\n]$/,Xj=/^~~~([a-z]+)?[\s\n]$/,Qj=lr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,l=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Zt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!l||!s?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:l}=n;if(!l||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:d})=>(d.setSelection(De.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[fg({find:Kj,type:this.type,getAttributes:t=>({language:t[1]})}),fg({find:Xj,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new an({key:new Sr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,l=i==null?void 0:i.mode;if(!n||!l)return!1;const{tr:s,schema:u}=t.state,f=u.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:l},f)),s.selection.$from.parent.type!==this.type&&s.setSelection(Ce.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),Jj=lr.create({name:"doc",topNode:!0,content:"block+"});function Zj(t={}){return new an({view(e){return new ez(e,t)}})}class ez{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let l=s=>{this[i](s)};return e.dom.addEventListener(i,l),{name:i,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let u=e.nodeBefore,f=e.nodeAfter;if(u||f){let d=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(d){let p=d.getBoundingClientRect(),m=u?p.bottom:p.top;u&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos);r={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let l,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")l=-pageXOffset,s=-pageYOffset;else{let u=i.getBoundingClientRect();l=u.left-i.scrollLeft,s=u.top-i.scrollTop}this.element.style.left=r.left-l+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,l=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!l){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=cC(this.editorView.state.doc,s,this.editorView.dragging.slice);u!=null&&(s=u)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const tz=en.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Zj(this.options)]}});class lt extends De{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return lt.valid(r)?new lt(r):De.near(r)}content(){return ae.empty}eq(e){return e instanceof lt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new lt(e.resolve(n.pos))}getBookmark(){return new mv(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!nz(e)||!rz(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&lt.valid(e))return e;let i=e.pos,l=null;for(let s=e.depth;;s--){let u=e.node(s);if(n>0?e.indexAfter(s)<u.childCount:e.index(s)>0){l=u.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let f=e.doc.resolve(i);if(lt.valid(f))return f}for(;;){let s=n>0?l.firstChild:l.lastChild;if(!s){if(l.isAtom&&!l.isText&&!Se.isSelectable(l)){e=e.doc.resolve(i+l.nodeSize*n),r=!1;continue e}break}l=s,i+=n;let u=e.doc.resolve(i);if(lt.valid(u))return u}return null}}}lt.prototype.visible=!1;lt.findFrom=lt.findGapCursorFrom;De.jsonID("gapcursor",lt);class mv{constructor(e){this.pos=e}map(e){return new mv(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return lt.valid(n)?new lt(n):De.near(n)}}function nz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function rz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function iz(){return new an({props:{decorations:sz,createSelectionBetween(t,e,n){return e.pos==n.pos&&lt.valid(n)?new lt(n):null},handleClick:lz,handleKeyDown:oz,handleDOMEvents:{beforeinput:az}}})}const oz=XC({ArrowLeft:zc("horiz",-1),ArrowRight:zc("horiz",1),ArrowUp:zc("vert",-1),ArrowDown:zc("vert",1)});function zc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,l){let s=r.selection,u=e>0?s.$to:s.$from,f=s.empty;if(s instanceof Ce){if(!l.endOfTextblock(n)||u.depth==0)return!1;f=!1,u=r.doc.resolve(e>0?u.after():u.before())}let d=lt.findGapCursorFrom(u,e,f);return d?(i&&i(r.tr.setSelection(new lt(d))),!0):!1}}function lz(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!lt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Se.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new lt(r))),!0)}function az(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof lt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Z.empty;for(let s=r.length-1;s>=0;s--)i=Z.from(r[s].createAndFill(null,i));let l=t.state.tr.replace(n.pos,n.pos,new ae(i,0,0));return l.setSelection(Ce.near(l.doc.resolve(n.pos+1))),t.dispatch(l),!1}function sz(t){if(!(t.selection instanceof lt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",gt.create(t.doc,[Un.widget(t.selection.head,e,{key:"gapcursor"})])}const uz=en.create({name:"gapCursor",addProseMirrorPlugins(){return[iz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ne(de(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),cz=lr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Zt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:l}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:u}=r.extensionManager,f=l||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&f&&s){const m=f.filter(v=>u.includes(v.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),fz=lr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>fg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var wf=200,Ct=function(){};Ct.prototype.append=function(e){return e.length?(e=Ct.from(e),!this.length&&e||e.length<wf&&this.leafAppend(e)||this.length<wf&&e.leafPrepend(this)||this.appendInner(e)):this};Ct.prototype.prepend=function(e){return e.length?Ct.from(e).append(this):this};Ct.prototype.appendInner=function(e){return new dz(this,e)};Ct.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ct.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ct.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ct.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ct.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(l,s){return i.push(e(l,s))},n,r),i};Ct.from=function(e){return e instanceof Ct?e:e&&e.length?new wO(e):Ct.empty};var wO=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,l){return i==0&&l==this.length?this:new e(this.values.slice(i,l))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,l,s,u){for(var f=l;f<s;f++)if(i(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,l,s,u){for(var f=l-1;f>=s;f--)if(i(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=wf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=wf)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ct);Ct.empty=new wO([]);var dz=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,l,s){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(l,u),s)===!1||l>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,l)-u,s+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,l,s){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(l,u)-u,s+u)===!1||l<u&&this.left.forEachInvertedInner(r,Math.min(i,u),l,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var l=this.left.length;return i<=l?this.left.slice(r,i):r>=l?this.right.slice(r-l,i-l):this.left.slice(r,l).append(this.right.slice(0,i-l))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ct);const hz=500;class Jn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,l;n&&(i=this.remapping(r,this.items.length),l=i.maps.length);let s=e.tr,u,f,d=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),l=i.maps.length),l--,p.push(m);return}if(i){p.push(new mr(m.map));let y=m.step.map(i.slice(l)),b;y&&s.maybeStep(y).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],d.push(new mr(b,void 0,void 0,d.length+p.length))),l--,b&&i.appendMap(b,l)}else s.maybeStep(m.step);if(m.selection)return u=i?m.selection.map(i.slice(l)):m.selection,f=new Jn(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:s,selection:u}}addTransform(e,n,r,i){let l=[],s=this.eventCount,u=this.items,f=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new mr(e.mapping.maps[p],m,n),y;(y=f&&f.merge(v))&&(v=y,p?l.pop():u=u.slice(0,u.length-1)),l.push(v),n&&(s++,n=void 0),i||(f=v)}let d=s-r.depth;return d>mz&&(u=pz(u,d),s-=d),new Jn(u.append(l),s)}remapping(e,n){let r=new Ul;return this.items.forEach((i,l)=>{let s=i.mirrorOffset!=null&&l-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Jn(this.items.append(e.map(n=>new mr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),l=e.mapping,s=e.steps.length,u=this.eventCount;this.items.forEach(v=>{v.selection&&u--},i);let f=n;this.items.forEach(v=>{let y=l.getMirror(--f);if(y==null)return;s=Math.min(s,y);let b=l.maps[y];if(v.step){let S=e.steps[y].invert(e.docs[y]),w=v.selection&&v.selection.map(l.slice(f+1,y));w&&u++,r.push(new mr(b,S,w))}else r.push(new mr(b))},i);let d=[];for(let v=n;v<s;v++)d.push(new mr(l.maps[v]));let p=this.items.slice(0,i).append(d).append(r),m=new Jn(p,u);return m.emptyItemCount()>hz&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],l=0;return this.items.forEach((s,u)=>{if(u>=e)i.push(s),s.selection&&l++;else if(s.step){let f=s.step.map(n.slice(r)),d=f&&f.getMap();if(r--,d&&n.appendMap(d,r),f){let p=s.selection&&s.selection.map(n.slice(r));p&&l++;let m=new mr(d.invert(),f,p),v,y=i.length-1;(v=i.length&&i[y].merge(m))?i[y]=v:i.push(m)}}else s.map&&r--},this.items.length,0),new Jn(Ct.from(i.reverse()),l)}}Jn.empty=new Jn(Ct.empty,0);function pz(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class mr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new mr(n.getMap().invert(),n,this.selection)}}}class Ci{constructor(e,n,r,i,l){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=l}}const mz=20;function gz(t,e,n,r){let i=n.getMeta(zo),l;if(i)return i.historyState;n.getMeta(bz)&&(t=new Ci(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(zo))return s.getMeta(zo).redo?new Ci(t.done.addTransform(n,void 0,r,Qc(e)),t.undone,I1(n.mapping.maps),t.prevTime,t.prevComposition):new Ci(t.done,t.undone.addTransform(n,void 0,r,Qc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),f=t.prevTime==0||!s&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!vz(n,t.prevRanges)),d=s?cm(t.prevRanges,n.mapping):I1(n.mapping.maps);return new Ci(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,Qc(e)),Jn.empty,d,n.time,u??t.prevComposition)}else return(l=n.getMeta("rebased"))?new Ci(t.done.rebased(n,l),t.undone.rebased(n,l),cm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ci(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),cm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function vz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&i>=e[l]&&(n=!0)}),n}function I1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,l,s)=>e.push(l,s));return e}function cm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),l=e.map(t[r+1],-1);i<=l&&n.push(i,l)}return n}function yz(t,e,n){let r=Qc(e),i=zo.get(e).spec.config,l=(n?t.undone:t.done).popEvent(e,r);if(!l)return null;let s=l.selection.resolve(l.transform.doc),u=(n?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),i,r),f=new Ci(n?u:l.remaining,n?l.remaining:u,null,0,-1);return l.transform.setSelection(s).setMeta(zo,{redo:n,historyState:f})}let fm=!1,B1=null;function Qc(t){let e=t.plugins;if(B1!=e){fm=!1,B1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){fm=!0;break}}return fm}const zo=new Sr("history"),bz=new Sr("closeHistory");function xz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new an({key:zo,state:{init(){return new Ci(Jn.empty,Jn.empty,null,0,-1)},apply(e,n,r){return gz(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?CO:r=="historyRedo"?OO:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function EO(t,e){return(n,r)=>{let i=zo.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let l=yz(i,n,t);l&&r(e?l.scrollIntoView():l)}return!0}}const CO=EO(!1,!0),OO=EO(!0,!0),Sz=en.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>CO(t,e),redo:()=>({state:t,dispatch:e})=>OO(t,e)}},addProseMirrorPlugins(){return[xz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),wz=lr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Zt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,l=t();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):zL(n)?l.insertContentAt(i.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:s,dispatch:u})=>{var f;if(u){const{$to:d}=s.selection,p=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?s.setSelection(Ce.create(s.doc,d.pos+1)):d.nodeAfter.isBlock?s.setSelection(Se.create(s.doc,d.pos)):s.setSelection(Ce.create(s.doc,d.pos));else{const m=(f=d.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();m&&(s.insert(p,m),s.setSelection(Ce.create(s.doc,p+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[mj({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ez=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Cz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Oz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Tz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Mz=$i.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jl({find:Ez,type:this.type}),Jl({find:Oz,type:this.type})]},addPasteRules(){return[Zl({find:Cz,type:this.type}),Zl({find:Tz,type:this.type})]}}),Dz=lr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Az="listItem",P1="textStyle",L1=/^(\d+)\.\s$/,Nz=lr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Zt(this.options.HTMLAttributes,n),0]:["ol",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Az,this.editor.getAttributes(P1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=qs({find:L1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=qs({find:L1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(P1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Rz=lr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Iz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Bz=$i.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Jl({find:kz,type:this.type})]},addPasteRules(){return[Zl({find:Iz,type:this.type})]}}),Pz=lr.create({name:"text",group:"inline"}),Lz=en.create({name:"starterKit",addExtensions(){var t,e,n,r,i,l,s,u,f,d,p,m,v,y,b,S,w,C;const T=[];return this.options.bold!==!1&&T.push(Uj.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&T.push(zj.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&T.push(qj.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&T.push(Yj.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&T.push(Qj.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&T.push(Jj.configure((l=this.options)===null||l===void 0?void 0:l.document)),this.options.dropcursor!==!1&&T.push(tz.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&T.push(uz.configure((u=this.options)===null||u===void 0?void 0:u.gapcursor)),this.options.hardBreak!==!1&&T.push(cz.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&T.push(fz.configure((d=this.options)===null||d===void 0?void 0:d.heading)),this.options.history!==!1&&T.push(Sz.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&T.push(wz.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&T.push(Mz.configure((v=this.options)===null||v===void 0?void 0:v.italic)),this.options.listItem!==!1&&T.push(Dz.configure((y=this.options)===null||y===void 0?void 0:y.listItem)),this.options.orderedList!==!1&&T.push(Nz.configure((b=this.options)===null||b===void 0?void 0:b.orderedList)),this.options.paragraph!==!1&&T.push(Rz.configure((S=this.options)===null||S===void 0?void 0:S.paragraph)),this.options.strike!==!1&&T.push(Bz.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&T.push(Pz.configure((C=this.options)===null||C===void 0?void 0:C.text)),T}});function pg(t,e){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pg(t,e)}function TO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pg(t,e)}function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(null,arguments)}function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function jz(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zz(t){var e=jz(t,"string");return Gs(e)=="symbol"?e:e+""}function Hz(t,e,n){return(e=zz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){Hz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function on(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var H1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$1=function(){return Math.random().toString(36).substring(7).split("").join(".")},F1={INIT:"@@redux/INIT"+$1(),REPLACE:"@@redux/REPLACE"+$1()};function $z(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function MO(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(on(1));return n(MO)(t,e)}if(typeof t!="function")throw new Error(on(2));var i=t,l=e,s=[],u=s,f=!1;function d(){u===s&&(u=s.slice())}function p(){if(f)throw new Error(on(3));return l}function m(S){if(typeof S!="function")throw new Error(on(4));if(f)throw new Error(on(5));var w=!0;return d(),u.push(S),function(){if(w){if(f)throw new Error(on(6));w=!1,d();var T=u.indexOf(S);u.splice(T,1),s=null}}}function v(S){if(!$z(S))throw new Error(on(7));if(typeof S.type>"u")throw new Error(on(8));if(f)throw new Error(on(9));try{f=!0,l=i(l,S)}finally{f=!1}for(var w=s=u,C=0;C<w.length;C++){var T=w[C];T()}return S}function y(S){if(typeof S!="function")throw new Error(on(10));i=S,v({type:F1.REPLACE})}function b(){var S,w=m;return S={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(on(11));function M(){T.next&&T.next(p())}M();var R=w(M);return{unsubscribe:R}}},S[H1]=function(){return this},S}return v({type:F1.INIT}),r={dispatch:v,subscribe:m,getState:p,replaceReducer:y},r[H1]=b,r}function _1(t,e){return function(){return e(t.apply(this,arguments))}}function U1(t,e){if(typeof t=="function")return _1(t,e);if(typeof t!="object"||t===null)throw new Error(on(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=_1(i,e))}return n}function DO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Fz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),l=function(){throw new Error(on(15))},s={getState:i.getState,dispatch:function(){return l.apply(void 0,arguments)}},u=e.map(function(f){return f(s)});return l=DO.apply(void 0,u)(i.dispatch),z1(z1({},i),{},{dispatch:l})}}}var AO=re.createContext(null);function _z(t){t()}var NO=_z,Uz=function(e){return NO=e},Vz=function(){return NO};function qz(){var t=Vz(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],l=e;l;)i.push(l),l=l.next;return i},subscribe:function(i){var l=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!l||e===null||(l=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var V1={notify:function(){},get:function(){return[]}};function RO(t,e){var n,r=V1;function i(m){return f(),r.subscribe(m)}function l(){r.notify()}function s(){p.onStateChange&&p.onStateChange()}function u(){return!!n}function f(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=qz())}function d(){n&&(n(),n=void 0,r.clear(),r=V1)}var p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:u,trySubscribe:f,tryUnsubscribe:d,getListeners:function(){return r}};return p}var kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function Gz(t){var e=t.store,n=t.context,r=t.children,i=E.useMemo(function(){var u=RO(e);return{store:e,subscription:u}},[e]),l=E.useMemo(function(){return e.getState()},[e]);kO(function(){var u=i.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[i,l]);var s=n||AO;return re.createElement(s.Provider,{value:i},r)}function Ef(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dm={exports:{}},qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function Wz(){if(q1)return qe;q1=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function M(A){if(typeof A=="object"&&A!==null){var I=A.$$typeof;switch(I){case e:switch(A=A.type,A){case f:case d:case r:case l:case i:case m:return A;default:switch(A=A&&A.$$typeof,A){case u:case p:case b:case y:case s:return A;default:return I}}case n:return I}}}function R(A){return M(A)===d}return qe.AsyncMode=f,qe.ConcurrentMode=d,qe.ContextConsumer=u,qe.ContextProvider=s,qe.Element=e,qe.ForwardRef=p,qe.Fragment=r,qe.Lazy=b,qe.Memo=y,qe.Portal=n,qe.Profiler=l,qe.StrictMode=i,qe.Suspense=m,qe.isAsyncMode=function(A){return R(A)||M(A)===f},qe.isConcurrentMode=R,qe.isContextConsumer=function(A){return M(A)===u},qe.isContextProvider=function(A){return M(A)===s},qe.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},qe.isForwardRef=function(A){return M(A)===p},qe.isFragment=function(A){return M(A)===r},qe.isLazy=function(A){return M(A)===b},qe.isMemo=function(A){return M(A)===y},qe.isPortal=function(A){return M(A)===n},qe.isProfiler=function(A){return M(A)===l},qe.isStrictMode=function(A){return M(A)===i},qe.isSuspense=function(A){return M(A)===m},qe.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===d||A===l||A===i||A===m||A===v||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===y||A.$$typeof===s||A.$$typeof===u||A.$$typeof===p||A.$$typeof===w||A.$$typeof===C||A.$$typeof===T||A.$$typeof===S)},qe.typeOf=M,qe}var G1;function Yz(){return G1||(G1=1,dm.exports=Wz()),dm.exports}var hm,W1;function Kz(){if(W1)return hm;W1=1;var t=Yz(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=r,l[t.Memo]=i;function s(b){return t.isMemo(b)?i:l[b.$$typeof]||e}var u=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function y(b,S,w){if(typeof S!="string"){if(v){var C=m(S);C&&C!==v&&y(b,C,w)}var T=f(S);d&&(T=T.concat(d(S)));for(var M=s(b),R=s(S),A=0;A<T.length;++A){var I=T[A];if(!n[I]&&!(w&&w[I])&&!(R&&R[I])&&!(M&&M[I])){var z=p(S,I);try{u(b,I,z)}catch{}}}}return b}return hm=y,hm}var Xz=Kz();const Y1=Rg(Xz);var pm={exports:{}},Ye={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function Qz(){if(K1)return Ye;K1=1;var t=60103,e=60106,n=60107,r=60108,i=60114,l=60109,s=60110,u=60112,f=60113,d=60120,p=60115,m=60116,v=60121,y=60122,b=60117,S=60129,w=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;t=C("react.element"),e=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),l=C("react.provider"),s=C("react.context"),u=C("react.forward_ref"),f=C("react.suspense"),d=C("react.suspense_list"),p=C("react.memo"),m=C("react.lazy"),v=C("react.block"),y=C("react.server.block"),b=C("react.fundamental"),S=C("react.debug_trace_mode"),w=C("react.legacy_hidden")}function T(Q){if(typeof Q=="object"&&Q!==null){var ne=Q.$$typeof;switch(ne){case t:switch(Q=Q.type,Q){case n:case i:case r:case f:case d:return Q;default:switch(Q=Q&&Q.$$typeof,Q){case s:case u:case m:case p:case l:return Q;default:return ne}}case e:return ne}}}var M=l,R=t,A=u,I=n,z=m,U=p,L=e,W=i,q=r,ve=f;return Ye.ContextConsumer=s,Ye.ContextProvider=M,Ye.Element=R,Ye.ForwardRef=A,Ye.Fragment=I,Ye.Lazy=z,Ye.Memo=U,Ye.Portal=L,Ye.Profiler=W,Ye.StrictMode=q,Ye.Suspense=ve,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(Q){return T(Q)===s},Ye.isContextProvider=function(Q){return T(Q)===l},Ye.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t},Ye.isForwardRef=function(Q){return T(Q)===u},Ye.isFragment=function(Q){return T(Q)===n},Ye.isLazy=function(Q){return T(Q)===m},Ye.isMemo=function(Q){return T(Q)===p},Ye.isPortal=function(Q){return T(Q)===e},Ye.isProfiler=function(Q){return T(Q)===i},Ye.isStrictMode=function(Q){return T(Q)===r},Ye.isSuspense=function(Q){return T(Q)===f},Ye.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===n||Q===i||Q===S||Q===r||Q===f||Q===d||Q===w||typeof Q=="object"&&Q!==null&&(Q.$$typeof===m||Q.$$typeof===p||Q.$$typeof===l||Q.$$typeof===s||Q.$$typeof===u||Q.$$typeof===b||Q.$$typeof===v||Q[0]===y)},Ye.typeOf=T,Ye}var X1;function Jz(){return X1||(X1=1,pm.exports=Qz()),pm.exports}var Zz=Jz(),e3=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],t3=["reactReduxForwardedRef"],n3=[],r3=[null,null];function i3(t,e){var n=t[1];return[e.payload,n+1]}function Q1(t,e,n){kO(function(){return t.apply(void 0,e)},n)}function o3(t,e,n,r,i,l,s){t.current=r,e.current=i,n.current=!1,l.current&&(l.current=null,s())}function l3(t,e,n,r,i,l,s,u,f,d){if(t){var p=!1,m=null,v=function(){if(!p){var S=e.getState(),w,C;try{w=r(S,i.current)}catch(T){C=T,m=T}C||(m=null),w===l.current?s.current||f():(l.current=w,u.current=w,s.current=!0,d({type:"STORE_UPDATED",payload:{error:C}}))}};n.onStateChange=v,n.trySubscribe(),v();var y=function(){if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m};return y}}var a3=function(){return[null,0]};function s3(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(M){return"ConnectAdvanced("+M+")"}:r,l=n.methodName,s=l===void 0?"connectAdvanced":l,u=n.renderCountProp,f=u===void 0?void 0:u,d=n.shouldHandleStateChanges,p=d===void 0?!0:d,m=n.storeKey,v=m===void 0?"store":m;n.withRef;var y=n.forwardRef,b=y===void 0?!1:y,S=n.context,w=S===void 0?AO:S,C=Ef(n,e3),T=w;return function(R){var A=R.displayName||R.name||"Component",I=i(A),z=we({},C,{getDisplayName:i,methodName:s,renderCountProp:f,shouldHandleStateChanges:p,storeKey:v,displayName:I,wrappedComponentName:A,WrappedComponent:R}),U=C.pure;function L(ne){return t(ne.dispatch,z)}var W=U?E.useMemo:function(ne){return ne()};function q(ne){var he=E.useMemo(function(){var Cr=ne.reactReduxForwardedRef,Qi=Ef(ne,t3);return[ne.context,Cr,Qi]},[ne]),Y=he[0],le=he[1],ee=he[2],ue=E.useMemo(function(){return Y&&Y.Consumer&&Zz.isContextConsumer(re.createElement(Y.Consumer,null))?Y:T},[Y,T]),B=E.useContext(ue),K=!!ne.store&&!!ne.store.getState&&!!ne.store.dispatch;B&&B.store;var ie=K?ne.store:B.store,_=E.useMemo(function(){return L(ie)},[ie]),te=E.useMemo(function(){if(!p)return r3;var Cr=RO(ie,K?null:B.subscription),Qi=Cr.notifyNestedSubs.bind(Cr);return[Cr,Qi]},[ie,K,B]),se=te[0],pe=te[1],Te=E.useMemo(function(){return K?B:we({},B,{subscription:se})},[K,B,se]),xe=E.useReducer(i3,n3,a3),je=xe[0],Be=je[0],vt=xe[1];if(Be&&Be.error)throw Be.error;var Pe=E.useRef(),Fe=E.useRef(ee),me=E.useRef(),He=E.useRef(!1),st=W(function(){return me.current&&ee===Fe.current?me.current:_(ie.getState(),ee)},[ie,Be,ee]);Q1(o3,[Fe,Pe,He,ee,st,me,pe]),Q1(l3,[p,ie,se,_,Fe,Pe,He,me,pe,vt],[ie,se,_]);var On=E.useMemo(function(){return re.createElement(R,we({},st,{ref:le}))},[le,R,st]),Er=E.useMemo(function(){return p?re.createElement(ue.Provider,{value:Te},On):On},[ue,On,Te]);return Er}var ve=U?re.memo(q):q;if(ve.WrappedComponent=R,ve.displayName=q.displayName=I,b){var Q=re.forwardRef(function(he,Y){return re.createElement(ve,we({},he,{reactReduxForwardedRef:Y}))});return Q.displayName=I,Q.WrappedComponent=R,Y1(Q,R)}return Y1(ve,R)}}function J1(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function mm(t,e){if(J1(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!J1(t[n[i]],e[n[i]]))return!1;return!0}function u3(t,e){var n={},r=function(s){var u=t[s];typeof u=="function"&&(n[s]=function(){return e(u.apply(void 0,arguments))})};for(var i in t)r(i);return n}function gv(t){return function(n,r){var i=t(n,r);function l(){return i}return l.dependsOnOwnProps=!1,l}}function Z1(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function IO(t,e){return function(r,i){i.displayName;var l=function(u,f){return l.dependsOnOwnProps?l.mapToProps(u,f):l.mapToProps(u)};return l.dependsOnOwnProps=!0,l.mapToProps=function(u,f){l.mapToProps=t,l.dependsOnOwnProps=Z1(t);var d=l(u,f);return typeof d=="function"&&(l.mapToProps=d,l.dependsOnOwnProps=Z1(d),d=l(u,f)),d},l}}function c3(t){return typeof t=="function"?IO(t):void 0}function f3(t){return t?void 0:gv(function(e){return{dispatch:e}})}function d3(t){return t&&typeof t=="object"?gv(function(e){return u3(t,e)}):void 0}const h3=[c3,f3,d3];function p3(t){return typeof t=="function"?IO(t):void 0}function m3(t){return t?void 0:gv(function(){return{}})}const g3=[p3,m3];function v3(t,e,n){return we({},n,t,e)}function y3(t){return function(n,r){r.displayName;var i=r.pure,l=r.areMergedPropsEqual,s=!1,u;return function(d,p,m){var v=t(d,p,m);return s?(!i||!l(v,u))&&(u=v):(s=!0,u=v),u}}}function b3(t){return typeof t=="function"?y3(t):void 0}function x3(t){return t?void 0:function(){return v3}}const S3=[b3,x3];var w3=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function E3(t,e,n,r){return function(l,s){return n(t(l,s),e(r,s),s)}}function C3(t,e,n,r,i){var l=i.areStatesEqual,s=i.areOwnPropsEqual,u=i.areStatePropsEqual,f=!1,d,p,m,v,y;function b(M,R){return d=M,p=R,m=t(d,p),v=e(r,p),y=n(m,v,p),f=!0,y}function S(){return m=t(d,p),e.dependsOnOwnProps&&(v=e(r,p)),y=n(m,v,p),y}function w(){return t.dependsOnOwnProps&&(m=t(d,p)),e.dependsOnOwnProps&&(v=e(r,p)),y=n(m,v,p),y}function C(){var M=t(d,p),R=!u(M,m);return m=M,R&&(y=n(m,v,p)),y}function T(M,R){var A=!s(R,p),I=!l(M,d,R,p);return d=M,p=R,A&&I?S():A?w():I?C():y}return function(R,A){return f?T(R,A):b(R,A)}}function O3(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,l=Ef(e,w3),s=n(t,l),u=r(t,l),f=i(t,l),d=l.pure?C3:E3;return d(s,u,f,t,l)}var T3=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function gm(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(l,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function M3(t,e){return t===e}function D3(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?s3:n,i=e.mapStateToPropsFactories,l=i===void 0?g3:i,s=e.mapDispatchToPropsFactories,u=s===void 0?h3:s,f=e.mergePropsFactories,d=f===void 0?S3:f,p=e.selectorFactory,m=p===void 0?O3:p;return function(y,b,S,w){w===void 0&&(w={});var C=w,T=C.pure,M=T===void 0?!0:T,R=C.areStatesEqual,A=R===void 0?M3:R,I=C.areOwnPropsEqual,z=I===void 0?mm:I,U=C.areStatePropsEqual,L=U===void 0?mm:U,W=C.areMergedPropsEqual,q=W===void 0?mm:W,ve=Ef(C,T3),Q=gm(y,l,"mapStateToProps"),ne=gm(b,u,"mapDispatchToProps"),he=gm(S,d,"mergeProps");return r(m,we({methodName:"connect",getDisplayName:function(le){return"Connect("+le+")"},shouldHandleStateChanges:!!y,initMapStateToProps:Q,initMapDispatchToProps:ne,initMergeProps:he,pure:M,areStatesEqual:A,areOwnPropsEqual:z,areStatePropsEqual:L,areMergedPropsEqual:q},ve))}}const BO=D3();Uz(at.unstable_batchedUpdates);function A3(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function PO(t,e){var n=E.useState(function(){return{inputs:e,result:t()}})[0],r=E.useRef(!0),i=E.useRef(n),l=r.current||!!(e&&i.current.inputs&&A3(e,i.current.inputs)),s=l?i.current:{inputs:e,result:t()};return E.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function N3(t,e){return PO(function(){return t},e)}var $e=PO,be=N3,R3="Invariant failed";function k3(t,e){throw new Error(R3)}var Zn=function(e){var n=e.top,r=e.right,i=e.bottom,l=e.left,s=r-l,u=i-n,f={top:n,right:r,bottom:i,left:l,width:s,height:u,x:l,y:n,center:{x:(r+l)/2,y:(i+n)/2}};return f},vv=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},ew=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},I3=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},vm={top:0,right:0,bottom:0,left:0},yv=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?vm:r,l=e.border,s=l===void 0?vm:l,u=e.padding,f=u===void 0?vm:u,d=Zn(vv(n,i)),p=Zn(ew(n,s)),m=Zn(ew(p,f));return{marginBox:d,borderBox:Zn(n),paddingBox:p,contentBox:m,margin:i,border:s,padding:f}},zn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&k3(),i},B3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Cf=function(e,n){var r=e.borderBox,i=e.border,l=e.margin,s=e.padding,u=I3(r,n);return yv({borderBox:u,border:i,margin:l,padding:s})},Of=function(e,n){return n===void 0&&(n=B3()),Cf(e,n)},LO=function(e,n){var r={top:zn(n.marginTop),right:zn(n.marginRight),bottom:zn(n.marginBottom),left:zn(n.marginLeft)},i={top:zn(n.paddingTop),right:zn(n.paddingRight),bottom:zn(n.paddingBottom),left:zn(n.paddingLeft)},l={top:zn(n.borderTopWidth),right:zn(n.borderRightWidth),bottom:zn(n.borderBottomWidth),left:zn(n.borderLeftWidth)};return yv({borderBox:e,margin:r,padding:i,border:l})},jO=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return LO(n,r)},tw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function P3(t,e){return!!(t===e||tw(t)&&tw(e))}function L3(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!P3(t[n],e[n]))return!1;return!0}function Ot(t,e){e===void 0&&(e=L3);var n,r=[],i,l=!1;function s(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return l&&n===this&&e(u,r)||(i=t.apply(this,u),l=!0,n=this,r=u),i}return s}var Ws=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];n=u,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function zO(t,e){}zO.bind(null,"warn");zO.bind(null,"error");function Bi(){}function j3(t,e){return we({},t,{},e)}function Vn(t,e,n){var r=e.map(function(i){var l=j3(n,i.options);return t.addEventListener(i.eventName,i.fn,l),function(){t.removeEventListener(i.eventName,i.fn,l)}});return function(){r.forEach(function(l){l()})}}var z3="Invariant failed";function Tf(t){this.message=t}Tf.prototype.toString=function(){return this.message};function oe(t,e){throw new Tf(z3)}var H3=function(t){TO(e,t);function e(){for(var r,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=t.call.apply(t,[this].concat(l))||this,r.callbacks=null,r.unbind=Bi,r.onWindowError=function(u){var f=r.getCallbacks();f.isDragging()&&f.tryAbort();var d=u.error;d instanceof Tf&&u.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(u){r.callbacks=u},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Vn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Tf){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(re.Component),$3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Mf=function(e){return e+1},F3=function(e){return`
  You have lifted an item in position `+Mf(e.source.index)+`
`},HO=function(e,n){var r=e.droppableId===n.droppableId,i=Mf(e.index),l=Mf(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+l+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+l+`
  `},$O=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},_3=function(e){var n=e.destination;if(n)return HO(e.source,n);var r=e.combine;return r?$O(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},nw=function(e){return`
  The item has returned to its starting position
  of `+Mf(e.index)+`
`},U3=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+nw(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+HO(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+$O(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+nw(e.source)+`
  `},Jc={dragHandleUsageInstructions:$3,onDragStart:F3,onDragUpdate:_3,onDragEnd:U3},Mt={x:0,y:0},Pt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},yn=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Pi=function(e,n){return e.x===n.x&&e.y===n.y},sa=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},qo=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Ys=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},rw=function(e,n){return Math.min.apply(Math,n.map(function(r){return Ys(e,r)}))},FO=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},V3=function(t,e){var n=Zn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},au=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},iw=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},q3={top:0,right:0,bottom:0,left:0},G3=function(e,n){return n?au(e,n.scroll.diff.displacement):e},W3=function(e,n,r){if(r&&r.increasedBy){var i;return we({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},Y3=function(e,n){return n&&n.shouldClipSubject?V3(n.pageMarginBox,e):Zn(e)},ea=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,l=G3(e.marginBox,i),s=W3(l,r,n),u=Y3(s,i);return{page:e,withPlaceholder:n,active:u}},bv=function(t,e){t.frame||oe();var n=t.frame,r=yn(e,n.scroll.initial),i=sa(r),l=we({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=ea({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l}),u=we({},t,{frame:l,subject:s});return u};function Df(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function xv(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Ki(t,e){if(t.find)return t.find(e);var n=xv(t,e);if(n!==-1)return t[n]}function _O(t){return Array.prototype.slice.call(t)}var UO=Ot(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),VO=Ot(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),ad=Ot(function(t){return Df(t)}),K3=Ot(function(t){return Df(t)}),ua=Ot(function(t,e){var n=K3(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Sv(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function sd(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var ud=Ot(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),X3=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,l=t.previousImpact;if(!r.isCombineEnabled)return null;var s=Sv(l);if(!s)return null;function u(S){var w={type:"COMBINE",combine:{draggableId:S,droppableId:r.descriptor.id}};return we({},l,{at:w})}var f=l.displaced.all,d=f.length?f[0]:null;if(e)return d?u(d):null;var p=ud(n,i);if(!d){if(!p.length)return null;var m=p[p.length-1];return u(m.descriptor.id)}var v=xv(p,function(S){return S.descriptor.id===d});v===-1&&oe();var y=v-1;if(y<0)return null;var b=p[y];return u(b.descriptor.id)},ca=function(t,e){return t.descriptor.droppableId===e.descriptor.id},qO={point:Mt,value:0},Ks={invisible:{},visible:{},all:[]},Q3={displaced:Ks,displacedBy:qO,at:null},Gn=function(t,e){return function(n){return t<=n&&n<=e}},GO=function(t){var e=Gn(t.top,t.bottom),n=Gn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var l=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),u=l&&s;if(u)return!0;var f=r.top<t.top&&r.bottom>t.bottom,d=r.left<t.left&&r.right>t.right,p=f&&d;if(p)return!0;var m=f&&s||d&&l;return m}},J3=function(t){var e=Gn(t.top,t.bottom),n=Gn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},wv={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},WO={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Z3=function(t){return function(e){var n=Gn(e.top,e.bottom),r=Gn(e.left,e.right);return function(i){return t===wv?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},e5=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:Mt;return au(e,r)},t5=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},n5=function(e,n,r){return r(n)(e)},Ev=function(e){var n=e.target,r=e.destination,i=e.viewport,l=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,u=l?e5(n,r):n;return t5(u,r,s)&&n5(u,i,s)},r5=function(e){return Ev(we({},e,{isVisibleThroughFrameFn:GO}))},YO=function(e){return Ev(we({},e,{isVisibleThroughFrameFn:J3}))},i5=function(e){return Ev(we({},e,{isVisibleThroughFrameFn:Z3(e.destination.axis)}))},o5=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,l=n.visible;if(i[e])return!1;var s=l[e];return s?s.shouldAnimate:!0};function l5(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Zn(vv(n,r))}function Xs(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,l=t.forceShouldAnimate,s=t.last;return e.reduce(function(f,d){var p=l5(d,r),m=d.descriptor.id;f.all.push(m);var v=r5({target:p,destination:n,viewport:i,withDroppableDisplacement:!0});if(!v)return f.invisible[d.descriptor.id]=!0,f;var y=o5(m,s,l),b={draggableId:m,shouldAnimate:y};return f.visible[m]=b,f},{all:[],visible:{},invisible:{}})}function a5(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function ow(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,l=a5(e,{inHomeList:n});return{displaced:Ks,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:l}}}}function Af(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,l=t.displacedBy,s=t.last,u=t.index,f=t.forceShouldAnimate,d=ca(e,r);if(u==null)return ow({insideDestination:n,inHomeList:d,displacedBy:l,destination:r});var p=Ki(n,function(S){return S.descriptor.index===u});if(!p)return ow({insideDestination:n,inHomeList:d,displacedBy:l,destination:r});var m=ud(e,n),v=n.indexOf(p),y=m.slice(v),b=Xs({afterDragging:y,destination:r,displacedBy:l,last:s,viewport:i.frame,forceShouldAnimate:f});return{displaced:b,displacedBy:l,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:u}}}}function Fi(t,e){return!!e.effected[t]}var s5=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,l=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,u=r[s],f=u.descriptor.index,d=Fi(s,l);return d?e?f:f-1:e?f+1:f},u5=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var l=i.index,s=e?l+1:l-1,u=r[0].descriptor.index,f=r[r.length-1].descriptor.index,d=n?f:f+1;return s<u||s>d?null:s},c5=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,l=t.destination,s=t.insideDestination,u=t.previousImpact,f=t.viewport,d=t.afterCritical,p=u.at;if(p||oe(),p.type==="REORDER"){var m=u5({isMovingForward:e,isInHomeList:n,location:p.destination,insideDestination:s});return m==null?null:Af({draggable:r,insideDestination:s,destination:l,viewport:f,last:u.displaced,displacedBy:u.displacedBy,index:m})}var v=s5({isMovingForward:e,destination:l,displaced:u.displaced,draggables:i,combine:p.combine,afterCritical:d});return v==null?null:Af({draggable:r,insideDestination:s,destination:l,viewport:f,last:u.displaced,displacedBy:u.displacedBy,index:v})},f5=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,l=!!(e.visible[r]||e.invisible[r]);return Fi(r,n)?l?Mt:sa(i.point):l?i.point:Mt},d5=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=sd(n);i||oe();var l=i.draggableId,s=r[l].page.borderBox.center,u=f5({displaced:n.displaced,afterCritical:e,combineWith:l,displacedBy:n.displacedBy});return Pt(s,u)},KO=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},h5=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},Cv=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},lw=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return qo(n.line,r.marginBox[n.end]+KO(n,i),Cv(n,r.marginBox,i))},aw=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return qo(n.line,r.marginBox[n.start]-h5(n,i),Cv(n,r.marginBox,i))},p5=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return qo(n.line,r.contentBox[n.start]+KO(n,i),Cv(n,r.contentBox,i))},m5=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,l=t.afterCritical,s=ua(i.descriptor.id,r),u=n.page,f=i.axis;if(!s.length)return p5({axis:f,moveInto:i.page,isMoving:u});var d=e.displaced,p=e.displacedBy,m=d.all[0];if(m){var v=r[m];if(Fi(m,l))return aw({axis:f,moveRelativeTo:v.page,isMoving:u});var y=Cf(v.page,p.point);return aw({axis:f,moveRelativeTo:y,isMoving:u})}var b=s[s.length-1];if(b.descriptor.id===n.descriptor.id)return u.borderBox.center;if(Fi(b.descriptor.id,l)){var S=Cf(b.page,sa(l.displacedBy.point));return lw({axis:f,moveRelativeTo:S,isMoving:u})}return lw({axis:f,moveRelativeTo:b.page,isMoving:u})},mg=function(t,e){var n=t.frame;return n?Pt(e,n.scroll.diff.displacement):e},g5=function(e){var n=e.impact,r=e.draggable,i=e.droppable,l=e.draggables,s=e.afterCritical,u=r.page.borderBox.center,f=n.at;return!i||!f?u:f.type==="REORDER"?m5({impact:n,draggable:r,draggables:l,droppable:i,afterCritical:s}):d5({impact:n,draggables:l,afterCritical:s})},cd=function(t){var e=g5(t),n=t.droppable,r=n?mg(n,e):e;return r},XO=function(t,e){var n=yn(e,t.scroll.initial),r=sa(n),i=Zn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),l={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return l};function sw(t,e){return t.map(function(n){return e[n]})}function v5(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var y5=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,l=t.maxScrollChange,s=XO(n,Pt(n.scroll.current,l)),u=r.frame?bv(r,Pt(r.frame.scroll.current,l)):r,f=e.displaced,d=Xs({afterDragging:sw(f.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:f,forceShouldAnimate:!1}),p=Xs({afterDragging:sw(f.all,i),destination:u,displacedBy:e.displacedBy,viewport:n.frame,last:f,forceShouldAnimate:!1}),m={},v={},y=[f,d,p];f.all.forEach(function(S){var w=v5(S,y);if(w){v[S]=w;return}m[S]=!0});var b=we({},e,{displaced:{all:f.all,invisible:m,visible:v}});return b},b5=function(t,e){return Pt(t.scroll.diff.displacement,e)},Ov=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=b5(r,e),l=yn(i,n.page.borderBox.center);return Pt(n.client.borderBox.center,l)},QO=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,l=t.withDroppableDisplacement,s=t.onlyOnMainAxis,u=s===void 0?!1:s,f=yn(r,e.page.borderBox.center),d=au(e.page.borderBox,f),p={target:d,destination:n,withDroppableDisplacement:l,viewport:i};return u?i5(p):YO(p)},x5=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,l=t.previousImpact,s=t.viewport,u=t.previousPageBorderBoxCenter,f=t.previousClientSelection,d=t.afterCritical;if(!r.isEnabled)return null;var p=ua(r.descriptor.id,i),m=ca(n,r),v=X3({isMovingForward:e,draggable:n,destination:r,insideDestination:p,previousImpact:l})||c5({isMovingForward:e,isInHomeList:m,draggable:n,draggables:i,destination:r,insideDestination:p,previousImpact:l,viewport:s,afterCritical:d});if(!v)return null;var y=cd({impact:v,draggable:n,droppable:r,draggables:i,afterCritical:d}),b=QO({draggable:n,destination:r,newPageBorderBoxCenter:y,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(b){var S=Ov({pageBorderBoxCenter:y,draggable:n,viewport:s});return{clientSelection:S,impact:v,scrollJumpRequest:null}}var w=yn(y,u),C=y5({impact:v,viewport:s,destination:r,draggables:i,maxScrollChange:w});return{clientSelection:f,impact:C,scrollJumpRequest:w}},Wt=function(e){var n=e.subject.active;return n||oe(),n},S5=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,l=t.viewport,s=r.subject.active;if(!s)return null;var u=r.axis,f=Gn(s[u.start],s[u.end]),d=ad(i).filter(function(m){return m!==r}).filter(function(m){return m.isEnabled}).filter(function(m){return!!m.subject.active}).filter(function(m){return GO(l.frame)(Wt(m))}).filter(function(m){var v=Wt(m);return e?s[u.crossAxisEnd]<v[u.crossAxisEnd]:v[u.crossAxisStart]<s[u.crossAxisStart]}).filter(function(m){var v=Wt(m),y=Gn(v[u.start],v[u.end]);return f(v[u.start])||f(v[u.end])||y(s[u.start])||y(s[u.end])}).sort(function(m,v){var y=Wt(m)[u.crossAxisStart],b=Wt(v)[u.crossAxisStart];return e?y-b:b-y}).filter(function(m,v,y){return Wt(m)[u.crossAxisStart]===Wt(y[0])[u.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var p=d.filter(function(m){var v=Gn(Wt(m)[u.start],Wt(m)[u.end]);return v(n[u.line])});return p.length===1?p[0]:p.length>1?p.sort(function(m,v){return Wt(m)[u.start]-Wt(v)[u.start]})[0]:d.sort(function(m,v){var y=rw(n,iw(Wt(m))),b=rw(n,iw(Wt(v)));return y!==b?y-b:Wt(m)[u.start]-Wt(v)[u.start]})[0]},uw=function(e,n){var r=e.page.borderBox.center;return Fi(e.descriptor.id,n)?yn(r,n.displacedBy.point):r},w5=function(e,n){var r=e.page.borderBox;return Fi(e.descriptor.id,n)?au(r,sa(n.displacedBy.point)):r},E5=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,l=t.afterCritical,s=i.filter(function(u){return YO({target:w5(u,l),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(u,f){var d=Ys(e,mg(r,uw(u,l))),p=Ys(e,mg(r,uw(f,l)));return d<p?-1:p<d?1:u.descriptor.index-f.descriptor.index});return s[0]||null},su=Ot(function(e,n){var r=n[e.line];return{value:r,point:qo(e.line,r)}}),C5=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return qo(i.line,n[i.line]);var l=e.subject.page.contentBox[i.size],s=ua(e.descriptor.id,r),u=s.reduce(function(p,m){return p+m.client.marginBox[i.size]},0),f=u+n[i.line],d=f-l;return d<=0?null:qo(i.line,d)},JO=function(e,n){return we({},e,{scroll:we({},e.scroll,{max:n})})},ZO=function(e,n,r){var i=e.frame;ca(n,e)&&oe(),e.subject.withPlaceholder&&oe();var l=su(e.axis,n.displaceBy).point,s=C5(e,l,r),u={placeholderSize:l,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var f=ea({page:e.subject.page,withPlaceholder:u,axis:e.axis,frame:e.frame});return we({},e,{subject:f})}var d=s?Pt(i.scroll.max,s):i.scroll.max,p=JO(i,d),m=ea({page:e.subject.page,withPlaceholder:u,axis:e.axis,frame:p});return we({},e,{subject:m,frame:p})},O5=function(e){var n=e.subject.withPlaceholder;n||oe();var r=e.frame;if(!r){var i=ea({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return we({},e,{subject:i})}var l=n.oldFrameMaxScroll;l||oe();var s=JO(r,l),u=ea({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return we({},e,{subject:u,frame:s})},T5=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,l=t.draggables,s=t.destination,u=t.viewport,f=t.afterCritical;if(!n){if(r.length)return null;var d={displaced:Ks,displacedBy:qO,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=cd({impact:d,draggable:i,droppable:s,draggables:l,afterCritical:f}),m=ca(i,s)?s:ZO(s,i,l),v=QO({draggable:i,destination:m,newPageBorderBoxCenter:p,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return v?d:null}var y=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],b=function(){var w=n.descriptor.index;return n.descriptor.id===i.descriptor.id||y?w:w+1}(),S=su(s.axis,i.displaceBy);return Af({draggable:i,insideDestination:r,destination:s,viewport:u,displacedBy:S,last:Ks,index:b})},M5=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,l=t.draggables,s=t.droppables,u=t.viewport,f=t.afterCritical,d=S5({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:u});if(!d)return null;var p=ua(d.descriptor.id,l),m=E5({pageBorderBoxCenter:n,viewport:u,destination:d,insideDestination:p,afterCritical:f}),v=T5({previousPageBorderBoxCenter:n,destination:d,draggable:r,draggables:l,moveRelativeTo:m,insideDestination:p,viewport:u,afterCritical:f});if(!v)return null;var y=cd({impact:v,draggable:r,droppable:d,draggables:l,afterCritical:f}),b=Ov({pageBorderBoxCenter:y,draggable:r,viewport:u});return{clientSelection:b,impact:v,scrollJumpRequest:null}},xn=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},D5=function(e,n){var r=xn(e);return r?n[r]:null},A5=function(t){var e=t.state,n=t.type,r=D5(e.impact,e.dimensions.droppables),i=!!r,l=e.dimensions.droppables[e.critical.droppable.id],s=r||l,u=s.axis.direction,f=u==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||u==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(f&&!i)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",p=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,v=e.dimensions,y=v.draggables,b=v.droppables;return f?x5({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:p,destination:s,draggables:y,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):M5({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:p,isOver:s,draggables:y,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Eo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function eT(t){var e=Gn(t.top,t.bottom),n=Gn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function N5(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function R5(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,l=r.map(function(s){var u=s.axis,f=qo(s.axis.line,e.center[u.line],s.page.borderBox.center[u.crossAxisLine]);return{id:s.descriptor.id,distance:Ys(i,f)}}).sort(function(s,u){return u.distance-s.distance});return l[0]?l[0].id:null}function k5(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=ad(r).filter(function(l){if(!l.isEnabled)return!1;var s=l.subject.active;if(!s||!N5(e,s))return!1;if(eT(s)(e.center))return!0;var u=l.axis,f=s.center[u.crossAxisLine],d=e[u.crossAxisStart],p=e[u.crossAxisEnd],m=Gn(s[u.crossAxisStart],s[u.crossAxisEnd]),v=m(d),y=m(p);return!v&&!y?!0:v?d<f:p>f});return i.length?i.length===1?i[0].descriptor.id:R5({pageBorderBox:e,draggable:n,candidates:i}):null}var tT=function(e,n){return Zn(au(e,n))},I5=function(t,e){var n=t.frame;return n?tT(e,n.scroll.diff.value):e};function nT(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function B5(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var P5=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,l=t.last,s=t.viewport,u=t.afterCritical,f=r.axis,d=su(r.axis,n.displaceBy),p=d.value,m=e[f.start],v=e[f.end],y=ud(n,i),b=Ki(y,function(w){var C=w.descriptor.id,T=w.page.borderBox.center[f.line],M=Fi(C,u),R=nT({displaced:l,id:C});return M?R?v<=T:m<T-p:R?v<=T+p:m<T}),S=B5({draggable:n,closest:b,inHomeList:ca(n,r)});return Af({draggable:n,insideDestination:i,destination:r,viewport:s,last:l,displacedBy:d,index:S})},L5=4,j5=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,l=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,f=su(i.axis,e.displaceBy),d=f.value,p=n[u.start],m=n[u.end],v=ud(e,l),y=Ki(v,function(S){var w=S.descriptor.id,C=S.page.borderBox,T=C[u.size],M=T/L5,R=Fi(w,s),A=nT({displaced:r.displaced,id:w});return R?A?m>C[u.start]+M&&m<C[u.end]-M:p>C[u.start]-d+M&&p<C[u.end]-d-M:A?m>C[u.start]+d+M&&m<C[u.end]+d-M:p>C[u.start]+M&&p<C[u.end]-M});if(!y)return null;var b={displacedBy:f,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:i.descriptor.id}}};return b},rT=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,l=t.previousImpact,s=t.viewport,u=t.afterCritical,f=tT(n.page.borderBox,e),d=k5({pageBorderBox:f,draggable:n,droppables:i});if(!d)return Q3;var p=i[d],m=ua(p.descriptor.id,r),v=I5(p,f);return j5({pageBorderBoxWithDroppableScroll:v,draggable:n,previousImpact:l,destination:p,insideDestination:m,afterCritical:u})||P5({pageBorderBoxWithDroppableScroll:v,draggable:n,destination:p,insideDestination:m,last:l.displaced,viewport:s,afterCritical:u})},Tv=function(t,e){var n;return we({},t,(n={},n[e.descriptor.id]=e,n))},z5=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,l=xn(n),s=xn(r);if(!l||l===s)return i;var u=i[l];if(!u.subject.withPlaceholder)return i;var f=O5(u);return Tv(i,f)},H5=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,l=t.impact,s=z5({previousImpact:i,impact:l,droppables:r}),u=xn(l);if(!u)return s;var f=r[u];if(ca(e,f)||f.subject.withPlaceholder)return s;var d=ZO(f,e,n);return Tv(s,d)},As=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,l=t.impact,s=t.scrollJumpRequest,u=i||e.viewport,f=r||e.dimensions,d=n||e.current.client.selection,p=yn(d,e.initial.client.selection),m={offset:p,selection:d,borderBoxCenter:Pt(e.initial.client.borderBoxCenter,p)},v={selection:Pt(m.selection,u.scroll.current),borderBoxCenter:Pt(m.borderBoxCenter,u.scroll.current),offset:Pt(m.offset,u.scroll.diff.value)},y={client:m,page:v};if(e.phase==="COLLECTING")return we({phase:"COLLECTING"},e,{dimensions:f,viewport:u,current:y});var b=f.draggables[e.critical.draggable.id],S=l||rT({pageOffset:v.offset,draggable:b,draggables:f.draggables,droppables:f.droppables,previousImpact:e.impact,viewport:u,afterCritical:e.afterCritical}),w=H5({draggable:b,impact:S,previousImpact:e.impact,draggables:f.draggables,droppables:f.droppables}),C=we({},e,{current:y,dimensions:{draggables:f.draggables,droppables:w},impact:S,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return C};function $5(t,e){return t.map(function(n){return e[n]})}var iT=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,l=t.forceShouldAnimate,s=e.displaced,u=$5(s.all,r),f=Xs({afterDragging:u,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:l,last:s});return we({},e,{displaced:f})},oT=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,l=t.viewport,s=t.afterCritical,u=cd({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return Ov({pageBorderBoxCenter:u,draggable:n,viewport:l})},lT=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&oe();var i=e.impact,l=r||e.viewport,s=n||e.dimensions,u=s.draggables,f=s.droppables,d=u[e.critical.draggable.id],p=xn(i);p||oe();var m=f[p],v=iT({impact:i,viewport:l,destination:m,draggables:u}),y=oT({impact:v,draggable:d,droppable:m,draggables:u,viewport:l,afterCritical:e.afterCritical});return As({impact:v,clientSelection:y,state:e,dimensions:s,viewport:l})},F5=function(t){return{index:t.index,droppableId:t.droppableId}},aT=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,l=su(n.axis,e.displaceBy),s=ua(n.descriptor.id,r),u=s.indexOf(e);u===-1&&oe();var f=s.slice(u+1),d=f.reduce(function(y,b){return y[b.descriptor.id]=!0,y},{}),p={inVirtualList:n.descriptor.mode==="virtual",displacedBy:l,effected:d},m=Xs({afterDragging:f,destination:n,displacedBy:l,last:null,viewport:i.frame,forceShouldAnimate:!1}),v={displaced:m,displacedBy:l,at:{type:"REORDER",destination:F5(e.descriptor)}};return{impact:v,afterCritical:p}},_5=function(t,e){return{draggables:t.draggables,droppables:Tv(t.droppables,e)}},U5=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=Cf(e.client,n),l=Of(i,r),s=we({},e,{placeholder:we({},e.placeholder,{client:i}),client:i,page:l});return s},V5=function(t){var e=t.frame;return e||oe(),e},q5=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(l){var s=l.descriptor.droppableId,u=n[s],f=V5(u),d=f.scroll.diff.value,p=Pt(i,d),m=U5({draggable:l,offset:p,initialWindowScroll:r.scroll.initial});return m})},G5=function(t){var e=t.state,n=t.published,r=n.modified.map(function(M){var R=e.dimensions.droppables[M.droppableId],A=bv(R,M.scroll);return A}),i=we({},e.dimensions.droppables,{},UO(r)),l=VO(q5({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=we({},e.dimensions.draggables,{},l);n.removals.forEach(function(M){delete s[M]});var u={droppables:i,draggables:s},f=xn(e.impact),d=f?u.droppables[f]:null,p=u.draggables[e.critical.draggable.id],m=u.droppables[e.critical.droppable.id],v=aT({draggable:p,home:m,draggables:s,viewport:e.viewport}),y=v.impact,b=v.afterCritical,S=d&&d.isCombineEnabled?e.impact:y,w=rT({pageOffset:e.current.page.offset,draggable:u.draggables[e.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:S,viewport:e.viewport,afterCritical:b}),C=we({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:w,onLiftImpact:y,dimensions:u,afterCritical:b,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return C;var T=we({phase:"DROP_PENDING"},C,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return T},gg=function(e){return e.movementMode==="SNAP"},ym=function(e,n,r){var i=_5(e.dimensions,n);return!gg(e)||r?As({state:e,dimensions:i}):lT({state:e,dimensions:i})};function bm(t){return t.isDragging&&t.movementMode==="SNAP"?we({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var cw={phase:"IDLE",completed:null,shouldFlush:!1},W5=function(t,e){if(t===void 0&&(t=cw),e.type==="FLUSH")return we({},cw,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&oe();var n=e.payload,r=n.critical,i=n.clientSelection,l=n.viewport,s=n.dimensions,u=n.movementMode,f=s.draggables[r.draggable.id],d=s.droppables[r.droppable.id],p={selection:i,borderBoxCenter:f.client.borderBox.center,offset:Mt},m={client:p,page:{selection:Pt(p.selection,l.scroll.initial),borderBoxCenter:Pt(p.selection,l.scroll.initial),offset:Pt(p.selection,l.scroll.diff.value)}},v=ad(s.droppables).every(function(vt){return!vt.isFixedOnPage}),y=aT({draggable:f,home:d,draggables:s.draggables,viewport:l}),b=y.impact,S=y.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:s,initial:m,current:m,isWindowScrollAllowed:v,impact:b,afterCritical:S,onLiftImpact:b,viewport:l,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&oe();var C=we({phase:"COLLECTING"},t,{phase:"COLLECTING"});return C}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||oe(),G5({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Eo(t)||oe();var T=e.payload.client;return Pi(T,t.current.client.selection)?t:As({state:t,clientSelection:T,impact:gg(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return bm(t);Eo(t)||oe();var M=e.payload,R=M.id,A=M.newScroll,I=t.dimensions.droppables[R];if(!I)return t;var z=bv(I,A);return ym(t,z,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Eo(t)||oe();var U=e.payload,L=U.id,W=U.isEnabled,q=t.dimensions.droppables[L];q||oe(),q.isEnabled===W&&oe();var ve=we({},q,{isEnabled:W});return ym(t,ve,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Eo(t)||oe();var Q=e.payload,ne=Q.id,he=Q.isCombineEnabled,Y=t.dimensions.droppables[ne];Y||oe(),Y.isCombineEnabled===he&&oe();var le=we({},Y,{isCombineEnabled:he});return ym(t,le,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Eo(t)||oe(),t.isWindowScrollAllowed||oe();var ee=e.payload.newScroll;if(Pi(t.viewport.scroll.current,ee))return bm(t);var ue=XO(t.viewport,ee);return gg(t)?lT({state:t,viewport:ue}):As({state:t,viewport:ue})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Eo(t))return t;var B=e.payload.maxScroll;if(Pi(B,t.viewport.scroll.max))return t;var K=we({},t.viewport,{scroll:we({},t.viewport.scroll,{max:B})});return we({phase:"DRAGGING"},t,{viewport:K})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&oe();var ie=A5({state:t,type:e.type});return ie?As({state:t,impact:ie.impact,clientSelection:ie.clientSelection,scrollJumpRequest:ie.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var _=e.payload.reason;t.phase!=="COLLECTING"&&oe();var te=we({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:_});return te}if(e.type==="DROP_ANIMATE"){var se=e.payload,pe=se.completed,Te=se.dropDuration,xe=se.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||oe();var je={phase:"DROP_ANIMATING",completed:pe,dropDuration:Te,newHomeClientOffset:xe,dimensions:t.dimensions};return je}if(e.type==="DROP_COMPLETE"){var Be=e.payload.completed;return{phase:"IDLE",completed:Be,shouldFlush:!1}}return t},Y5=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},K5=function(e){return{type:"LIFT",payload:e}},X5=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Q5=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},J5=function(){return{type:"COLLECTION_STARTING",payload:null}},Z5=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},eH=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},tH=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},sT=function(e){return{type:"MOVE",payload:e}},nH=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},rH=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},iH=function(){return{type:"MOVE_UP",payload:null}},oH=function(){return{type:"MOVE_DOWN",payload:null}},lH=function(){return{type:"MOVE_RIGHT",payload:null}},aH=function(){return{type:"MOVE_LEFT",payload:null}},Mv=function(){return{type:"FLUSH",payload:null}},sH=function(e){return{type:"DROP_ANIMATE",payload:e}},Dv=function(e){return{type:"DROP_COMPLETE",payload:e}},uT=function(e){return{type:"DROP",payload:e}},uH=function(e){return{type:"DROP_PENDING",payload:e}},cT=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},cH=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(l){if(l.type!=="LIFT"){i(l);return}var s=l.payload,u=s.id,f=s.clientSelection,d=s.movementMode,p=n();p.phase==="DROP_ANIMATING"&&r(Dv({completed:p.completed})),n().phase!=="IDLE"&&oe(),r(Mv()),r(Y5({draggableId:u,movementMode:d}));var m={shouldPublishImmediately:d==="SNAP"},v={draggableId:u,scrollOptions:m},y=t.startPublishing(v),b=y.critical,S=y.dimensions,w=y.viewport;r(X5({critical:b,dimensions:S,clientSelection:f,movementMode:d,viewport:w}))}}}},fH=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},Av={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Qs={opacity:{drop:0,combining:.7},scale:{drop:.75}},Nv={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},So=Nv.outOfTheWay+"s "+Av.outOfTheWay,Ns={fluid:"opacity "+So,snap:"transform "+So+", opacity "+So,drop:function(e){var n=e+"s "+Av.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+So,placeholder:"height "+So+", width "+So+", margin "+So},fw=function(e){return Pi(e,Mt)?null:"translate("+e.x+"px, "+e.y+"px)"},vg={moveTo:fw,drop:function(e,n){var r=fw(e);return r?n?r+" scale("+Qs.scale.drop+")":r:null}},yg=Nv.minDropTime,fT=Nv.maxDropTime,dH=fT-yg,dw=1500,hH=.6,pH=function(t){var e=t.current,n=t.destination,r=t.reason,i=Ys(e,n);if(i<=0)return yg;if(i>=dw)return fT;var l=i/dw,s=yg+dH*l,u=r==="CANCEL"?s*hH:s;return Number(u.toFixed(2))},mH=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,l=t.afterCritical,s=r.draggables,u=r.droppables,f=xn(e),d=f?u[f]:null,p=u[n.descriptor.droppableId],m=oT({impact:e,draggable:n,draggables:s,afterCritical:l,droppable:d||p,viewport:i}),v=yn(m,n.client.borderBox.center);return v},gH=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,l=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var u=iT({draggables:e,impact:s,destination:i,viewport:l,forceShouldAnimate:!0});return{impact:u,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var f=we({},r,{displaced:Ks});return{impact:f,didDropInsideDroppable:!0}},vH=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var l=e(),s=i.payload.reason;if(l.phase==="COLLECTING"){n(uH({reason:s}));return}if(l.phase!=="IDLE"){var u=l.phase==="DROP_PENDING"&&l.isWaiting;u&&oe(),l.phase==="DRAGGING"||l.phase==="DROP_PENDING"||oe();var f=l.critical,d=l.dimensions,p=d.draggables[l.critical.draggable.id],m=gH({reason:s,lastImpact:l.impact,afterCritical:l.afterCritical,onLiftImpact:l.onLiftImpact,home:l.dimensions.droppables[l.critical.droppable.id],viewport:l.viewport,draggables:l.dimensions.draggables}),v=m.impact,y=m.didDropInsideDroppable,b=y?Sv(v):null,S=y?sd(v):null,w={index:f.draggable.index,droppableId:f.droppable.id},C={draggableId:p.descriptor.id,type:p.descriptor.type,source:w,reason:s,mode:l.movementMode,destination:b,combine:S},T=mH({impact:v,draggable:p,dimensions:d,viewport:l.viewport,afterCritical:l.afterCritical}),M={critical:l.critical,afterCritical:l.afterCritical,result:C,impact:v},R=!Pi(l.current.client.offset,T)||!!C.combine;if(!R){n(Dv({completed:M}));return}var A=pH({current:l.current.client.offset,destination:T,reason:s}),I={newHomeClientOffset:T,dropDuration:A,completed:M};n(sH(I))}}}},dT=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function yH(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function bH(t){var e=t.onWindowScroll;function n(){e(dT())}var r=Ws(n),i=yH(r),l=Bi;function s(){return l!==Bi}function u(){s()&&oe(),l=Vn(window,[i])}function f(){s()||oe(),r.cancel(),l(),l=Bi}return{start:u,stop:f,isActive:s}}var xH=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},SH=function(t){var e=bH({onWindowScroll:function(r){t.dispatch(nH({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&xH(r)&&e.stop(),n(r)}}},wH=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},EH=function(){var t=[],e=function(l){var s=xv(t,function(d){return d.timerId===l});s===-1&&oe();var u=t.splice(s,1),f=u[0];f.callback()},n=function(l){var s=setTimeout(function(){return e(s)}),u={timerId:s,callback:l};t.push(u)},r=function(){if(t.length){var l=[].concat(t);t.length=0,l.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},CH=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},OH=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},TH=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},ys=function(e,n){n()},Hc=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},xm=function(e,n,r,i){if(!e){r(i(n));return}var l=wH(r),s={announce:l};e(n,s),l.wasCalled()||r(i(n))},MH=function(t,e){var n=EH(),r=null,i=function(v,y){r&&oe(),ys("onBeforeCapture",function(){var b=t().onBeforeCapture;if(b){var S={draggableId:v,mode:y};b(S)}})},l=function(v,y){r&&oe(),ys("onBeforeDragStart",function(){var b=t().onBeforeDragStart;b&&b(Hc(v,y))})},s=function(v,y){r&&oe();var b=Hc(v,y);r={mode:y,lastCritical:v,lastLocation:b.source,lastCombine:null},n.add(function(){ys("onDragStart",function(){return xm(t().onDragStart,b,e,Jc.onDragStart)})})},u=function(v,y){var b=Sv(y),S=sd(y);r||oe();var w=!TH(v,r.lastCritical);w&&(r.lastCritical=v);var C=!CH(r.lastLocation,b);C&&(r.lastLocation=b);var T=!OH(r.lastCombine,S);if(T&&(r.lastCombine=S),!(!w&&!C&&!T)){var M=we({},Hc(v,r.mode),{combine:S,destination:b});n.add(function(){ys("onDragUpdate",function(){return xm(t().onDragUpdate,M,e,Jc.onDragUpdate)})})}},f=function(){r||oe(),n.flush()},d=function(v){r||oe(),r=null,ys("onDragEnd",function(){return xm(t().onDragEnd,v,e,Jc.onDragEnd)})},p=function(){if(r){var v=we({},Hc(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});d(v)}};return{beforeCapture:i,beforeStart:l,start:s,update:u,flush:f,drop:d,abort:p}},DH=function(t,e){var n=MH(t,e);return function(r){return function(i){return function(l){if(l.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(l.type==="INITIAL_PUBLISH"){var s=l.payload.critical;n.beforeStart(s,l.payload.movementMode),i(l),n.start(s,l.payload.movementMode);return}if(l.type==="DROP_COMPLETE"){var u=l.payload.completed.result;n.flush(),i(l),n.drop(u);return}if(i(l),l.type==="FLUSH"){n.abort();return}var f=r.getState();f.phase==="DRAGGING"&&n.update(f.critical,f.impact)}}}},AH=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&oe(),t.dispatch(Dv({completed:r.completed}))}}},NH=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(l){if((l.type==="FLUSH"||l.type==="DROP_COMPLETE"||l.type==="DROP_ANIMATION_FINISHED")&&r(),i(l),l.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var f=t.getState();f.phase==="DROP_ANIMATING"&&t.dispatch(cT())}};n=requestAnimationFrame(function(){n=null,e=Vn(window,[s])})}}}},RH=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},kH=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},IH=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},BH=function(t){return function(e){return function(n){return function(r){if(IH(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&oe(),t.start(i);return}n(r),t.scroll(e.getState())}}}},PH=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(uT({reason:r.reason})))}}}},LH=DO,jH=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,l=t.announce,s=t.autoScroller;return MO(W5,LH(Fz(fH(r),RH(e),cH(e),vH,AH,NH,PH,BH(s),SH,kH(n),DH(i,l))))},Sm=function(){return{additions:{},removals:{},modified:{}}};function zH(t){var e=t.registry,n=t.callbacks,r=Sm(),i=null,l=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var p=r,m=p.additions,v=p.removals,y=p.modified,b=Object.keys(m).map(function(C){return e.draggable.getById(C).getDimension(Mt)}).sort(function(C,T){return C.descriptor.index-T.descriptor.index}),S=Object.keys(y).map(function(C){var T=e.droppable.getById(C),M=T.callbacks.getScrollWhileDragging();return{droppableId:C,scroll:M}}),w={additions:b,removals:Object.keys(v),modified:S};r=Sm(),n.publish(w)}))},s=function(p){var m=p.descriptor.id;r.additions[m]=p,r.modified[p.descriptor.droppableId]=!0,r.removals[m]&&delete r.removals[m],l()},u=function(p){var m=p.descriptor;r.removals[m.id]=!0,r.modified[m.droppableId]=!0,r.additions[m.id]&&delete r.additions[m.id],l()},f=function(){i&&(cancelAnimationFrame(i),i=null,r=Sm())};return{add:s,remove:u,stop:f}}var hT=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,l=yn({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,l.x),y:Math.max(0,l.y)};return s},pT=function(){var t=document.documentElement;return t||oe(),t},mT=function(){var t=pT(),e=hT({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},HH=function(){var t=dT(),e=mT(),n=t.y,r=t.x,i=pT(),l=i.clientWidth,s=i.clientHeight,u=r+l,f=n+s,d=Zn({top:n,left:r,right:u,bottom:f}),p={frame:d,scroll:{initial:t,current:t,max:e,diff:{value:Mt,displacement:Mt}}};return p},$H=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=HH(),l=i.scroll.current,s=e.droppable,u=r.droppable.getAllByType(s.type).map(function(m){return m.callbacks.getDimensionAndWatchScroll(l,n)}),f=r.draggable.getAllByType(e.draggable.type).map(function(m){return m.getDimension(l)}),d={draggables:VO(f),droppables:UO(u)},p={dimensions:d,critical:e,viewport:i};return p};function hw(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var FH=function(t,e){var n=null,r=zH({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(y,b){t.droppable.exists(y)||oe(),n&&e.updateDroppableIsEnabled({id:y,isEnabled:b})},l=function(y,b){n&&(t.droppable.exists(y)||oe(),e.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:b}))},s=function(y,b){n&&(t.droppable.exists(y)||oe(),e.updateDroppableScroll({id:y,newScroll:b}))},u=function(y,b){n&&t.droppable.getById(y).callbacks.scroll(b)},f=function(){if(n){r.stop();var y=n.critical.droppable;t.droppable.getAllByType(y.type).forEach(function(b){return b.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(y){n||oe();var b=n.critical.draggable;y.type==="ADDITION"&&hw(t,b,y.value)&&r.add(y.value),y.type==="REMOVAL"&&hw(t,b,y.value)&&r.remove(y.value)},p=function(y){n&&oe();var b=t.draggable.getById(y.draggableId),S=t.droppable.getById(b.descriptor.droppableId),w={draggable:b.descriptor,droppable:S.descriptor},C=t.subscribe(d);return n={critical:w,unsubscribe:C},$H({critical:w,registry:t,scrollOptions:y.scrollOptions})},m={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:l,scrollDroppable:u,updateDroppableScroll:s,startPublishing:p,stopPublishing:f};return m},gT=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},_H=function(t){window.scrollBy(t.x,t.y)},UH=Ot(function(t){return ad(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),VH=function(e,n){var r=Ki(UH(n),function(i){return i.frame||oe(),eT(i.frame.pageMarginBox)(e)});return r},qH=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var l=VH(e,r);return l},Li={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},GH=function(t,e){var n=t[e.size]*Li.startFromPercentage,r=t[e.size]*Li.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},vT=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var l=r-e,s=l/i;return s},Rv=1,WH=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Li.maxPixelScroll;if(t===e.startScrollingFrom)return Rv;var n=vT({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Li.maxPixelScroll*Li.ease(r);return Math.ceil(i)},pw=Li.durationDampening.accelerateAt,mw=Li.durationDampening.stopDampeningAt,YH=function(t,e){var n=e,r=mw,i=Date.now(),l=i-n;if(l>=mw)return t;if(l<pw)return Rv;var s=vT({startOfRange:pw,endOfRange:r,current:l}),u=t*Li.ease(s);return Math.ceil(u)},gw=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,l=WH(e,n);return l===0?0:i?Math.max(YH(l,r),Rv):l},vw=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,l=t.shouldUseTimeDampening,s=GH(e,i),u=n[i.end]<n[i.start];return u?gw({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:l}):-1*gw({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:l})},KH=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,l=n.width>e.width;return!l&&!i?r:l&&i?null:{x:l?0:r.x,y:i?0:r.y}},XH=FO(function(t){return t===0?0:t}),yT=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,l=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},u=vw({container:n,distanceToEdges:s,dragStartTime:e,axis:wv,shouldUseTimeDampening:l}),f=vw({container:n,distanceToEdges:s,dragStartTime:e,axis:WO,shouldUseTimeDampening:l}),d=XH({x:f,y:u});if(Pi(d,Mt))return null;var p=KH({container:n,subject:r,proposedScroll:d});return p?Pi(p,Mt)?null:p:null},QH=FO(function(t){return t===0?0:t>0?1:-1}),kv=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,l=Pt(n,i),s={x:t(l.x,r.x),y:t(l.y,r.y)};return Pi(s,Mt)?null:s}}(),bT=function(e){var n=e.max,r=e.current,i=e.change,l={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=QH(i),u=kv({max:l,current:r,change:s});return!u||s.x!==0&&u.x===0||s.y!==0&&u.y===0},Iv=function(e,n){return bT({current:e.scroll.current,max:e.scroll.max,change:n})},JH=function(e,n){if(!Iv(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return kv({current:i,max:r,change:n})},Bv=function(e,n){var r=e.frame;return r?bT({current:r.scroll.current,max:r.scroll.max,change:n}):!1},ZH=function(e,n){var r=e.frame;return!r||!Bv(e,n)?null:kv({current:r.scroll.current,max:r.scroll.max,change:n})},e$=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,l=t.shouldUseTimeDampening,s=yT({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:l});return s&&Iv(e,s)?s:null},t$=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,l=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var u=yT({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:l});return u&&Bv(e,u)?u:null},yw=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,l=t.scrollDroppable,s=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id],f=u.page.marginBox;if(e.isWindowScrollAllowed){var d=e.viewport,p=e$({dragStartTime:n,viewport:d,subject:f,center:s,shouldUseTimeDampening:r});if(p){i(p);return}}var m=qH({center:s,destination:xn(e.impact),droppables:e.dimensions.droppables});if(m){var v=t$({dragStartTime:n,droppable:m,subject:f,center:s,shouldUseTimeDampening:r});v&&l(m.descriptor.id,v)}},n$=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Ws(e),i=Ws(n),l=null,s=function(p){l||oe();var m=l,v=m.shouldUseTimeDampening,y=m.dragStartTime;yw({state:p,scrollWindow:r,scrollDroppable:i,dragStartTime:y,shouldUseTimeDampening:v})},u=function(p){l&&oe();var m=Date.now(),v=!1,y=function(){v=!0};yw({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y}),l={dragStartTime:m,shouldUseTimeDampening:v},v&&s(p)},f=function(){l&&(r.cancel(),i.cancel(),l=null)};return{start:u,stop:f,scroll:s}},r$=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(d,p){var m=Pt(d.current.client.selection,p);e({client:m})},l=function(d,p){if(!Bv(d,p))return p;var m=ZH(d,p);if(!m)return n(d.descriptor.id,p),null;var v=yn(p,m);n(d.descriptor.id,v);var y=yn(p,v);return y},s=function(d,p,m){if(!d||!Iv(p,m))return m;var v=JH(p,m);if(!v)return r(m),null;var y=yn(m,v);r(y);var b=yn(m,y);return b},u=function(d){var p=d.scrollJumpRequest;if(p){var m=xn(d.impact);m||oe();var v=l(d.dimensions.droppables[m],p);if(v){var y=d.viewport,b=s(d.isWindowScrollAllowed,y,v);b&&i(d,b)}}};return u},i$=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=n$({scrollWindow:n,scrollDroppable:e}),l=r$({move:r,scrollWindow:n,scrollDroppable:e}),s=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&l(d)}},u={scroll:s,start:i.start,stop:i.stop};return u},ta="data-rbd",na=function(){var t=ta+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),bg=function(){var t=ta+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),o$=function(){var t=ta+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),bw={contextId:ta+"-scroll-container-context-id"},l$=function(e){return function(n){return"["+n+'="'+e+'"]'}},bs=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},a$="pointer-events: none;",s$=function(t){var e=l$(t),n=function(){var u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(na.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:a$,dropAnimating:u}}}(),r=function(){var u=`
      transition: `+Ns.outOfTheWay+`;
    `;return{selector:e(bg.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}}(),i={selector:e(o$.contextId),styles:{always:"overflow-anchor: none;"}},l={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,l];return{always:bs(s,"always"),resting:bs(s,"resting"),dragging:bs(s,"dragging"),dropAnimating:bs(s,"dropAnimating"),userCancel:bs(s,"userCancel")}},Sn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,wm=function(){var e=document.querySelector("head");return e||oe(),e},xw=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function u$(t,e){var n=$e(function(){return s$(t)},[t]),r=E.useRef(null),i=E.useRef(null),l=be(Ot(function(m){var v=i.current;v||oe(),v.textContent=m}),[]),s=be(function(m){var v=r.current;v||oe(),v.textContent=m},[]);Sn(function(){!r.current&&!i.current||oe();var m=xw(e),v=xw(e);return r.current=m,i.current=v,m.setAttribute(ta+"-always",t),v.setAttribute(ta+"-dynamic",t),wm().appendChild(m),wm().appendChild(v),s(n.always),l(n.resting),function(){var y=function(S){var w=S.current;w||oe(),wm().removeChild(w),S.current=null};y(r),y(i)}},[e,s,l,n.always,n.resting,t]);var u=be(function(){return l(n.dragging)},[l,n.dragging]),f=be(function(m){if(m==="DROP"){l(n.dropAnimating);return}l(n.userCancel)},[l,n.dropAnimating,n.userCancel]),d=be(function(){i.current&&l(n.resting)},[l,n.resting]),p=$e(function(){return{dragging:u,dropping:f,resting:d}},[u,f,d]);return p}var xT=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function fd(t){return t instanceof xT(t).HTMLElement}function c$(t,e){var n="["+na.contextId+'="'+t+'"]',r=_O(document.querySelectorAll(n));if(!r.length)return null;var i=Ki(r,function(l){return l.getAttribute(na.draggableId)===e});return!i||!fd(i)?null:i}function f$(t){var e=E.useRef({}),n=E.useRef(null),r=E.useRef(null),i=E.useRef(!1),l=be(function(v,y){var b={id:v,focus:y};return e.current[v]=b,function(){var w=e.current,C=w[v];C!==b&&delete w[v]}},[]),s=be(function(v){var y=c$(t,v);y&&y!==document.activeElement&&y.focus()},[t]),u=be(function(v,y){n.current===v&&(n.current=y)},[]),f=be(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var v=n.current;v&&s(v)}))},[s]),d=be(function(v){n.current=null;var y=document.activeElement;y&&y.getAttribute(na.draggableId)===v&&(n.current=v)},[]);Sn(function(){return i.current=!0,function(){i.current=!1;var v=r.current;v&&cancelAnimationFrame(v)}},[]);var p=$e(function(){return{register:l,tryRecordFocus:d,tryRestoreFocusRecorded:f,tryShiftRecord:u}},[l,d,f,u]);return p}function d$(){var t={draggables:{},droppables:{}},e=[];function n(m){return e.push(m),function(){var y=e.indexOf(m);y!==-1&&e.splice(y,1)}}function r(m){e.length&&e.forEach(function(v){return v(m)})}function i(m){return t.draggables[m]||null}function l(m){var v=i(m);return v||oe(),v}var s={register:function(v){t.draggables[v.descriptor.id]=v,r({type:"ADDITION",value:v})},update:function(v,y){var b=t.draggables[y.descriptor.id];b&&b.uniqueId===v.uniqueId&&(delete t.draggables[y.descriptor.id],t.draggables[v.descriptor.id]=v)},unregister:function(v){var y=v.descriptor.id,b=i(y);b&&v.uniqueId===b.uniqueId&&(delete t.draggables[y],r({type:"REMOVAL",value:v}))},getById:l,findById:i,exists:function(v){return!!i(v)},getAllByType:function(v){return Df(t.draggables).filter(function(y){return y.descriptor.type===v})}};function u(m){return t.droppables[m]||null}function f(m){var v=u(m);return v||oe(),v}var d={register:function(v){t.droppables[v.descriptor.id]=v},unregister:function(v){var y=u(v.descriptor.id);y&&v.uniqueId===y.uniqueId&&delete t.droppables[v.descriptor.id]},getById:f,findById:u,exists:function(v){return!!u(v)},getAllByType:function(v){return Df(t.droppables).filter(function(y){return y.descriptor.type===v})}};function p(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:d,subscribe:n,clean:p}}function h$(){var t=$e(d$,[]);return E.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var Pv=re.createContext(null),Nf=function(){var t=document.body;return t||oe(),t},p$={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},m$=function(e){return"rbd-announcement-"+e};function g$(t){var e=$e(function(){return m$(t)},[t]),n=E.useRef(null);E.useEffect(function(){var l=document.createElement("div");return n.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),we(l.style,p$),Nf().appendChild(l),function(){setTimeout(function(){var f=Nf();f.contains(l)&&f.removeChild(l),l===n.current&&(n.current=null)})}},[e]);var r=be(function(i){var l=n.current;if(l){l.textContent=i;return}},[]);return r}var v$=0,y$={separator:"::"};function Lv(t,e){return e===void 0&&(e=y$),$e(function(){return""+t+e.separator+v$++},[e.separator,t])}function b$(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function x$(t){var e=t.contextId,n=t.text,r=Lv("hidden-text",{separator:"-"}),i=$e(function(){return b$({contextId:e,uniqueId:r})},[r,e]);return E.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",Nf().appendChild(s),function(){var f=Nf();f.contains(s)&&f.removeChild(s)}},[i,n]),i}var dd=re.createContext(null);function ST(t){var e=E.useRef(t);return E.useEffect(function(){e.current=t}),e}function S$(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&oe();var u={abandon:s};return t=u,u}function i(){t||oe(),t=null}function l(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:l}}var w$=9,E$=13,jv=27,wT=32,C$=33,O$=34,T$=35,M$=36,D$=37,A$=38,N$=39,R$=40,$c,k$=($c={},$c[E$]=!0,$c[w$]=!0,$c),ET=function(t){k$[t.keyCode]&&t.preventDefault()},hd=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Ki(e,function(r){return"on"+r in document});return n||t}(),CT=0,Sw=5;function I$(t,e){return Math.abs(e.x-t.x)>=Sw||Math.abs(e.y-t.y)>=Sw}var ww={type:"IDLE"};function B$(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var u=s.button,f=s.clientX,d=s.clientY;if(u===CT){var p={x:f,y:d},m=r();if(m.type==="DRAGGING"){s.preventDefault(),m.actions.move(p);return}m.type!=="PENDING"&&oe();var v=m.point;if(I$(v,p)){s.preventDefault();var y=m.actions.fluidLift(p);i({type:"DRAGGING",actions:y})}}}},{eventName:"mouseup",fn:function(s){var u=r();if(u.type!=="DRAGGING"){e();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var u=r();if(u.type==="PENDING"){e();return}if(s.keyCode===jv){s.preventDefault(),e();return}ET(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var u=r();if(u.type==="IDLE"&&oe(),u.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:hd,fn:e}]}function P$(t){var e=E.useRef(ww),n=E.useRef(Bi),r=$e(function(){return{eventName:"mousedown",fn:function(m){if(!m.defaultPrevented&&m.button===CT&&!(m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)){var v=t.findClosestDraggableId(m);if(v){var y=t.tryGetLock(v,s,{sourceEvent:m});if(y){m.preventDefault();var b={x:m.clientX,y:m.clientY};n.current(),d(y,b)}}}}}},[t]),i=$e(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(m){if(!m.defaultPrevented){var v=t.findClosestDraggableId(m);if(v){var y=t.findOptionsForDraggable(v);y&&(y.shouldRespectForcePress||t.canGetLock(v)&&m.preventDefault())}}}}},[t]),l=be(function(){var m={passive:!1,capture:!0};n.current=Vn(window,[i,r],m)},[i,r]),s=be(function(){var p=e.current;p.type!=="IDLE"&&(e.current=ww,n.current(),l())},[l]),u=be(function(){var p=e.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),f=be(function(){var m={capture:!0,passive:!1},v=B$({cancel:u,completed:s,getPhase:function(){return e.current},setPhase:function(b){e.current=b}});n.current=Vn(window,v,m)},[u,s]),d=be(function(m,v){e.current.type!=="IDLE"&&oe(),e.current={type:"PENDING",point:v,actions:m},f()},[f]);Sn(function(){return l(),function(){n.current()}},[l])}var Pl;function L$(){}var j$=(Pl={},Pl[O$]=!0,Pl[C$]=!0,Pl[M$]=!0,Pl[T$]=!0,Pl);function z$(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(l){if(l.keyCode===jv){l.preventDefault(),n();return}if(l.keyCode===wT){l.preventDefault(),r();return}if(l.keyCode===R$){l.preventDefault(),t.moveDown();return}if(l.keyCode===A$){l.preventDefault(),t.moveUp();return}if(l.keyCode===N$){l.preventDefault(),t.moveRight();return}if(l.keyCode===D$){l.preventDefault(),t.moveLeft();return}if(j$[l.keyCode]){l.preventDefault();return}ET(l)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:hd,fn:n}]}function H$(t){var e=E.useRef(L$),n=$e(function(){return{eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==wT)return;var s=t.findClosestDraggableId(l);if(!s)return;var u=t.tryGetLock(s,p,{sourceEvent:l});if(!u)return;l.preventDefault();var f=!0,d=u.snapLift();e.current();function p(){f||oe(),f=!1,e.current(),r()}e.current=Vn(window,z$(d,p),{capture:!0,passive:!1})}}},[t]),r=be(function(){var l={passive:!1,capture:!0};e.current=Vn(window,[n],l)},[n]);Sn(function(){return r(),function(){e.current()}},[r])}var Em={type:"IDLE"},$$=120,F$=.15;function _$(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===jv&&i.preventDefault(),e()}},{eventName:hd,fn:e}]}function U$(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(l){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var u=l.touches[0],f=u.clientX,d=u.clientY,p={x:f,y:d};l.preventDefault(),s.actions.move(p)}},{eventName:"touchend",fn:function(l){var s=r();if(s.type!=="DRAGGING"){e();return}l.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(l){if(r().type!=="DRAGGING"){e();return}l.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(l){var s=r();s.type==="IDLE"&&oe();var u=l.touches[0];if(u){var f=u.force>=F$;if(f){var d=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){d&&e();return}if(d){if(s.hasMoved){l.preventDefault();return}e();return}l.preventDefault()}}}},{eventName:hd,fn:e}]}function V$(t){var e=E.useRef(Em),n=E.useRef(Bi),r=be(function(){return e.current},[]),i=be(function(y){e.current=y},[]),l=$e(function(){return{eventName:"touchstart",fn:function(y){if(!y.defaultPrevented){var b=t.findClosestDraggableId(y);if(b){var S=t.tryGetLock(b,u,{sourceEvent:y});if(S){var w=y.touches[0],C=w.clientX,T=w.clientY,M={x:C,y:T};n.current(),m(S,M)}}}}}},[t]),s=be(function(){var y={capture:!0,passive:!1};n.current=Vn(window,[l],y)},[l]),u=be(function(){var v=e.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),i(Em),n.current(),s())},[s,i]),f=be(function(){var v=e.current;u(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[u]),d=be(function(){var y={capture:!0,passive:!1},b={cancel:f,completed:u,getPhase:r},S=Vn(window,U$(b),y),w=Vn(window,_$(b),y);n.current=function(){S(),w()}},[f,r,u]),p=be(function(){var y=r();y.type!=="PENDING"&&oe();var b=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:b,hasMoved:!1})},[r,i]),m=be(function(y,b){r().type!=="IDLE"&&oe();var S=setTimeout(p,$$);i({type:"PENDING",point:b,actions:y,longPressTimerId:S}),d()},[d,r,i,p]);Sn(function(){return s(),function(){n.current();var b=r();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),i(Em))}},[r,s,i]),Sn(function(){var y=Vn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return y},[])}var q$={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function OT(t,e){if(e==null)return!1;var n=!!q$[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:OT(t,e.parentElement)}function G$(t,e){var n=e.target;return fd(n)?OT(t,n):!1}var W$=function(t){return Zn(t.getBoundingClientRect()).center};function Y$(t){return t instanceof xT(t).Element}var K$=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Ki(e,function(r){return r in Element.prototype});return n||t}();function TT(t,e){return t==null?null:t[K$](e)?t:TT(t.parentElement,e)}function X$(t,e){return t.closest?t.closest(e):TT(t,e)}function Q$(t){return"["+na.contextId+'="'+t+'"]'}function J$(t,e){var n=e.target;if(!Y$(n))return null;var r=Q$(t),i=X$(n,r);return!i||!fd(i)?null:i}function Z$(t,e){var n=J$(t,e);return n?n.getAttribute(na.draggableId):null}function e6(t,e){var n="["+bg.contextId+'="'+t+'"]',r=_O(document.querySelectorAll(n)),i=Ki(r,function(l){return l.getAttribute(bg.id)===e});return!i||!fd(i)?null:i}function t6(t){t.preventDefault()}function Fc(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function MT(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var l=r.draggable.findById(i);return!(!l||!l.options.isEnabled||!gT(n.getState(),i))}function n6(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,l=t.draggableId,s=t.forceSensorStop,u=t.sourceEvent,f=MT({lockAPI:e,store:r,registry:i,draggableId:l});if(!f)return null;var d=i.draggable.getById(l),p=e6(n,d.descriptor.id);if(!p||u&&!d.options.canDragInteractiveElements&&G$(p,u))return null;var m=e.claim(s||Bi),v="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function b(){return e.isActive(m)}function S(I,z){Fc({expected:I,phase:v,isLockActive:b,shouldWarn:!0})&&r.dispatch(z())}var w=S.bind(null,"DRAGGING");function C(I){function z(){e.release(),v="COMPLETED"}v!=="PRE_DRAG"&&(z(),v!=="PRE_DRAG"&&oe()),r.dispatch(K5(I.liftActionArgs)),v="DRAGGING";function U(L,W){if(W===void 0&&(W={shouldBlockNextClick:!1}),I.cleanup(),W.shouldBlockNextClick){var q=Vn(window,[{eventName:"click",fn:t6,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(q)}z(),r.dispatch(uT({reason:L}))}return we({isActive:function(){return Fc({expected:"DRAGGING",phase:v,isLockActive:b,shouldWarn:!1})},shouldRespectForcePress:y,drop:function(W){return U("DROP",W)},cancel:function(W){return U("CANCEL",W)}},I.actions)}function T(I){var z=Ws(function(L){w(function(){return sT({client:L})})}),U=C({liftActionArgs:{id:l,clientSelection:I,movementMode:"FLUID"},cleanup:function(){return z.cancel()},actions:{move:z}});return we({},U,{move:z})}function M(){var I={moveUp:function(){return w(iH)},moveRight:function(){return w(lH)},moveDown:function(){return w(oH)},moveLeft:function(){return w(aH)}};return C({liftActionArgs:{id:l,clientSelection:W$(p),movementMode:"SNAP"},cleanup:Bi,actions:I})}function R(){var I=Fc({expected:"PRE_DRAG",phase:v,isLockActive:b,shouldWarn:!0});I&&e.release()}var A={isActive:function(){return Fc({expected:"PRE_DRAG",phase:v,isLockActive:b,shouldWarn:!1})},shouldRespectForcePress:y,fluidLift:T,snapLift:M,abort:R};return A}var r6=[P$,H$,V$];function i6(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,l=t.enableDefaultSensors,s=[].concat(l?r6:[],i||[]),u=E.useState(function(){return S$()})[0],f=be(function(T,M){T.isDragging&&!M.isDragging&&u.tryAbandon()},[u]);Sn(function(){var T=n.getState(),M=n.subscribe(function(){var R=n.getState();f(T,R),T=R});return M},[u,n,f]),Sn(function(){return u.tryAbandon},[u.tryAbandon]);for(var d=be(function(C){return MT({lockAPI:u,registry:r,store:n,draggableId:C})},[u,r,n]),p=be(function(C,T,M){return n6({lockAPI:u,registry:r,contextId:e,store:n,draggableId:C,forceSensorStop:T,sourceEvent:M&&M.sourceEvent?M.sourceEvent:null})},[e,u,r,n]),m=be(function(C){return Z$(e,C)},[e]),v=be(function(C){var T=r.draggable.findById(C);return T?T.options:null},[r.draggable]),y=be(function(){u.isClaimed()&&(u.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Mv()))},[u,n]),b=be(u.isClaimed,[u]),S=$e(function(){return{canGetLock:d,tryGetLock:p,findClosestDraggableId:m,findOptionsForDraggable:v,tryReleaseLock:y,isLockClaimed:b}},[d,p,m,v,y,b]),w=0;w<s.length;w++)s[w](S)}var o6=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function xs(t){return t.current||oe(),t.current}function l6(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,l=t.dragHandleUsageInstructions,s=E.useRef(null),u=ST(t),f=be(function(){return o6(u.current)},[u]),d=g$(e),p=x$({contextId:e,text:l}),m=u$(e,i),v=be(function(L){xs(s).dispatch(L)},[]),y=$e(function(){return U1({publishWhileDragging:Q5,updateDroppableScroll:Z5,updateDroppableIsEnabled:eH,updateDroppableIsCombineEnabled:tH,collectionStarting:J5},v)},[v]),b=h$(),S=$e(function(){return FH(b,y)},[b,y]),w=$e(function(){return i$(we({scrollWindow:_H,scrollDroppable:S.scrollDroppable},U1({move:sT},v)))},[S.scrollDroppable,v]),C=f$(e),T=$e(function(){return jH({announce:d,autoScroller:w,dimensionMarshal:S,focusMarshal:C,getResponders:f,styleMarshal:m})},[d,w,S,C,f,m]);s.current=T;var M=be(function(){var L=xs(s),W=L.getState();W.phase!=="IDLE"&&L.dispatch(Mv())},[]),R=be(function(){var L=xs(s).getState();return L.isDragging||L.phase==="DROP_ANIMATING"},[]),A=$e(function(){return{isDragging:R,tryAbort:M}},[R,M]);n(A);var I=be(function(L){return gT(xs(s).getState(),L)},[]),z=be(function(){return Eo(xs(s).getState())},[]),U=$e(function(){return{marshal:S,focus:C,contextId:e,canLift:I,isMovementAllowed:z,dragHandleUsageInstructionsId:p,registry:b}},[e,S,p,C,I,z,b]);return i6({contextId:e,store:T,registry:b,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),E.useEffect(function(){return M},[M]),re.createElement(dd.Provider,{value:U},re.createElement(Gz,{context:Pv,store:T},t.children))}var a6=0;function s6(){return $e(function(){return""+a6++},[])}function zv(t){var e=s6(),n=t.dragHandleUsageInstructions||Jc.dragHandleUsageInstructions;return re.createElement(H3,null,function(r){return re.createElement(l6,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var DT=function(e){return function(n){return e===n}},u6=DT("scroll"),c6=DT("auto"),Ew=function(e,n){return n(e.overflowX)||n(e.overflowY)},f6=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return Ew(r,u6)||Ew(r,c6)},d6=function(){return!1},h6=function t(e){return e==null?null:e===document.body?d6()?e:null:e===document.documentElement?null:f6(e)?e:t(e.parentElement)},xg=function(t){return{x:t.scrollLeft,y:t.scrollTop}},p6=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},m6=function(t){var e=h6(t),n=p6(t);return{closestScrollable:e,isFixedOnPage:n}},g6=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,l=t.direction,s=t.client,u=t.page,f=t.closest,d=function(){if(!f)return null;var y=f.scrollSize,b=f.client,S=hT({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:b,scrollSize:y,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:S,diff:{value:Mt,displacement:Mt}}}}(),p=l==="vertical"?wv:WO,m=ea({page:u,withPlaceholder:null,axis:p,frame:d}),v={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:p,isEnabled:n,client:s,page:u,frame:d,subject:m};return v},v6=function(e,n){var r=jO(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,l=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,u=l+n.scrollWidth,f={top:i,right:u,bottom:s,left:l},d=vv(f,r.border),p=yv({borderBox:d,margin:r.margin,border:r.border,padding:r.padding});return p},y6=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,l=t.direction,s=t.isDropDisabled,u=t.isCombineEnabled,f=t.shouldClipSubject,d=r.closestScrollable,p=v6(e,d),m=Of(p,i),v=function(){if(!d)return null;var b=jO(d),S={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:b,page:Of(b,i),scroll:xg(d),scrollSize:S,shouldClipSubject:f}}(),y=g6({descriptor:n,isEnabled:!s,isCombineEnabled:u,isFixedOnPage:r.isFixedOnPage,direction:l,client:p,page:m,closest:v});return y},b6={passive:!1},x6={passive:!0},Cw=function(t){return t.shouldPublishImmediately?b6:x6};function Rf(t){var e=E.useContext(t);return e||oe(),e}var _c=function(e){return e&&e.env.closestScrollable||null};function S6(t){var e=E.useRef(null),n=Rf(dd),r=Lv("droppable"),i=n.registry,l=n.marshal,s=ST(t),u=$e(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),f=E.useRef(u),d=$e(function(){return Ot(function(R,A){e.current||oe();var I={x:R,y:A};l.updateDroppableScroll(u.id,I)})},[u.id,l]),p=be(function(){var R=e.current;return!R||!R.env.closestScrollable?Mt:xg(R.env.closestScrollable)},[]),m=be(function(){var R=p();d(R.x,R.y)},[p,d]),v=$e(function(){return Ws(m)},[m]),y=be(function(){var R=e.current,A=_c(R);R&&A||oe();var I=R.scrollOptions;if(I.shouldPublishImmediately){m();return}v()},[v,m]),b=be(function(R,A){e.current&&oe();var I=s.current,z=I.getDroppableRef();z||oe();var U=m6(z),L={ref:z,descriptor:u,env:U,scrollOptions:A};e.current=L;var W=y6({ref:z,descriptor:u,env:U,windowScroll:R,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),q=U.closestScrollable;return q&&(q.setAttribute(bw.contextId,n.contextId),q.addEventListener("scroll",y,Cw(L.scrollOptions))),W},[n.contextId,u,y,s]),S=be(function(){var R=e.current,A=_c(R);return R&&A||oe(),xg(A)},[]),w=be(function(){var R=e.current;R||oe();var A=_c(R);e.current=null,A&&(v.cancel(),A.removeAttribute(bw.contextId),A.removeEventListener("scroll",y,Cw(R.scrollOptions)))},[y,v]),C=be(function(R){var A=e.current;A||oe();var I=_c(A);I||oe(),I.scrollTop+=R.y,I.scrollLeft+=R.x},[]),T=$e(function(){return{getDimensionAndWatchScroll:b,getScrollWhileDragging:S,dragStopped:w,scroll:C}},[w,b,S,C]),M=$e(function(){return{uniqueId:r,descriptor:u,callbacks:T}},[T,u,r]);Sn(function(){return f.current=M.descriptor,i.droppable.register(M),function(){e.current&&w(),i.droppable.unregister(M)}},[T,u,w,M,l,i.droppable]),Sn(function(){e.current&&l.updateDroppableIsEnabled(f.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),Sn(function(){e.current&&l.updateDroppableIsCombineEnabled(f.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function Cm(){}var Ow={width:0,height:0,margin:q3},w6=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?Ow:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},E6=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,l=w6({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:l.width,height:l.height,marginTop:l.margin.top,marginRight:l.margin.right,marginBottom:l.margin.bottom,marginLeft:l.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Ns.placeholder:null}};function C6(t){var e=E.useRef(null),n=be(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,l=t.onClose,s=t.contextId,u=E.useState(t.animate==="open"),f=u[0],d=u[1];E.useEffect(function(){return f?r!=="open"?(n(),d(!1),Cm):e.current?Cm:(e.current=setTimeout(function(){e.current=null,d(!1)}),n):Cm},[r,f,n]);var p=be(function(v){v.propertyName==="height"&&(i(),r==="close"&&l())},[r,l,i]),m=E6({isAnimatingOpenOnMount:f,animate:t.animate,placeholder:t.placeholder});return re.createElement(t.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":s,onTransitionEnd:p,ref:t.innerRef})}var O6=re.memo(C6),Hv=re.createContext(null),T6=function(t){TO(e,t);function e(){for(var r,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=t.call.apply(t,[this].concat(l))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,l){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:l.isVisible?{isVisible:!0,data:l.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(re.PureComponent),Tw={dragging:5e3,dropAnimating:4500},M6=function(e,n){return n?Ns.drop(n.duration):e?Ns.snap:Ns.fluid},D6=function(e,n){return e?n?Qs.opacity.drop:Qs.opacity.combining:null},A6=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function N6(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,l=t.dropping,s=!!i,u=A6(t),f=!!l,d=f?vg.drop(r,s):vg.moveTo(r),p={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:M6(u,l),transform:d,opacity:D6(s,f),zIndex:f?Tw.dropAnimating:Tw.dragging,pointerEvents:"none"};return p}function R6(t){return{transform:vg.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function k6(t){return t.type==="DRAGGING"?N6(t):R6(t)}function I6(t,e,n){n===void 0&&(n=Mt);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),l=LO(i,r),s=Of(l,n),u={client:l,tagName:e.tagName.toLowerCase(),display:r.display},f={x:l.marginBox.width,y:l.marginBox.height},d={descriptor:t,placeholder:u,displaceBy:f,client:l,page:s};return d}function B6(t){var e=Lv("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,l=t.canDragInteractiveElements,s=t.shouldRespectForcePress,u=t.isEnabled,f=$e(function(){return{canDragInteractiveElements:l,shouldRespectForcePress:s,isEnabled:u}},[l,u,s]),d=be(function(y){var b=i();return b||oe(),I6(n,b,y)},[n,i]),p=$e(function(){return{uniqueId:e,descriptor:n,options:f,getDimension:d}},[n,d,f,e]),m=E.useRef(p),v=E.useRef(!0);Sn(function(){return r.draggable.register(m.current),function(){return r.draggable.unregister(m.current)}},[r.draggable]),Sn(function(){if(v.current){v.current=!1;return}var y=m.current;m.current=p,r.draggable.update(p,y)},[p,r.draggable])}function P6(t){t.preventDefault()}function L6(t){var e=E.useRef(null),n=be(function(L){e.current=L},[]),r=be(function(){return e.current},[]),i=Rf(dd),l=i.contextId,s=i.dragHandleUsageInstructionsId,u=i.registry,f=Rf(Hv),d=f.type,p=f.droppableId,m=$e(function(){return{id:t.draggableId,index:t.index,type:d,droppableId:p}},[t.draggableId,t.index,d,p]),v=t.children,y=t.draggableId,b=t.isEnabled,S=t.shouldRespectForcePress,w=t.canDragInteractiveElements,C=t.isClone,T=t.mapped,M=t.dropAnimationFinished;if(!C){var R=$e(function(){return{descriptor:m,registry:u,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:S,isEnabled:b}},[m,u,r,w,S,b]);B6(R)}var A=$e(function(){return b?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":y,"data-rbd-drag-handle-context-id":l,draggable:!1,onDragStart:P6}:null},[l,s,y,b]),I=be(function(L){T.type==="DRAGGING"&&T.dropping&&L.propertyName==="transform"&&M()},[M,T]),z=$e(function(){var L=k6(T),W=T.type==="DRAGGING"&&T.dropping?I:null,q={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":l,"data-rbd-draggable-id":y,style:L,onTransitionEnd:W},dragHandleProps:A};return q},[l,A,y,T,I,n]),U=$e(function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}},[m.droppableId,m.id,m.index,m.type]);return v(z,T.snapshot,U)}var AT=function(t,e){return t===e},NT=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},j6=function(e){return e.combine?e.combine.draggableId:null},z6=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function H6(){var t=Ot(function(i,l){return{x:i,y:l}}),e=Ot(function(i,l,s,u,f){return{isDragging:!0,isClone:l,isDropAnimating:!!f,dropAnimation:f,mode:i,draggingOver:s,combineWith:u,combineTargetFor:null}}),n=Ot(function(i,l,s,u,f,d,p){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:d,mode:l,offset:i,dimension:s,forceShouldAnimate:p,snapshot:e(l,u,f,d,null)}}}),r=function(l,s){if(l.isDragging){if(l.critical.draggable.id!==s.draggableId)return null;var u=l.current.client.offset,f=l.dimensions.draggables[s.draggableId],d=xn(l.impact),p=z6(l.impact),m=l.forceShouldAnimate;return n(t(u.x,u.y),l.movementMode,f,s.isClone,d,p,m)}if(l.phase==="DROP_ANIMATING"){var v=l.completed;if(v.result.draggableId!==s.draggableId)return null;var y=s.isClone,b=l.dimensions.draggables[s.draggableId],S=v.result,w=S.mode,C=NT(S),T=j6(S),M=l.dropDuration,R={duration:M,curve:Av.drop,moveTo:l.newHomeClientOffset,opacity:T?Qs.opacity.drop:null,scale:T?Qs.scale.drop:null};return{mapped:{type:"DRAGGING",offset:l.newHomeClientOffset,dimension:b,dropping:R,draggingOver:C,combineWith:T,mode:w,forceShouldAnimate:null,snapshot:e(w,y,C,T,R)}}}return null};return r}function RT(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var $6={mapped:{type:"SECONDARY",offset:Mt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:RT(null)}};function F6(){var t=Ot(function(s,u){return{x:s,y:u}}),e=Ot(RT),n=Ot(function(s,u,f){return u===void 0&&(u=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:u,shouldAnimateDisplacement:f,snapshot:e(u)}}}),r=function(u){return u?n(Mt,u,!0):null},i=function(u,f,d,p){var m=d.displaced.visible[u],v=!!(p.inVirtualList&&p.effected[u]),y=sd(d),b=y&&y.draggableId===u?f:null;if(!m){if(!v)return r(b);if(d.displaced.invisible[u])return null;var S=sa(p.displacedBy.point),w=t(S.x,S.y);return n(w,b,!0)}if(v)return r(b);var C=d.displacedBy.point,T=t(C.x,C.y);return n(T,b,m.shouldAnimate)},l=function(u,f){if(u.isDragging)return u.critical.draggable.id===f.draggableId?null:i(f.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){var d=u.completed;return d.result.draggableId===f.draggableId?null:i(f.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return l}var _6=function(){var e=H6(),n=F6(),r=function(l,s){return e(l,s)||n(l,s)||$6};return r},U6={dropAnimationFinished:cT},V6=BO(_6,U6,null,{context:Pv,pure:!0,areStatePropsEqual:AT})(L6);function kT(t){var e=Rf(Hv),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:re.createElement(V6,t)}function $v(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return re.createElement(kT,we({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function q6(t){var e=E.useContext(dd);e||oe();var n=e.contextId,r=e.isMovementAllowed,i=E.useRef(null),l=E.useRef(null),s=t.children,u=t.droppableId,f=t.type,d=t.mode,p=t.direction,m=t.ignoreContainerClipping,v=t.isDropDisabled,y=t.isCombineEnabled,b=t.snapshot,S=t.useClone,w=t.updateViewportMaxScroll,C=t.getContainerForClone,T=be(function(){return i.current},[]),M=be(function(q){i.current=q},[]);be(function(){return l.current},[]);var R=be(function(q){l.current=q},[]),A=be(function(){r()&&w({maxScroll:mT()})},[r,w]);S6({droppableId:u,type:f,mode:d,direction:p,isDropDisabled:v,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:T});var I=re.createElement(T6,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(q){var ve=q.onClose,Q=q.data,ne=q.animate;return re.createElement(O6,{placeholder:Q,onClose:ve,innerRef:R,animate:ne,contextId:n,onTransitionEnd:A})}),z=$e(function(){return{innerRef:M,placeholder:I,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}},[n,u,I,M]),U=S?S.dragging.draggableId:null,L=$e(function(){return{droppableId:u,type:f,isUsingCloneFor:U}},[u,U,f]);function W(){if(!S)return null;var q=S.dragging,ve=S.render,Q=re.createElement(kT,{draggableId:q.draggableId,index:q.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ne,he){return ve(ne,he,q)});return bE.createPortal(Q,C())}return re.createElement(Hv.Provider,{value:L},s(z,b),W())}var Om=function(e,n){return e===n.droppable.type},Mw=function(e,n){return n.draggables[e.draggable.id]},G6=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=we({},e,{shouldAnimatePlaceholder:!1}),r=Ot(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=Ot(function(s,u,f,d,p,m){var v=p.descriptor.id,y=p.descriptor.droppableId===s;if(y){var b=m?{render:m,dragging:r(p.descriptor)}:null,S={isDraggingOver:f,draggingOverWith:f?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:b}}if(!u)return n;if(!d)return e;var w={isDraggingOver:f,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),l=function(u,f){var d=f.droppableId,p=f.type,m=!f.isDropDisabled,v=f.renderClone;if(u.isDragging){var y=u.critical;if(!Om(p,y))return n;var b=Mw(y,u.dimensions),S=xn(u.impact)===d;return i(d,m,S,S,b,v)}if(u.phase==="DROP_ANIMATING"){var w=u.completed;if(!Om(p,w.critical))return n;var C=Mw(w.critical,u.dimensions);return i(d,m,NT(w.result)===d,xn(w.impact)===d,C,v)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){var T=u.completed;if(!Om(p,T.critical))return n;var M=xn(T.impact)===d,R=!!(T.impact.at&&T.impact.at.type==="COMBINE"),A=T.critical.droppable.id===d;return M?R?e:n:A?e:n}return n};return l},W6={updateViewportMaxScroll:rH};function Y6(){return document.body||oe(),document.body}var K6={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Y6},pd=BO(G6,W6,null,{context:Pv,pure:!0,areStatePropsEqual:AT})(q6);pd.defaultProps=K6;const X6=({content:t,onChange:e,onDelete:n,index:r,provided:i})=>{const l=Ij({extensions:[Lz],content:t,onUpdate:({editor:s})=>e(r,s.getHTML())});return D.jsxs("div",{ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,className:"mb-4 p-2 border border-gray-200 rounded-lg bg-white flex items-center",children:[D.jsx("span",{className:"mr-2 text-gray-500 cursor-move",children:""}),D.jsxs("div",{className:"flex-1",children:[D.jsxs("div",{className:"flex gap-2 mb-2 justify-between",children:[D.jsxs("div",{className:"flex flex-row gap-1",children:[D.jsx("button",{type:"button",onClick:()=>l==null?void 0:l.chain().focus().toggleBold().run(),className:`px-2 py-1 rounded ${l!=null&&l.isActive("bold")?"bg-blue-500 text-white":"bg-gray-200"}`,children:"B"}),D.jsx("button",{type:"button",onClick:()=>l==null?void 0:l.chain().focus().toggleItalic().run(),className:`px-2 py-1 rounded ${l!=null&&l.isActive("italic")?"bg-blue-500 text-white":"bg-gray-200"}`,children:"I"})]}),D.jsx("button",{type:"button",onClick:()=>n(r),className:"rounded bg-red-200 text-red px-3 py-0 text-sm hover:bg-red-600 hover:text-white",children:"x"})]}),D.jsx(Ej,{editor:l,className:"border rounded-lg p-2"})]})]})},Q6=()=>{const[t,e]=E.useState(""),[n,r]=E.useState([{id:"para-1",content:""}]),[i,l]=E.useState([]),[s,u]=E.useState(""),[f,d]=E.useState(null),[p,m]=E.useState(null),v=qi(),y=A=>{const I=A.target.files[0];if(I){m(I);const z=URL.createObjectURL(I);d(z)}},b=()=>{r([...n,{id:`para-${n.length+1}`,content:""}])},S=A=>{n.length!==1&&r(n.filter((I,z)=>z!==A))},w=A=>{if(!A.destination)return;const I=Array.from(n),[z]=I.splice(A.source.index,1);I.splice(A.destination.index,0,z),r(I)},C=(A,I)=>{const z=[...n];z[A].content=I,r(z)},T=A=>{A.preventDefault(),s.trim()&&!i.includes(s.trim())&&(l([...i,s.trim()]),u(""))},M=A=>{l(i.filter(I=>I!==A))},R=async A=>{A.preventDefault();const I={title:t||"Untitled Blog Post",paragraphs:n.map(U=>({id:U.id,content:U.content||"<p></p>"})),tags:i.length>0?i:[],image:p,createdAt:new Date().toISOString()},z=await y2(I);console.log(z),e(""),r([{id:"para-1",content:""}]),l([]),u(""),d(null),m(null),v("/manage-blogs")};return D.jsxs("div",{className:"main-content  p-4",children:[D.jsxs("h1",{className:"text-lg my-2 text-blue-600",children:["Dashboard / ",D.jsx("span",{className:"text-gray-900",children:"Post New Blog"})," "]}),D.jsx("div",{className:"container mx-auto p-4",children:D.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[D.jsx("div",{className:"lg:w-1/2 space-y-6 overflow-y-auto max-h-screen",children:D.jsxs("form",{onSubmit:R,className:"space-y-6",children:[D.jsx("div",{className:"flex items-center justify-center w-full",children:D.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-36 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-white",children:[D.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[D.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:D.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),D.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[D.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),D.jsx("p",{className:"text-xs text-gray-500",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),D.jsx("input",{id:"dropzone-file",onChange:y,type:"file",accept:"image/*",className:"hidden"})]})}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900",children:"Blog Title"}),D.jsx("input",{type:"text",id:"title",value:t,onChange:A=>e(A.target.value),required:!0,className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your blog title"})]}),D.jsxs("div",{children:[D.jsxs("div",{className:"flex flex-row justify-between mb-2",children:[D.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Blog Content"}),D.jsx("button",{type:"button",onClick:b,className:"bg-blue-600 text-white px-4 py-1 rounded-lg hover:bg-blue-800",children:"Add Paragraph"})]}),D.jsx(zv,{onDragEnd:w,children:D.jsx(pd,{droppableId:"paragraphs",children:A=>D.jsxs("div",{...A.droppableProps,ref:A.innerRef,children:[n.map((I,z)=>D.jsx($v,{draggableId:I.id,index:z,children:U=>D.jsx(X6,{content:I.content,onChange:C,onDelete:S,index:z,provided:U})},I.id)),A.placeholder]})})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Tags"}),D.jsxs("div",{className:"flex items-center mt-1",children:[D.jsx("input",{type:"text",value:s,onChange:A=>u(A.target.value),className:"block w-full p-2.5 border border-gray-300 rounded-lg text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Add a tag"}),D.jsx("button",{type:"button",onClick:T,className:"ml-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-800",children:"Add"})]}),D.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:i.map((A,I)=>D.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded flex items-center",children:[A,D.jsx("button",{type:"button",onClick:()=>M(A),className:"ml-1 text-red-600 hover:text-red-800",children:""})]},I))})]}),D.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2.5 px-5 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300",children:"Create Blog Post"})]})}),D.jsxs("div",{className:"lg:w-1/2 bg-gray-50 p-6 rounded-lg shadow-md",children:[f?D.jsx("img",{src:f,alt:"Blog Cover",className:"w-full max-h-64 object-cover rounded-lg mb-6 shadow-md"}):D.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-lg mb-6 flex items-center justify-center text-gray-500",children:"No image uploaded"}),D.jsx("h1",{className:"text-3xl font-bold mb-4",children:t||"Your Blog Title"}),D.jsx("div",{className:"prose max-w-none",children:n.map((A,I)=>D.jsx("div",{dangerouslySetInnerHTML:{__html:A.content||"<p>Start typing your paragraph...</p>"},className:"mb-4"},I))}),i.length>0&&D.jsxs("div",{className:"mt-6",children:[D.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Tags:"}),D.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:i.map((A,I)=>D.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded",children:A},I))})]})]})]})})]})};async function J6(){try{const t=await fetch(`${Jr}/faqs/`);if(!t.ok)throw new Error("Failed to fetch FAQs");return await t.json()}catch(t){return console.error("Error fetching FAQs:",t),[]}}async function Z6(t){try{const e=await fetch(`${Jr}/faqs/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create FAQ");return await e.json()}catch(e){return console.error("Error creating FAQ:",e),null}}async function e4(t){try{if(!(await fetch(`${Jr}/faqs/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete FAQ");return{success:!0,id:t}}catch(e){return console.error("Error deleting FAQ:",e),{success:!1,error:e.message}}}const IT=typeof document<"u"?re.useLayoutEffect:()=>{};function t4(t){const e=E.useRef(null);return IT(()=>{e.current=t},[t]),E.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const uu=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Ro=t=>t&&"window"in t&&t.window===t?t:uu(t).defaultView||window;function n4(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function r4(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function BT(t){let e=null;return()=>(e==null&&(e=t()),e)}const i4=BT(function(){return r4(/^Mac/i)}),o4=BT(function(){return n4(/Android/i)});function l4(t){return t.mozInputSource===0&&t.isTrusted?!0:o4()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class a4{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function PT(t){let e=E.useRef({isFocused:!1,observer:null});IT(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=t4(r=>{t==null||t(r)});return E.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,l=s=>{e.current.isFocused=!1,i.disabled&&n(new a4("blur",s)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",l,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function s4(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const l=E.useCallback(f=>{if(f.target===f.currentTarget)return r&&r(f),i&&i(!1),!0},[r,i]),s=PT(l),u=E.useCallback(f=>{const d=uu(f.target);f.target===f.currentTarget&&d.activeElement===f.target&&(n&&n(f),i&&i(!0),s(f))},[i,n,s]);return{focusProps:{onFocus:!e&&(n||i||r)?u:void 0,onBlur:!e&&(r||i)?l:void 0}}}let cu=null,Sg=new Set,Rs=new Map,Go=!1,wg=!1;const u4={Tab:!0,Escape:!0};function Fv(t,e){for(let n of Sg)n(t,e)}function c4(t){return!(t.metaKey||!i4()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function kf(t){Go=!0,c4(t)&&(cu="keyboard",Fv("keyboard",t))}function Fn(t){cu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Go=!0,Fv("pointer",t))}function LT(t){l4(t)&&(Go=!0,cu="virtual")}function jT(t){t.target===window||t.target===document||(!Go&&!wg&&(cu="virtual",Fv("virtual",t)),Go=!1,wg=!1)}function zT(){Go=!1,wg=!0}function Eg(t){if(typeof window>"u"||Rs.get(Ro(t)))return;const e=Ro(t),n=uu(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Go=!0,r.apply(this,arguments)},n.addEventListener("keydown",kf,!0),n.addEventListener("keyup",kf,!0),n.addEventListener("click",LT,!0),e.addEventListener("focus",jT,!0),e.addEventListener("blur",zT,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Fn,!0),n.addEventListener("pointermove",Fn,!0),n.addEventListener("pointerup",Fn,!0)):(n.addEventListener("mousedown",Fn,!0),n.addEventListener("mousemove",Fn,!0),n.addEventListener("mouseup",Fn,!0)),e.addEventListener("beforeunload",()=>{HT(t)},{once:!0}),Rs.set(e,{focus:r})}const HT=(t,e)=>{const n=Ro(t),r=uu(t);e&&r.removeEventListener("DOMContentLoaded",e),Rs.has(n)&&(n.HTMLElement.prototype.focus=Rs.get(n).focus,r.removeEventListener("keydown",kf,!0),r.removeEventListener("keyup",kf,!0),r.removeEventListener("click",LT,!0),n.removeEventListener("focus",jT,!0),n.removeEventListener("blur",zT,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Fn,!0),r.removeEventListener("pointermove",Fn,!0),r.removeEventListener("pointerup",Fn,!0)):(r.removeEventListener("mousedown",Fn,!0),r.removeEventListener("mousemove",Fn,!0),r.removeEventListener("mouseup",Fn,!0)),Rs.delete(n))};function f4(t){const e=uu(t);let n;return e.readyState!=="loading"?Eg(t):(n=()=>{Eg(t)},e.addEventListener("DOMContentLoaded",n)),()=>HT(t,n)}typeof document<"u"&&f4();function $T(){return cu!=="pointer"}const d4=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function h4(t,e,n){var r;const i=typeof window<"u"?Ro(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Ro(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Ro(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?Ro(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!d4.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof l||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof u&&!u4[n.key])}function p4(t,e,n){Eg(),E.useEffect(()=>{let r=(i,l)=>{h4(!!(n!=null&&n.isTextInput),i,l)&&t($T())};return Sg.add(r),()=>{Sg.delete(r)}},e)}function m4(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,l=E.useRef({isFocusWithin:!1}),s=E.useCallback(d=>{l.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(l.current.isFocusWithin=!1,n&&n(d),i&&i(!1))},[n,i,l]),u=PT(s),f=E.useCallback(d=>{!l.current.isFocusWithin&&document.activeElement===d.target&&(r&&r(d),i&&i(!0),l.current.isFocusWithin=!0,u(d))},[r,i,u]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let If=!1,Tm=0;function Cg(){If=!0,setTimeout(()=>{If=!1},50)}function Dw(t){t.pointerType==="touch"&&Cg()}function g4(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Dw):document.addEventListener("touchend",Cg),Tm++,()=>{Tm--,!(Tm>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Dw):document.removeEventListener("touchend",Cg))}}function _v(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[l,s]=E.useState(!1),u=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(g4,[]);let{hoverProps:f,triggerHoverEnd:d}=E.useMemo(()=>{let p=(y,b)=>{if(u.pointerType=b,i||b==="touch"||u.isHovered||!y.currentTarget.contains(y.target))return;u.isHovered=!0;let S=y.currentTarget;u.target=S,e&&e({type:"hoverstart",target:S,pointerType:b}),n&&n(!0),s(!0)},m=(y,b)=>{if(u.pointerType="",u.target=null,b==="touch"||!u.isHovered)return;u.isHovered=!1;let S=y.currentTarget;r&&r({type:"hoverend",target:S,pointerType:b}),n&&n(!1),s(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=y=>{If&&y.pointerType==="mouse"||p(y,y.pointerType)},v.onPointerLeave=y=>{!i&&y.currentTarget.contains(y.target)&&m(y,y.pointerType)}):(v.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=y=>{!u.ignoreEmulatedMouseEvents&&!If&&p(y,"mouse"),u.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=y=>{!i&&y.currentTarget.contains(y.target)&&m(y,"mouse")}),{hoverProps:v,triggerHoverEnd:m}},[e,n,r,i,u]);return E.useEffect(()=>{i&&d({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:f,isHovered:l}}function Uv(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=E.useRef({isFocused:!1,isFocusVisible:e||$T()}),[l,s]=E.useState(!1),[u,f]=E.useState(()=>i.current.isFocused&&i.current.isFocusVisible),d=E.useCallback(()=>f(i.current.isFocused&&i.current.isFocusVisible),[]),p=E.useCallback(y=>{i.current.isFocused=y,s(y),d()},[d]);p4(y=>{i.current.isFocusVisible=y,d()},[],{isTextInput:n});let{focusProps:m}=s4({isDisabled:r,onFocusChange:p}),{focusWithinProps:v}=m4({isDisabled:!r,onFocusWithinChange:p});return{isFocused:l,isFocusVisible:u,focusProps:r?v:m}}var v4=Object.defineProperty,y4=(t,e,n)=>e in t?v4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mm=(t,e,n)=>(y4(t,typeof e!="symbol"?e+"":e,n),n);let b4=class{constructor(){Mm(this,"current",this.detect()),Mm(this,"handoffState","pending"),Mm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ho=new b4;function fa(t){return Ho.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function FT(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function nr(){let t=[],e={addEventListener(n,r,i,l){return n.addEventListener(r,i,l),e.add(()=>n.removeEventListener(r,i,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return FT(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=nr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Qo(){let[t]=E.useState(nr);return E.useEffect(()=>()=>t.dispose(),[t]),t}let Qe=(t,e)=>{Ho.isServer?E.useEffect(t,e):E.useLayoutEffect(t,e)};function Xi(t){let e=E.useRef(t);return Qe(()=>{e.current=t},[t]),e}let ce=function(t){let e=Xi(t);return re.useCallback((...n)=>e.current(...n),[e])};function x4(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function S4(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function _T({disabled:t=!1}={}){let e=E.useRef(null),[n,r]=E.useState(!1),i=Qo(),l=ce(()=>{e.current=null,r(!1),i.dispose()}),s=ce(u=>{if(i.dispose(),e.current===null){e.current=u.currentTarget,r(!0);{let f=fa(u.currentTarget);i.addEventListener(f,"pointerup",l,!1),i.addEventListener(f,"pointermove",d=>{if(e.current){let p=x4(d);r(S4(p,e.current.getBoundingClientRect()))}},!1),i.addEventListener(f,"pointercancel",l,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:s,onPointerUp:l,onClick:l}}}let w4=E.createContext(void 0);function md(){return E.useContext(w4)}function Aw(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Kt(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Kt),r}var Js=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Js||{}),E4=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(E4||{});function Ut(){let t=O4();return E.useCallback(e=>C4({mergeRefs:t,...e}),[t])}function C4({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:l=!0,name:s,mergeRefs:u}){u=u??T4;let f=UT(e,t);if(l)return Uc(f,n,r,s,u);let d=i??0;if(d&2){let{static:p=!1,...m}=f;if(p)return Uc(m,n,r,s,u)}if(d&1){let{unmount:p=!0,...m}=f;return Kt(p?0:1,{0(){return null},1(){return Uc({...m,hidden:!0,style:{display:"none"}},n,r,s,u)}})}return Uc(f,n,r,s,u)}function Uc(t,e={},n,r,i){let{as:l=n,children:s,refName:u="ref",...f}=Dm(t,["unmount","static"]),d=t.ref!==void 0?{[u]:t.ref}:{},p=typeof s=="function"?s(e):s;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let m={};if(e){let v=!1,y=[];for(let[b,S]of Object.entries(e))typeof S=="boolean"&&(v=!0),S===!0&&y.push(b.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(v){m["data-headlessui-state"]=y.join(" ");for(let b of y)m[`data-${b}`]=""}}if(l===E.Fragment&&(Object.keys(Co(f)).length>0||Object.keys(Co(m)).length>0))if(!E.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(Co(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Co(f)).concat(Object.keys(Co(m))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=p.props,y=v==null?void 0:v.className,b=typeof y=="function"?(...C)=>Aw(y(...C),f.className):Aw(y,f.className),S=b?{className:b}:{},w=UT(p.props,Co(Dm(f,["ref"])));for(let C in m)C in w&&delete m[C];return E.cloneElement(p,Object.assign({},w,m,d,{ref:i(M4(p),d.ref)},S))}return E.createElement(l,Object.assign({},Dm(f,["ref"]),l!==E.Fragment&&d,l!==E.Fragment&&m),p)}function O4(){let t=E.useRef([]),e=E.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function T4(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function UT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var l;return(l=i==null?void 0:i.preventDefault)==null?void 0:l.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...l){let s=n[r];for(let u of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...l)}}});return e}function fu(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let l=n[r];for(let s of l)s==null||s(...i)}});return e}function Vt(t){var e;return Object.assign(E.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Co(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Dm(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function M4(t){return re.version.split(".")[0]>="19"?t.props.ref:t.ref}function VT(t,e,n){let[r,i]=E.useState(n),l=t!==void 0,s=E.useRef(l),u=E.useRef(!1),f=E.useRef(!1);return l&&!s.current&&!u.current?(u.current=!0,s.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&s.current&&!f.current&&(f.current=!0,s.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?t:r,ce(d=>(l||i(d),e==null?void 0:e(d)))]}function qT(t){let[e]=E.useState(t);return e}function GT(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))YT(n,WT(e,r),i);return n}function WT(t,e){return t?t+"["+e+"]":e}function YT(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())YT(t,WT(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):GT(n,e,t)}function D4(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let i of r.elements)if(i!==t&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let A4="span";var Vv=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Vv||{});function N4(t,e){var n;let{features:r=1,...i}=t,l={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ut()({ourProps:l,theirProps:i,slot:{},defaultTag:A4,name:"Hidden"})}let KT=Vt(N4),R4=E.createContext(null);function k4({children:t}){let e=E.useContext(R4);if(!e)return re.createElement(re.Fragment,null,t);let{target:n}=e;return n?at.createPortal(re.createElement(re.Fragment,null,t),n):null}function XT({data:t,form:e,disabled:n,onReset:r,overrides:i}){let[l,s]=E.useState(null),u=Qo();return E.useEffect(()=>{if(r&&l)return u.addEventListener(l,"reset",r)},[l,e,r]),re.createElement(k4,null,re.createElement(I4,{setForm:s,formId:e}),GT(t).map(([f,d])=>re.createElement(KT,{features:Vv.Hidden,...Co({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:f,value:d,...i})})))}function I4({setForm:t,formId:e}){return E.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:re.createElement(KT,{features:Vv.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let B4=E.createContext(void 0);function qv(){return E.useContext(B4)}function QT(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&P4(n)?!1:r}function P4(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let JT=Symbol();function L4(t,e=!0){return Object.assign(t,{[JT]:e})}function sn(...t){let e=E.useRef(t);E.useEffect(()=>{e.current=t},[t]);let n=ce(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[JT]))?void 0:n}let Gv=E.createContext(null);Gv.displayName="DescriptionContext";function ZT(){let t=E.useContext(Gv);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ZT),e}return t}function eM(){var t,e;return(e=(t=E.useContext(Gv))==null?void 0:t.value)!=null?e:void 0}let j4="p";function z4(t,e){let n=E.useId(),r=md(),{id:i=`headlessui-description-${n}`,...l}=t,s=ZT(),u=sn(e);Qe(()=>s.register(i),[i,s.register]);let f=r||!1,d=E.useMemo(()=>({...s.slot,disabled:f}),[s.slot,f]),p={ref:u,...s.props,id:i};return Ut()({ourProps:p,theirProps:l,slot:d,defaultTag:j4,name:s.name||"Description"})}let H4=Vt(z4);Object.assign(H4,{});var Ve=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ve||{});let gd=E.createContext(null);gd.displayName="LabelContext";function tM(){let t=E.useContext(gd);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tM),e}return t}function du(t){var e,n,r;let i=(n=(e=E.useContext(gd))==null?void 0:e.value)!=null?n:void 0;return((r=t==null?void 0:t.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function nM({inherit:t=!1}={}){let e=du(),[n,r]=E.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,E.useMemo(()=>function(l){let s=ce(f=>(r(d=>[...d,f]),()=>r(d=>{let p=d.slice(),m=p.indexOf(f);return m!==-1&&p.splice(m,1),p}))),u=E.useMemo(()=>({register:s,slot:l.slot,name:l.name,props:l.props,value:l.value}),[s,l.slot,l.name,l.props,l.value]);return re.createElement(gd.Provider,{value:u},l.children)},[r])]}let $4="label";function F4(t,e){var n;let r=E.useId(),i=tM(),l=qv(),s=md(),{id:u=`headlessui-label-${r}`,htmlFor:f=l??((n=i.props)==null?void 0:n.htmlFor),passive:d=!1,...p}=t,m=sn(e);Qe(()=>i.register(u),[u,i.register]);let v=ce(w=>{let C=w.currentTarget;if(C instanceof HTMLLabelElement&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),C instanceof HTMLLabelElement){let T=document.getElementById(C.htmlFor);if(T){let M=T.getAttribute("disabled");if(M==="true"||M==="")return;let R=T.getAttribute("aria-disabled");if(R==="true"||R==="")return;(T instanceof HTMLInputElement&&(T.type==="radio"||T.type==="checkbox")||T.role==="radio"||T.role==="checkbox"||T.role==="switch")&&T.click(),T.focus({preventScroll:!0})}}}),y=s||!1,b=E.useMemo(()=>({...i.slot,disabled:y}),[i.slot,y]),S={ref:m,...i.props,id:u,htmlFor:f,onClick:v};return d&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in p&&delete p.onClick),Ut()({ourProps:S,theirProps:p,slot:b,defaultTag:f?$4:"div",name:i.name||"Label"})}let _4=Vt(F4),rM=Object.assign(_4,{});function Ll(t,e,n){let r=n.initialDeps??[],i;return()=>{var l,s,u,f;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const p=t();if(!(p.length!==r.length||p.some((y,b)=>r[b]!==y)))return i;r=p;let v;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(v=Date.now()),i=e(...p),n.key&&((u=n.debug)!=null&&u.call(n))){const y=Math.round((Date.now()-d)*100)/100,b=Math.round((Date.now()-v)*100)/100,S=b/16,w=(C,T)=>{for(C=String(C);C.length<T;)C=" "+C;return C};console.info(`%c ${w(b,5)} /${w(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(f=n==null?void 0:n.onChange)==null||f.call(n,i),i}}function Am(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const U4=(t,e)=>Math.abs(t-e)<1,V4=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},q4=t=>t,G4=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},W4=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=s=>{const{width:u,height:f}=s;e({width:Math.round(u),height:Math.round(f)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const l=new r.ResizeObserver(s=>{const u=()=>{const f=s[0];if(f!=null&&f.borderBoxSize){const d=f.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(n.getBoundingClientRect())};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()});return l.observe(n,{box:"border-box"}),()=>{l.unobserve(n)}},Nw={passive:!0},Rw=typeof window>"u"?!0:"onscrollend"in window,Y4=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const l=t.options.useScrollendEvent&&Rw?()=>{}:V4(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=p=>()=>{const{horizontal:m,isRtl:v}=t.options;i=m?n.scrollLeft*(v&&-1||1):n.scrollTop,l(),e(i,p)},u=s(!0),f=s(!1);f(),n.addEventListener("scroll",u,Nw);const d=t.options.useScrollendEvent&&Rw;return d&&n.addEventListener("scrollend",f,Nw),()=>{n.removeEventListener("scroll",u),d&&n.removeEventListener("scrollend",f)}},K4=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[n.options.horizontal?"width":"height"])},X4=(t,{adjustments:e=0,behavior:n},r)=>{var i,l;const s=t+e;(l=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||l.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Q4{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(l=>{const s=()=>{this._measureElement(l.target,l)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var l;return(l=r())==null?void 0:l.observe(i,{box:"border-box"})},unobserve:i=>{var l;return(l=r())==null?void 0:l.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:q4,rangeExtractor:G4,onChange:()=>{},measureElement:K4,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Ll(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,l=new Map;for(let s=r-1;s>=0;s--){const u=n[s];if(i.has(u.lane))continue;const f=l.get(u.lane);if(f==null||u.end>f.end?l.set(u.lane,u):u.end<f.end&&i.set(u.lane,!0),i.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((s,u)=>s.end===u.end?s.index-u.index:s.end-u.end)[0]:void 0},this.getMeasurementOptions=Ll(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,l,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:l,enabled:s}),{key:!1}),this.getMeasurements=Ll(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:l,enabled:s},u)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const f=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,f);for(let p=f;p<n;p++){const m=l(p),v=this.options.lanes===1?d[p-1]:this.getFurthestMeasurement(d,p),y=v?v.end+this.options.gap:r+i,b=u.get(m),S=typeof b=="number"?b:this.options.estimateSize(p),w=y+S,C=v?v.lane:p%this.options.lanes;d[p]={index:p,start:y,size:S,end:w,key:m,lane:C}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ll(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,l)=>this.range=n.length>0&&r>0?J4({measurements:n,outerSize:r,scrollOffset:i,lanes:l}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ll(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,l,s)=>l===null||s===null?[]:n({startIndex:l,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),l=this.measurementsCache[i];if(!l)return;const s=l.key,u=this.elementsCache.get(s);u!==n&&(u&&this.observer.unobserve(u),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const l=this.itemSizeCache.get(i.key)??i.size,s=r-l;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Ll(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let l=0,s=n.length;l<s;l++){const u=n[l],f=r[u];i.push(f)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Am(r[iM(0,r.length-1,i=>Am(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const l=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+l?"end":"start"),r==="center"?n+=(i-l)/2:r==="end"&&(n-=l);const u=this.options.horizontal?"scrollWidth":"scrollHeight",d=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[u]:this.scrollElement[u]:0)-l;return Math.max(Math.min(d,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const l=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+l-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const u=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(u,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const l=this.getOffsetForIndex(n,r);if(!l)return;const[s,u]=l;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[d]=Am(this.getOffsetForIndex(n,u));U4(d,this.getScrollOffset())||this.scrollToIndex(n,{align:u,behavior:i})}else this.scrollToIndex(n,{align:u,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(l=>l.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const iM=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,l=n(i);if(l<r)t=i+1;else if(l>r)e=i-1;else return i}return t>0?t-1:0};function J4({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1;let s=iM(0,i,f=>t[f].start,n),u=s;for(;u<i&&t[u].end<n+e;)u++;return r>1&&(s=Math.max(0,s-s%r),u=Math.min(i,u+(r-1-u%r))),{startIndex:s,endIndex:u}}const kw=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Z4(t){const e=E.useReducer(()=>({}),{})[1],n={...t,onChange:(i,l)=>{var s;l?at.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,l)}},[r]=E.useState(()=>new Q4(n));return r.setOptions(n),kw(()=>r._didMount(),[]),kw(()=>r._willUpdate()),r}function eF(t){return Z4({observeElementRect:W4,observeElementOffset:Y4,scrollToFn:X4,...t})}function tF(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function oM(t=tF){return E.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return(e==null?void 0:e[r])===(n==null?void 0:n[r])}return t(e,n)},[t])}function nF(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function Og(t,e=!1){let[n,r]=E.useReducer(()=>({}),{}),i=E.useMemo(()=>nF(t),[t,n]);return Qe(()=>{if(!t)return;let l=new ResizeObserver(r);return l.observe(t),()=>{l.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let rF=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function lM(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...l){let s=e[i].call(n,...l);s&&(n=s,r.forEach(u=>u()))}}}function aM(t){return E.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let iF=new rF(()=>lM(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Wv(t,e){let n=iF.get(e),r=E.useId(),i=aM(n);if(Qe(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let l=i.indexOf(r),s=i.length;return l===-1&&(l=s,s+=1),l===s-1}let Tg=new Map,ks=new Map;function Iw(t){var e;let n=(e=ks.get(t))!=null?e:0;return ks.set(t,n+1),n!==0?()=>Bw(t):(Tg.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Bw(t))}function Bw(t){var e;let n=(e=ks.get(t))!=null?e:1;if(n===1?ks.delete(t):ks.set(t,n-1),n!==1)return;let r=Tg.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Tg.delete(t))}function sM(t,{allowed:e,disallowed:n}={}){let r=Wv(t,"inert-others");Qe(()=>{var i,l;if(!r)return;let s=nr();for(let f of(i=n==null?void 0:n())!=null?i:[])f&&s.add(Iw(f));let u=(l=e==null?void 0:e())!=null?l:[];for(let f of u){if(!f)continue;let d=fa(f);if(!d)continue;let p=f.parentElement;for(;p&&p!==d.body;){for(let m of p.children)u.some(v=>m.contains(v))||s.add(Iw(m));p=p.parentElement}}return s.dispose},[r,e,n])}function uM(t,e,n){let r=Xi(i=>{let l=i.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});E.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let l=nr();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),l.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),l.add(()=>s.disconnect())}return()=>l.dispose()},[e,r,t])}let Bf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),oF=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Mg=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Mg||{}),lF=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(lF||{}),aF=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(aF||{});function cM(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Bf)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function sF(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(oF)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Yv=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Yv||{});function fM(t,e=0){var n;return t===((n=fa(t))==null?void 0:n.body)?!1:Kt(e,{0(){return t.matches(Bf)},1(){let r=t;for(;r!==null;){if(r.matches(Bf))return!0;r=r.parentElement}return!1}})}var uF=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(uF||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let cF=["textarea","input"].join(",");function fF(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,cF))!=null?n:!1}function Kv(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),l=e(r);if(i===null||l===null)return 0;let s=i.compareDocumentPosition(l);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function dF(t,e){return hF(cM(),e,{relativeTo:t})}function hF(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let l=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?n?Kv(t):t:e&64?sF(t):cM(t);i.length>0&&s.length>1&&(s=s.filter(y=>!i.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===y:b===y))),r=r??l.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(r))-1;if(e&4)return Math.max(0,s.indexOf(r))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},p=0,m=s.length,v;do{if(p>=m||p+m<=0)return 0;let y=f+p;if(e&16)y=(y+m)%m;else{if(y<0)return 3;if(y>=m)return 1}v=s[y],v==null||v.focus(d),p+=u}while(v!==l.activeElement);return e&6&&fF(v)&&v.select(),2}function dM(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pF(){return/Android/gi.test(window.navigator.userAgent)}function hM(){return dM()||pF()}function Ss(t,e,n,r){let i=Xi(n);E.useEffect(()=>{if(!t)return;function l(s){i.current(s)}return document.addEventListener(e,l,r),()=>document.removeEventListener(e,l,r)},[t,e,r])}function mF(t,e,n,r){let i=Xi(n);E.useEffect(()=>{if(!t)return;function l(s){i.current(s)}return window.addEventListener(e,l,r),()=>window.removeEventListener(e,l,r)},[t,e,r])}const Pw=30;function pM(t,e,n){let r=Wv(t,"outside-click"),i=Xi(n),l=E.useCallback(function(f,d){if(f.defaultPrevented)return;let p=d(f);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let m=function v(y){return typeof y=="function"?v(y()):Array.isArray(y)||y instanceof Set?y:[y]}(e);for(let v of m)if(v!==null&&(v.contains(p)||f.composed&&f.composedPath().includes(v)))return;return!fM(p,Yv.Loose)&&p.tabIndex!==-1&&f.preventDefault(),i.current(f,p)},[i,e]),s=E.useRef(null);Ss(r,"pointerdown",f=>{var d,p;s.current=((p=(d=f.composedPath)==null?void 0:d.call(f))==null?void 0:p[0])||f.target},!0),Ss(r,"mousedown",f=>{var d,p;s.current=((p=(d=f.composedPath)==null?void 0:d.call(f))==null?void 0:p[0])||f.target},!0),Ss(r,"click",f=>{hM()||s.current&&(l(f,()=>s.current),s.current=null)},!0);let u=E.useRef({x:0,y:0});Ss(r,"touchstart",f=>{u.current.x=f.touches[0].clientX,u.current.y=f.touches[0].clientY},!0),Ss(r,"touchend",f=>{let d={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(d.x-u.current.x)>=Pw||Math.abs(d.y-u.current.y)>=Pw))return l(f,()=>f.target instanceof HTMLElement?f.target:null)},!0),mF(r,"blur",f=>l(f,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function hu(...t){return E.useMemo(()=>fa(...t),[...t])}function gF(t,e,n,r){let i=Xi(n);E.useEffect(()=>{t=t??window;function l(s){i.current(s)}return t.addEventListener(e,l,r),()=>t.removeEventListener(e,l,r)},[t,e,r])}function mM(t){let e=E.useRef({value:"",selectionStart:null,selectionEnd:null});return gF(t,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(e.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),ce(()=>{if(document.activeElement!==t&&t instanceof HTMLInputElement&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==e.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:r}=e.current;n!==null&&r!==null&&t.setSelectionRange(n,r)}e.current={value:"",selectionStart:null,selectionEnd:null}}})}function gM(t,e){return E.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function vF(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,t-i);n.style(r,"paddingRight",`${l}px`)}}}function yF(){return dM()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(l=>l()).some(l=>l.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let u=nr();u.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let l=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;e.addEventListener(t,"click",u=>{if(u.target instanceof HTMLElement)try{let f=u.target.closest("a");if(!f)return;let{hash:d}=new URL(f.href),p=t.querySelector(d);p&&!r(p)&&(s=p)}catch{}},!0),e.addEventListener(t,"touchstart",u=>{if(u.target instanceof HTMLElement)if(r(u.target)){let f=u.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(u.target,"touchAction","none")}),e.addEventListener(t,"touchmove",u=>{if(u.target instanceof HTMLElement){if(u.target.tagName==="INPUT")return;if(r(u.target)){let f=u.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let f=(u=window.scrollY)!=null?u:window.pageYOffset;l!==f&&window.scrollTo(0,l),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function bF(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function xF(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ko=lM(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:nr(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:xF(n)},i=[yF(),vF(),bF()];i.forEach(({before:l})=>l==null?void 0:l(r)),i.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ko.subscribe(()=>{let t=ko.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ko.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ko.dispatch("TEARDOWN",n)}});function SF(t,e,n=()=>({containers:[]})){let r=aM(ko),i=e?r.get(e):void 0,l=i?i.count>0:!1;return Qe(()=>{if(!(!e||!t))return ko.dispatch("PUSH",e,n),()=>ko.dispatch("POP",e,n)},[t,e]),l}function vM(t,e,n=()=>[document.body]){let r=Wv(t,"scroll-lock");SF(r,e,i=>{var l;return{containers:[...(l=i.containers)!=null?l:[],n]}})}function Lw(t){return[t.screenX,t.screenY]}function yM(){let t=E.useRef([-1,-1]);return{wasMoved(e){let n=Lw(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Lw(e)}}}function wF(t=0){let[e,n]=E.useState(t),r=E.useCallback(f=>n(f),[e]),i=E.useCallback(f=>n(d=>d|f),[e]),l=E.useCallback(f=>(e&f)===f,[e]),s=E.useCallback(f=>n(d=>d&~f),[n]),u=E.useCallback(f=>n(d=>d^f),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:l,removeFlag:s,toggleFlag:u}}var EF={},jw,zw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((jw=process==null?void 0:EF)==null?void 0:jw.NODE_ENV)==="test"&&typeof((zw=Element==null?void 0:Element.prototype)==null?void 0:zw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var CF=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(CF||{});function bM(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function xM(t,e,n,r){let[i,l]=E.useState(n),{hasFlag:s,addFlag:u,removeFlag:f}=wF(t&&i?3:0),d=E.useRef(!1),p=E.useRef(!1),m=Qo();return Qe(()=>{var v;if(t){if(n&&l(!0),!e){n&&u(3);return}return(v=void 0)==null||v.call(r,n),OF(e,{inFlight:d,prepare(){p.current?p.current=!1:p.current=d.current,d.current=!0,!p.current&&(n?(u(3),f(4)):(u(4),f(2)))},run(){p.current?n?(f(3),u(4)):(f(4),u(3)):n?f(1):u(1)},done(){var y;p.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(d.current=!1,f(7),n||l(!1),(y=void 0)==null||y.call(r,n))}})}},[t,n,e,m]),t?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function OF(t,{prepare:e,run:n,done:r,inFlight:i}){let l=nr();return MF(t,{prepare:e,inFlight:i}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(TF(t,r))})}),l.dispose}function TF(t,e){var n,r;let i=nr();if(!t)return i.dispose;let l=!1;i.add(()=>{l=!0});let s=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(u=>u instanceof CSSTransition))!=null?r:[];return s.length===0?(e(),i.dispose):(Promise.allSettled(s.map(u=>u.finished)).then(()=>{l||e()}),i.dispose)}function MF(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function DF(t,{container:e,accept:n,walk:r}){let i=E.useRef(n),l=E.useRef(r);E.useEffect(()=>{i.current=n,l.current=r},[n,r]),Qe(()=>{if(!e||!t)return;let s=fa(e);if(!s)return;let u=i.current,f=l.current,d=Object.assign(m=>u(m),{acceptNode:u}),p=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;p.nextNode();)f(p.currentNode)},[e,t,i,l])}function Hw(t,e){let n=E.useRef([]),r=ce(t);E.useEffect(()=>{let i=[...n.current];for(let[l,s]of e.entries())if(n.current[l]!==s){let u=r(e,i);return n.current=e,u}},[r,...e])}function vd(){return typeof window<"u"}function da(t){return SM(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wr(t){var e;return(e=(SM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SM(t){return vd()?t instanceof Node||t instanceof wn(t).Node:!1}function Yt(t){return vd()?t instanceof Element||t instanceof wn(t).Element:!1}function xr(t){return vd()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function $w(t){return!vd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}function pu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function AF(t){return["table","td","th"].includes(da(t))}function yd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Xv(t){const e=Qv(),n=Yt(t)?rr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NF(t){let e=_i(t);for(;xr(e)&&!ra(e);){if(Xv(e))return e;if(yd(e))return null;e=_i(e)}return null}function Qv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ra(t){return["html","body","#document"].includes(da(t))}function rr(t){return wn(t).getComputedStyle(t)}function bd(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(da(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$w(t)&&t.host||wr(t);return $w(e)?e.host:e}function wM(t){const e=_i(t);return ra(e)?t.ownerDocument?t.ownerDocument.body:t.body:xr(e)&&pu(e)?e:wM(e)}function Zs(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wM(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),s=wn(i);if(l){const u=Dg(s);return e.concat(s,s.visualViewport||[],pu(i)?i:[],u&&n?Zs(u):[])}return e.concat(i,Zs(i,[],n))}function Dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RF(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Wo=Math.min,$t=Math.max,eu=Math.round,Vc=Math.floor,vr=t=>({x:t,y:t}),kF={left:"right",right:"left",bottom:"top",top:"bottom"},IF={start:"end",end:"start"};function Fw(t,e,n){return $t(t,Wo(e,n))}function ha(t,e){return typeof t=="function"?t(e):t}function Ui(t){return t.split("-")[0]}function mu(t){return t.split("-")[1]}function EM(t){return t==="x"?"y":"x"}function CM(t){return t==="y"?"height":"width"}function Yo(t){return["top","bottom"].includes(Ui(t))?"y":"x"}function OM(t){return EM(Yo(t))}function BF(t,e,n){n===void 0&&(n=!1);const r=mu(t),i=OM(t),l=CM(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(s=Pf(s)),[s,Pf(s)]}function PF(t){const e=Pf(t);return[Ag(t),e,Ag(e)]}function Ag(t){return t.replace(/start|end/g,e=>IF[e])}function LF(t,e,n){const r=["left","right"],i=["right","left"],l=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?l:s;default:return[]}}function jF(t,e,n,r){const i=mu(t);let l=LF(Ui(t),n==="start",r);return i&&(l=l.map(s=>s+"-"+i),e&&(l=l.concat(l.map(Ag)))),l}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>kF[e])}function zF(t){return{top:0,right:0,bottom:0,left:0,...t}}function HF(t){return typeof t!="number"?zF(t):{top:t,right:t,bottom:t,left:t}}function Lf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function _w(t,e,n){let{reference:r,floating:i}=t;const l=Yo(e),s=OM(e),u=CM(s),f=Ui(e),d=l==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let y;switch(f){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(mu(e)){case"start":y[s]-=v*(n&&d?-1:1);break;case"end":y[s]+=v*(n&&d?-1:1);break}return y}const $F=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:s}=n,u=l.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let d=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=_w(d,r,f),v=r,y={},b=0;for(let S=0;S<u.length;S++){const{name:w,fn:C}=u[S],{x:T,y:M,data:R,reset:A}=await C({x:p,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:d,platform:s,elements:{reference:t,floating:e}});p=T??p,m=M??m,y={...y,[w]:{...y[w],...R}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(v=A.placement),A.rects&&(d=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:p,y:m}=_w(d,v,f)),S=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:y}};async function xd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:l,rects:s,elements:u,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=ha(e,t),b=HF(y),w=u[v?m==="floating"?"reference":"floating":m],C=Lf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(w)))==null||n?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:d,rootBoundary:p,strategy:f})),T=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),R=await(l.isElement==null?void 0:l.isElement(M))?await(l.getScale==null?void 0:l.getScale(M))||{x:1,y:1}:{x:1,y:1},A=Lf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:M,strategy:f}):T);return{top:(C.top-A.top+b.top)/R.y,bottom:(A.bottom-C.bottom+b.bottom)/R.y,left:(C.left-A.left+b.left)/R.x,right:(A.right-C.right+b.right)/R.x}}const FF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:l,rects:s,initialPlacement:u,platform:f,elements:d}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:S=!0,...w}=ha(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const C=Ui(i),T=Yo(u),M=Ui(u)===u,R=await(f.isRTL==null?void 0:f.isRTL(d.floating)),A=v||(M||!S?[Pf(u)]:PF(u)),I=b!=="none";!v&&I&&A.push(...jF(u,S,b,R));const z=[u,...A],U=await xd(e,w),L=[];let W=((r=l.flip)==null?void 0:r.overflows)||[];if(p&&L.push(U[C]),m){const ne=BF(i,s,R);L.push(U[ne[0]],U[ne[1]])}if(W=[...W,{placement:i,overflows:L}],!L.every(ne=>ne<=0)){var q,ve;const ne=(((q=l.flip)==null?void 0:q.index)||0)+1,he=z[ne];if(he)return{data:{index:ne,overflows:W},reset:{placement:he}};let Y=(ve=W.filter(le=>le.overflows[0]<=0).sort((le,ee)=>le.overflows[1]-ee.overflows[1])[0])==null?void 0:ve.placement;if(!Y)switch(y){case"bestFit":{var Q;const le=(Q=W.filter(ee=>{if(I){const ue=Yo(ee.placement);return ue===T||ue==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ue=>ue>0).reduce((ue,B)=>ue+B,0)]).sort((ee,ue)=>ee[1]-ue[1])[0])==null?void 0:Q[0];le&&(Y=le);break}case"initialPlacement":Y=u;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};async function _F(t,e){const{placement:n,platform:r,elements:i}=t,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ui(n),u=mu(n),f=Yo(n)==="y",d=["left","top"].includes(s)?-1:1,p=l&&f?-1:1,m=ha(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof b=="number"&&(y=u==="end"?b*-1:b),f?{x:y*p,y:v*d}:{x:v*d,y:y*p}}const UF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:l,placement:s,middlewareData:u}=e,f=await _F(e,t);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:s}}}}},VF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:l=!0,crossAxis:s=!1,limiter:u={fn:w=>{let{x:C,y:T}=w;return{x:C,y:T}}},...f}=ha(t,e),d={x:n,y:r},p=await xd(e,f),m=Yo(Ui(i)),v=EM(m);let y=d[v],b=d[m];if(l){const w=v==="y"?"top":"left",C=v==="y"?"bottom":"right",T=y+p[w],M=y-p[C];y=Fw(T,y,M)}if(s){const w=m==="y"?"top":"left",C=m==="y"?"bottom":"right",T=b+p[w],M=b-p[C];b=Fw(T,b,M)}const S=u.fn({...e,[v]:y,[m]:b});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:l,[m]:s}}}}}},qF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:l,platform:s,elements:u}=e,{apply:f=()=>{},...d}=ha(t,e),p=await xd(e,d),m=Ui(i),v=mu(i),y=Yo(i)==="y",{width:b,height:S}=l.floating;let w,C;m==="top"||m==="bottom"?(w=m,C=v===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(C=m,w=v==="end"?"top":"bottom");const T=S-p.top-p.bottom,M=b-p.left-p.right,R=Wo(S-p[w],T),A=Wo(b-p[C],M),I=!e.middlewareData.shift;let z=R,U=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=T),I&&!v){const W=$t(p.left,0),q=$t(p.right,0),ve=$t(p.top,0),Q=$t(p.bottom,0);y?U=b-2*(W!==0||q!==0?W+q:$t(p.left,p.right)):z=S-2*(ve!==0||Q!==0?ve+Q:$t(p.top,p.bottom))}await f({...e,availableWidth:U,availableHeight:z});const L=await s.getDimensions(u.floating);return b!==L.width||S!==L.height?{reset:{rects:!0}}:{}}}};function TM(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=xr(t),l=i?t.offsetWidth:n,s=i?t.offsetHeight:r,u=eu(n)!==l||eu(r)!==s;return u&&(n=l,r=s),{width:n,height:r,$:u}}function Jv(t){return Yt(t)?t:t.contextElement}function Gl(t){const e=Jv(t);if(!xr(e))return vr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:l}=TM(e);let s=(l?eu(n.width):n.width)/r,u=(l?eu(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const GF=vr(0);function MM(t){const e=wn(t);return!Qv()||!e.visualViewport?GF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function Ko(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Jv(t);let s=vr(1);e&&(r?Yt(r)&&(s=Gl(r)):s=Gl(t));const u=WF(l,n,r)?MM(l):vr(0);let f=(i.left+u.x)/s.x,d=(i.top+u.y)/s.y,p=i.width/s.x,m=i.height/s.y;if(l){const v=wn(l),y=r&&Yt(r)?wn(r):r;let b=v,S=Dg(b);for(;S&&r&&y!==b;){const w=Gl(S),C=S.getBoundingClientRect(),T=rr(S),M=C.left+(S.clientLeft+parseFloat(T.paddingLeft))*w.x,R=C.top+(S.clientTop+parseFloat(T.paddingTop))*w.y;f*=w.x,d*=w.y,p*=w.x,m*=w.y,f+=M,d+=R,b=wn(S),S=Dg(b)}}return Lf({width:p,height:m,x:f,y:d})}function Zv(t,e){const n=bd(t).scrollLeft;return e?e.left+n:Ko(wr(t)).left+n}function DM(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Zv(t,r)),l=r.top+e.scrollTop;return{x:i,y:l}}function YF(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const l=i==="fixed",s=wr(r),u=e?yd(e.floating):!1;if(r===s||u&&l)return n;let f={scrollLeft:0,scrollTop:0},d=vr(1);const p=vr(0),m=xr(r);if((m||!m&&!l)&&((da(r)!=="body"||pu(s))&&(f=bd(r)),xr(r))){const y=Ko(r);d=Gl(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const v=s&&!m&&!l?DM(s,f,!0):vr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+p.x+v.x,y:n.y*d.y-f.scrollTop*d.y+p.y+v.y}}function KF(t){return Array.from(t.getClientRects())}function XF(t){const e=wr(t),n=bd(t),r=t.ownerDocument.body,i=$t(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=$t(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Zv(t);const u=-n.scrollTop;return rr(r).direction==="rtl"&&(s+=$t(e.clientWidth,r.clientWidth)-i),{width:i,height:l,x:s,y:u}}function QF(t,e){const n=wn(t),r=wr(t),i=n.visualViewport;let l=r.clientWidth,s=r.clientHeight,u=0,f=0;if(i){l=i.width,s=i.height;const d=Qv();(!d||d&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:l,height:s,x:u,y:f}}function JF(t,e){const n=Ko(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,l=xr(t)?Gl(t):vr(1),s=t.clientWidth*l.x,u=t.clientHeight*l.y,f=i*l.x,d=r*l.y;return{width:s,height:u,x:f,y:d}}function Uw(t,e,n){let r;if(e==="viewport")r=QF(t,n);else if(e==="document")r=XF(wr(t));else if(Yt(e))r=JF(e,n);else{const i=MM(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Lf(r)}function AM(t,e){const n=_i(t);return n===e||!Yt(n)||ra(n)?!1:rr(n).position==="fixed"||AM(n,e)}function ZF(t,e){const n=e.get(t);if(n)return n;let r=Zs(t,[],!1).filter(u=>Yt(u)&&da(u)!=="body"),i=null;const l=rr(t).position==="fixed";let s=l?_i(t):t;for(;Yt(s)&&!ra(s);){const u=rr(s),f=Xv(s);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pu(s)&&!f&&AM(t,s))?r=r.filter(p=>p!==s):i=u,s=_i(s)}return e.set(t,r),r}function e_(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?yd(e)?[]:ZF(e,this._c):[].concat(n),r],u=s[0],f=s.reduce((d,p)=>{const m=Uw(e,p,i);return d.top=$t(m.top,d.top),d.right=Wo(m.right,d.right),d.bottom=Wo(m.bottom,d.bottom),d.left=$t(m.left,d.left),d},Uw(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function t_(t){const{width:e,height:n}=TM(t);return{width:e,height:n}}function n_(t,e,n){const r=xr(e),i=wr(e),l=n==="fixed",s=Ko(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const f=vr(0);if(r||!r&&!l)if((da(e)!=="body"||pu(i))&&(u=bd(e)),r){const v=Ko(e,!0,l,e);f.x=v.x+e.clientLeft,f.y=v.y+e.clientTop}else i&&(f.x=Zv(i));const d=i&&!r&&!l?DM(i,u):vr(0),p=s.left+u.scrollLeft-f.x-d.x,m=s.top+u.scrollTop-f.y-d.y;return{x:p,y:m,width:s.width,height:s.height}}function Nm(t){return rr(t).position==="static"}function Vw(t,e){if(!xr(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return wr(t)===n&&(n=n.ownerDocument.body),n}function NM(t,e){const n=wn(t);if(yd(t))return n;if(!xr(t)){let i=_i(t);for(;i&&!ra(i);){if(Yt(i)&&!Nm(i))return i;i=_i(i)}return n}let r=Vw(t,e);for(;r&&AF(r)&&Nm(r);)r=Vw(r,e);return r&&ra(r)&&Nm(r)&&!Xv(r)?n:r||NF(t)||n}const r_=async function(t){const e=this.getOffsetParent||NM,n=this.getDimensions,r=await n(t.floating);return{reference:n_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function i_(t){return rr(t).direction==="rtl"}const o_={convertOffsetParentRelativeRectToViewportRelativeRect:YF,getDocumentElement:wr,getClippingRect:e_,getOffsetParent:NM,getElementRects:r_,getClientRects:KF,getDimensions:t_,getScale:Gl,isElement:Yt,isRTL:i_};function RM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l_(t,e){let n=null,r;const i=wr(t);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const d=t.getBoundingClientRect(),{left:p,top:m,width:v,height:y}=d;if(u||e(),!v||!y)return;const b=Vc(m),S=Vc(i.clientWidth-(p+v)),w=Vc(i.clientHeight-(m+y)),C=Vc(p),M={rootMargin:-b+"px "+-S+"px "+-w+"px "+-C+"px",threshold:$t(0,Wo(1,f))||1};let R=!0;function A(I){const z=I[0].intersectionRatio;if(z!==f){if(!R)return s();z?s(!1,z):r=setTimeout(()=>{s(!1,1e-7)},1e3)}z===1&&!RM(d,t.getBoundingClientRect())&&s(),R=!1}try{n=new IntersectionObserver(A,{...M,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,M)}n.observe(t)}return s(!0),l}function a_(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=Jv(t),p=i||l?[...d?Zs(d):[],...Zs(e)]:[];p.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),l&&C.addEventListener("resize",n)});const m=d&&u?l_(d,n):null;let v=-1,y=null;s&&(y=new ResizeObserver(C=>{let[T]=C;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=y)==null||M.observe(e)})),n()}),d&&!f&&y.observe(d),y.observe(e));let b,S=f?Ko(t):null;f&&w();function w(){const C=Ko(t);S&&!RM(S,C)&&n(),S=C,b=requestAnimationFrame(w)}return n(),()=>{var C;p.forEach(T=>{i&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),m==null||m(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(b)}}const Rm=xd,s_=UF,u_=VF,c_=FF,f_=qF,d_=(t,e,n)=>{const r=new Map,i={platform:o_,...n},l={...i.platform,_c:r};return $F(t,e,{...i,platform:l})};var Zc=typeof document<"u"?E.useLayoutEffect:E.useEffect;function jf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&t.$$typeof)&&!jf(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function kM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qw(t,e){const n=kM(t);return Math.round(e*n)/n}function km(t){const e=E.useRef(t);return Zc(()=>{e.current=t}),e}function h_(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:s}={},transform:u=!0,whileElementsMounted:f,open:d}=t,[p,m]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=E.useState(r);jf(v,r)||y(r);const[b,S]=E.useState(null),[w,C]=E.useState(null),T=E.useCallback(ee=>{ee!==I.current&&(I.current=ee,S(ee))},[]),M=E.useCallback(ee=>{ee!==z.current&&(z.current=ee,C(ee))},[]),R=l||b,A=s||w,I=E.useRef(null),z=E.useRef(null),U=E.useRef(p),L=f!=null,W=km(f),q=km(i),ve=km(d),Q=E.useCallback(()=>{if(!I.current||!z.current)return;const ee={placement:e,strategy:n,middleware:v};q.current&&(ee.platform=q.current),d_(I.current,z.current,ee).then(ue=>{const B={...ue,isPositioned:ve.current!==!1};ne.current&&!jf(U.current,B)&&(U.current=B,at.flushSync(()=>{m(B)}))})},[v,e,n,q,ve]);Zc(()=>{d===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,m(ee=>({...ee,isPositioned:!1})))},[d]);const ne=E.useRef(!1);Zc(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Zc(()=>{if(R&&(I.current=R),A&&(z.current=A),R&&A){if(W.current)return W.current(R,A,Q);Q()}},[R,A,Q,W,L]);const he=E.useMemo(()=>({reference:I,floating:z,setReference:T,setFloating:M}),[T,M]),Y=E.useMemo(()=>({reference:R,floating:A}),[R,A]),le=E.useMemo(()=>{const ee={position:n,left:0,top:0};if(!Y.floating)return ee;const ue=qw(Y.floating,p.x),B=qw(Y.floating,p.y);return u?{...ee,transform:"translate("+ue+"px, "+B+"px)",...kM(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:B}},[n,u,Y.floating,p.x,p.y]);return E.useMemo(()=>({...p,update:Q,refs:he,elements:Y,floatingStyles:le}),[p,Q,he,Y,le])}const IM=(t,e)=>({...s_(t),options:[t,e]}),p_=(t,e)=>({...u_(t),options:[t,e]}),m_=(t,e)=>({...c_(t),options:[t,e]}),g_=(t,e)=>({...f_(t),options:[t,e]}),BM={...jm},v_=BM.useInsertionEffect,y_=v_||(t=>t());function PM(t){const e=E.useRef(()=>{});return y_(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Ng=typeof document<"u"?E.useLayoutEffect:E.useEffect;let Gw=!1,b_=0;const Ww=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+b_++;function x_(){const[t,e]=E.useState(()=>Gw?Ww():void 0);return Ng(()=>{t==null&&e(Ww())},[]),E.useEffect(()=>{Gw=!0},[]),t}const S_=BM.useId,w_=S_||x_;function E_(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const C_=E.createContext(null),O_=E.createContext(null),T_=()=>{var t;return((t=E.useContext(C_))==null?void 0:t.id)||null},M_=()=>E.useContext(O_),D_="data-floating-ui-focusable";function A_(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=w_(),l=E.useRef({}),[s]=E.useState(()=>E_()),u=T_()!=null,[f,d]=E.useState(r.reference),p=PM((y,b,S)=>{l.current.openEvent=y?b:void 0,s.emit("openchange",{open:y,event:b,reason:S,nested:u}),n==null||n(y,b,S)}),m=E.useMemo(()=>({setPositionReference:d}),[]),v=E.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return E.useMemo(()=>({dataRef:l,open:e,onOpenChange:p,elements:v,events:s,floatingId:i,refs:m}),[e,p,v,s,i,m])}function N_(t){t===void 0&&(t={});const{nodeId:e}=t,n=A_({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[l,s]=E.useState(null),[u,f]=E.useState(null),p=(i==null?void 0:i.domReference)||l,m=E.useRef(null),v=M_();Ng(()=>{p&&(m.current=p)},[p]);const y=h_({...t,elements:{...i,...u&&{reference:u}}}),b=E.useCallback(M=>{const R=Yt(M)?{getBoundingClientRect:()=>M.getBoundingClientRect(),contextElement:M}:M;f(R),y.refs.setReference(R)},[y.refs]),S=E.useCallback(M=>{(Yt(M)||M===null)&&(m.current=M,s(M)),(Yt(y.refs.reference.current)||y.refs.reference.current===null||M!==null&&!Yt(M))&&y.refs.setReference(M)},[y.refs]),w=E.useMemo(()=>({...y.refs,setReference:S,setPositionReference:b,domReference:m}),[y.refs,S,b]),C=E.useMemo(()=>({...y.elements,domReference:p}),[y.elements,p]),T=E.useMemo(()=>({...y,...r,refs:w,elements:C,nodeId:e}),[y,w,C,e,r]);return Ng(()=>{r.dataRef.current.floatingContext=T;const M=v==null?void 0:v.nodesRef.current.find(R=>R.id===e);M&&(M.context=T)}),E.useMemo(()=>({...y,context:T,refs:w,elements:C}),[y,w,C,T])}const Yw="active",Kw="selected";function Im(t,e,n){const r=new Map,i=n==="item";let l=t;if(i&&t){const{[Yw]:s,[Kw]:u,...f}=t;l=f}return{...n==="floating"&&{tabIndex:-1,[D_]:""},...l,...e.map(s=>{const u=s?s[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((s,u)=>(u&&Object.entries(u).forEach(f=>{let[d,p]=f;if(!(i&&[Yw,Kw].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof p=="function"){var m;(m=r.get(d))==null||m.push(p),s[d]=function(){for(var v,y=arguments.length,b=new Array(y),S=0;S<y;S++)b[S]=arguments[S];return(v=r.get(d))==null?void 0:v.map(w=>w(...b)).find(w=>w!==void 0)}}}else s[d]=p}),s),{})}}function R_(t){t===void 0&&(t=[]);const e=t.map(u=>u==null?void 0:u.reference),n=t.map(u=>u==null?void 0:u.floating),r=t.map(u=>u==null?void 0:u.item),i=E.useCallback(u=>Im(u,t,"reference"),e),l=E.useCallback(u=>Im(u,t,"floating"),n),s=E.useCallback(u=>Im(u,t,"item"),r);return E.useMemo(()=>({getReferenceProps:i,getFloatingProps:l,getItemProps:s}),[i,l,s])}function Xw(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const k_=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:l=0,index:s=0,minItemsVisible:u=4,referenceOverflowThreshold:f=0,scrollRef:d,...p}=ha(t,e),{rects:m,elements:{floating:v}}=e,y=n.current[s],b=(d==null?void 0:d.current)||v,S=v.clientTop||b.clientTop,w=v.clientTop!==0,C=b.clientTop!==0,T=v===b;if(!y)return{};const M={...e,...await IM(-y.offsetTop-v.clientTop-m.reference.height/2-y.offsetHeight/2-l).fn(e)},R=await Rm(Xw(M,b.scrollHeight+S+v.clientTop),p),A=await Rm(M,{...p,elementContext:"reference"}),I=$t(0,R.top),z=M.y+I,W=(b.scrollHeight>b.clientHeight?q=>q:eu)($t(0,b.scrollHeight+(w&&T||C?S*2:0)-I-$t(0,R.bottom)));if(b.style.maxHeight=W+"px",b.scrollTop=I,i){const q=b.offsetHeight<y.offsetHeight*Wo(u,n.current.length)-1||A.top>=-f||A.bottom>=-f;at.flushSync(()=>i(q))}return r&&(r.current=await Rm(Xw({...M,y:z},b.offsetHeight+S+v.clientTop),p)),{y:z}}});function I_(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:l,scrollRef:s,onChange:u}=e,f=PM(u),d=E.useRef(!1),p=E.useRef(null),m=E.useRef(null);E.useEffect(()=>{if(!i)return;function y(S){if(S.ctrlKey||!b||l.current==null)return;const w=S.deltaY,C=l.current.top>=-.5,T=l.current.bottom>=-.5,M=b.scrollHeight-b.clientHeight,R=w<0?-1:1,A=w<0?"max":"min";b.scrollHeight<=b.clientHeight||(!C&&w>0||!T&&w<0?(S.preventDefault(),at.flushSync(()=>{f(I=>I+Math[A](w,M*R))})):/firefox/i.test(RF())&&(b.scrollTop+=w))}const b=(s==null?void 0:s.current)||r.floating;if(n&&b)return b.addEventListener("wheel",y),requestAnimationFrame(()=>{p.current=b.scrollTop,l.current!=null&&(m.current={...l.current})}),()=>{p.current=null,m.current=null,b.removeEventListener("wheel",y)}},[i,n,r.floating,l,s,f]);const v=E.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const y=(s==null?void 0:s.current)||r.floating;if(!(!l.current||!y||!d.current)){if(p.current!==null){const b=y.scrollTop-p.current;(l.current.bottom<-.5&&b<-1||l.current.top<-.5&&b>1)&&at.flushSync(()=>f(S=>S+b))}requestAnimationFrame(()=>{p.current=y.scrollTop})}}}),[r.floating,f,l,s]);return E.useMemo(()=>i?{floating:v}:{},[i,v])}let pa=E.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});pa.displayName="FloatingContext";let ey=E.createContext(null);ey.displayName="PlacementContext";function LM(t){return E.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function jM(){return E.useContext(pa).setReference}function B_(){return E.useContext(pa).getReferenceProps}function zM(){let{getFloatingProps:t,slot:e}=E.useContext(pa);return E.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function HM(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=E.useContext(ey),n=E.useMemo(()=>t,[JSON.stringify(t,(i,l)=>{var s;return(s=l==null?void 0:l.outerHTML)!=null?s:l})]);Qe(()=>{e==null||e(n??null)},[e,n]);let r=E.useContext(pa);return E.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let Qw=4;function $M({children:t,enabled:e=!0}){let[n,r]=E.useState(null),[i,l]=E.useState(0),s=E.useRef(null),[u,f]=E.useState(null);P_(u);let d=e&&n!==null&&u!==null,{to:p="bottom",gap:m=0,offset:v=0,padding:y=0,inner:b}=L_(n,u),[S,w="center"]=p.split(" ");Qe(()=>{d&&l(0)},[d]);let{refs:C,floatingStyles:T,context:M}=N_({open:d,placement:S==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${S}`:`${S}-${w}`,strategy:"absolute",transform:!1,middleware:[IM({mainAxis:S==="selection"?0:m,crossAxis:v}),p_({padding:y}),S!=="selection"&&m_({padding:y}),S==="selection"&&b?k_({...b,padding:y,overflowRef:s,offset:i,minItemsVisible:Qw,referenceOverflowThreshold:y,onFallbackChange(q){var ve,Q;if(!q)return;let ne=M.elements.floating;if(!ne)return;let he=parseFloat(getComputedStyle(ne).scrollPaddingBottom)||0,Y=Math.min(Qw,ne.childElementCount),le=0,ee=0;for(let ue of(Q=(ve=M.elements.floating)==null?void 0:ve.childNodes)!=null?Q:[])if(ue instanceof HTMLElement){let B=ue.offsetTop,K=B+ue.clientHeight+he,ie=ne.scrollTop,_=ie+ne.clientHeight;if(B>=ie&&K<=_)Y--;else{ee=Math.max(0,Math.min(K,_)-Math.max(B,ie)),le=ue.clientHeight;break}}Y>=1&&l(ue=>{let B=le*Y-ee+he;return ue>=B?ue:B})}}):null,g_({padding:y,apply({availableWidth:q,availableHeight:ve,elements:Q}){Object.assign(Q.floating.style,{overflow:"auto",maxWidth:`${q}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${ve}px)`})}})].filter(Boolean),whileElementsMounted:a_}),[R=S,A=w]=M.placement.split("-");S==="selection"&&(R="selection");let I=E.useMemo(()=>({anchor:[R,A].filter(Boolean).join(" ")}),[R,A]),z=I_(M,{overflowRef:s,onChange:l}),{getReferenceProps:U,getFloatingProps:L}=R_([z]),W=ce(q=>{f(q),C.setFloating(q)});return E.createElement(ey.Provider,{value:r},E.createElement(pa.Provider,{value:{setFloating:W,setReference:C.setReference,styles:T,getReferenceProps:U,getFloatingProps:L,slot:I}},t))}function P_(t){Qe(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function L_(t,e){var n,r,i;let l=Bm((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),s=Bm((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),u=Bm((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:l,offset:s,padding:u}}function Bm(t,e,n=void 0){let r=Qo(),i=ce((f,d)=>{if(f==null)return[n,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!d)return[n,null];let p=Jw(f,d);return[p,m=>{let v=FM(f);{let y=v.map(b=>window.getComputedStyle(d).getPropertyValue(b));r.requestAnimationFrame(function b(){r.nextFrame(b);let S=!1;for(let[C,T]of v.entries()){let M=window.getComputedStyle(d).getPropertyValue(T);if(y[C]!==M){y[C]=M,S=!0;break}}if(!S)return;let w=Jw(f,d);p!==w&&(m(w),p=w)})}return r.dispose}]}return[n,null]}),l=E.useMemo(()=>i(t,e)[0],[t,e]),[s=l,u]=E.useState();return Qe(()=>{let[f,d]=i(t,e);if(u(f),!!d)return d(u)},[t,e]),s}function FM(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...FM(i)]:[r]}return[]}function Jw(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function j_({children:t,freeze:e}){let n=zf(e,t);return re.createElement(re.Fragment,null,n)}function zf(t,e){let[n,r]=E.useState(e);return!t&&n!==e&&r(e),t?n:e}let ty=E.createContext(null);ty.displayName="OpenClosedContext";var Xr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Xr||{});function _M(){return E.useContext(ty)}function UM({value:t,children:e}){return re.createElement(ty.Provider,{value:t},e)}function z_(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Mo=[];z_(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Mo[0]===e.target)return;let n=e.target;n=n.closest(Bf),Mo.unshift(n??e.target),Mo=Mo.filter(r=>r!=null&&r.isConnected),Mo.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function H_(t){throw new Error("Unexpected object: "+t)}var ke=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ke||{});function Is(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let l=0;l<n.length;++l)if(!e.resolveDisabled(n[l],l,n))return l;return r}case 1:{i===-1&&(i=n.length);for(let l=i-1;l>=0;--l)if(!e.resolveDisabled(n[l],l,n))return l;return r}case 2:{for(let l=i+1;l<n.length;++l)if(!e.resolveDisabled(n[l],l,n))return l;return r}case 3:{for(let l=n.length-1;l>=0;--l)if(!e.resolveDisabled(n[l],l,n))return l;return r}case 4:{for(let l=0;l<n.length;++l)if(e.resolveId(n[l],l,n)===t.id)return l;return r}case 5:return null;default:H_(t)}}var ny=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(ny||{});function $_(t){let e=ce(t),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,FT(()=>{n.current&&e()})}),[e])}function F_(){let t=typeof document>"u";return"useSyncExternalStore"in jm?(e=>e.useSyncExternalStore)(jm)(()=>()=>{},()=>!1,()=>!t):!1}function __(){let t=F_(),[e,n]=E.useState(Ho.isHandoffComplete);return e&&Ho.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{e!==!0&&n(!0)},[e]),E.useEffect(()=>Ho.handoff(),[]),t?!1:e}let U_=E.createContext(!1);function V_(){return E.useContext(U_)}function q_(t){let e=V_(),n=E.useContext(qM),r=hu(t),[i,l]=E.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Ho.isServer)return null;let u=r==null?void 0:r.getElementById("headlessui-portal-root");if(u)return u;if(r===null)return null;let f=r.createElement("div");return f.setAttribute("id","headlessui-portal-root"),r.body.appendChild(f)});return E.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),E.useEffect(()=>{e||n!==null&&l(n.current)},[n,l,e]),i}let VM=E.Fragment,G_=Vt(function(t,e){let n=t,r=E.useRef(null),i=sn(L4(m=>{r.current=m}),e),l=hu(r),s=q_(r),[u]=E.useState(()=>{var m;return Ho.isServer?null:(m=l==null?void 0:l.createElement("div"))!=null?m:null}),f=E.useContext(X_),d=__();Qe(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),Qe(()=>{if(u&&f)return f.register(u)},[f,u]),$_(()=>{var m;!s||!u||(u instanceof Node&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((m=s.parentElement)==null||m.removeChild(s)))});let p=Ut();return d?!s||!u?null:at.createPortal(p({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:VM,name:"Portal"}),u):null});function W_(t,e){let n=sn(e),{enabled:r=!0,...i}=t,l=Ut();return r?re.createElement(G_,{...i,ref:n}):l({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:VM,name:"Portal"})}let Y_=E.Fragment,qM=E.createContext(null);function K_(t,e){let{target:n,...r}=t,i={ref:sn(e)},l=Ut();return re.createElement(qM.Provider,{value:n},l({ourProps:i,theirProps:r,defaultTag:Y_,name:"Popover.Group"}))}let X_=E.createContext(null),Q_=Vt(W_),J_=Vt(K_),GM=Object.assign(Q_,{Group:J_});var Z_=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Z_||{}),eU=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(eU||{}),tU=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(tU||{}),nU=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.SetTyping=3]="SetTyping",t[t.RegisterOption=4]="RegisterOption",t[t.UnregisterOption=5]="UnregisterOption",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",t[t.SetInputElement=8]="SetInputElement",t[t.SetButtonElement=9]="SetButtonElement",t[t.SetOptionsElement=10]="SetOptionsElement",t))(nU||{});function Pm(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=e(t.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,u)=>s.dataRef.current.order-u.dataRef.current.order):Kv(r,s=>s.dataRef.current.domRef.current),l=n?i.indexOf(n):null;return l===-1&&(l=null),{options:i,activeOptionIndex:l}}let rU={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(t){var e,n;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let r=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(r!==-1)return{...t,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...t,comboboxState:0,__demoMode:!1}},3(t,e){return t.isTyping===e.isTyping?t:{...t,isTyping:e.isTyping}},2(t,e){var n,r,i,l;if((n=t.dataRef.current)!=null&&n.disabled||t.optionsElement&&!((r=t.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:d,disabled:p}=t.virtual,m=e.focus===ke.Specific?e.idx:Is(e,{resolveItems:()=>d,resolveActiveIndex:()=>{var y,b;return(b=(y=t.activeOptionIndex)!=null?y:d.findIndex(S=>!p(S)))!=null?b:null},resolveDisabled:p,resolveId(){throw new Error("Function not implemented.")}}),v=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===m&&t.activationTrigger===v?t:{...t,activeOptionIndex:m,activationTrigger:v,isTyping:!1,__demoMode:!1}}let s=Pm(t);if(s.activeOptionIndex===null){let d=s.options.findIndex(p=>!p.dataRef.current.disabled);d!==-1&&(s.activeOptionIndex=d)}let u=e.focus===ke.Specific?e.idx:Is(e,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),f=(l=e.trigger)!=null?l:2;return t.activeOptionIndex===u&&t.activationTrigger===f?t:{...t,...s,isTyping:!1,activeOptionIndex:u,activationTrigger:f,__demoMode:!1}},4:(t,e)=>{var n,r,i;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,e.payload]};let l=e.payload,s=Pm(t,f=>(f.push(l),f));t.activeOptionIndex===null&&(r=t.dataRef.current)!=null&&r.isSelected(e.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(l));let u={...t,...s,activationTrigger:2};return(i=t.dataRef.current)!=null&&i.__demoMode&&t.dataRef.current.value===void 0&&(u.activeOptionIndex=0),u},5:(t,e)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(i=>i.id!==e.id)};let r=Pm(t,i=>{let l=i.findIndex(s=>s.id===e.id);return l!==-1&&i.splice(l,1),i});return{...t,...r,activationTrigger:2}},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var n,r;if(t.virtual===null)return{...t,virtual:{options:e.options,disabled:(n=e.disabled)!=null?n:()=>!1}};if(t.virtual.options===e.options&&t.virtual.disabled===e.disabled)return t;let i=t.activeOptionIndex;if(t.activeOptionIndex!==null){let l=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);l!==-1?i=l:i=null}return{...t,activeOptionIndex:i,virtual:{options:e.options,disabled:(r=e.disabled)!=null?r:()=>!1}}},8:(t,e)=>t.inputElement===e.element?t:{...t,inputElement:e.element},9:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},10:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element}},ry=E.createContext(null);ry.displayName="ComboboxActionsContext";function gu(t){let e=E.useContext(ry);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gu),n}return e}let WM=E.createContext(null);function iU(t){let e=ma("VirtualProvider"),{options:n}=e.virtual,[r,i]=E.useMemo(()=>{let d=e.optionsElement;if(!d)return[0,0];let p=window.getComputedStyle(d);return[parseFloat(p.paddingBlockStart||p.paddingTop),parseFloat(p.paddingBlockEnd||p.paddingBottom)]},[e.optionsElement]),l=eF({enabled:n.length!==0,scrollPaddingStart:r,scrollPaddingEnd:i,count:n.length,estimateSize(){return 40},getScrollElement(){return e.optionsElement},overscan:12}),[s,u]=E.useState(0);Qe(()=>{u(d=>d+1)},[n]);let f=l.getVirtualItems();return f.length===0?null:re.createElement(WM.Provider,{value:l},re.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:d=>{d&&e.activationTrigger!==0&&e.activeOptionIndex!==null&&n.length>e.activeOptionIndex&&l.scrollToIndex(e.activeOptionIndex)}},f.map(d=>{var p;return re.createElement(E.Fragment,{key:d.key},re.cloneElement((p=t.children)==null?void 0:p.call(t,{...t.slot,option:n[d.index]}),{key:`${s}-${d.key}`,"data-index":d.index,"aria-setsize":n.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let tu=E.createContext(null);tu.displayName="ComboboxDataContext";function ma(t){let e=E.useContext(tu);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ma),n}return e}function oU(t,e){return Kt(e.type,rU,t,e)}let lU=E.Fragment;function aU(t,e){var n,r;let i=md(),{value:l,defaultValue:s,onChange:u,form:f,name:d,by:p,disabled:m=i||!1,onClose:v,__demoMode:y=!1,multiple:b=!1,immediate:S=!1,virtual:w=null,nullable:C,...T}=t,M=qT(s),[R=b?[]:void 0,A]=VT(l,u,M),[I,z]=E.useReducer(oU,{dataRef:E.createRef(),comboboxState:y?0:1,isTyping:!1,options:[],virtual:w?{options:w.options,disabled:(n=w.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:y}),U=E.useRef(!1),L=E.useRef({static:!1,hold:!1}),W=oM(p),q=ce(me=>w?p===null?w.options.indexOf(me):w.options.findIndex(He=>W(He,me)):I.options.findIndex(He=>W(He.dataRef.current.value,me))),ve=E.useCallback(me=>Kt(ne.mode,{1:()=>R.some(He=>W(He,me)),0:()=>W(R,me)}),[R]),Q=ce(me=>I.activeOptionIndex===q(me)),ne=E.useMemo(()=>({...I,immediate:S,optionsPropsRef:L,value:R,defaultValue:M,disabled:m,mode:b?1:0,virtual:w?I.virtual:null,get activeOptionIndex(){if(U.current&&I.activeOptionIndex===null&&(w?w.options.length>0:I.options.length>0)){if(w){let He=w.options.findIndex(st=>{var On,Er;return!((Er=(On=w.disabled)==null?void 0:On.call(w,st))!=null&&Er)});if(He!==-1)return He}let me=I.options.findIndex(He=>!He.dataRef.current.disabled);if(me!==-1)return me}return I.activeOptionIndex},calculateIndex:q,compare:W,isSelected:ve,isActive:Q}),[R,M,m,b,y,I,w]);Qe(()=>{var me;w&&z({type:7,options:w.options,disabled:(me=w.disabled)!=null?me:null})},[w,w==null?void 0:w.options,w==null?void 0:w.disabled]),Qe(()=>{I.dataRef.current=ne},[ne]);let he=ne.comboboxState===0;pM(he,[ne.buttonElement,ne.inputElement,ne.optionsElement],()=>xe.closeCombobox());let Y=E.useMemo(()=>{var me,He,st;return{open:ne.comboboxState===0,disabled:m,activeIndex:ne.activeOptionIndex,activeOption:ne.activeOptionIndex===null?null:ne.virtual?ne.virtual.options[(me=ne.activeOptionIndex)!=null?me:0]:(st=(He=ne.options[ne.activeOptionIndex])==null?void 0:He.dataRef.current.value)!=null?st:null,value:R}},[ne,m,R]),le=ce(()=>{if(ne.activeOptionIndex!==null){if(xe.setIsTyping(!1),ne.virtual)_(ne.virtual.options[ne.activeOptionIndex]);else{let{dataRef:me}=ne.options[ne.activeOptionIndex];_(me.current.value)}xe.goToOption(ke.Specific,ne.activeOptionIndex)}}),ee=ce(()=>{z({type:0}),U.current=!0}),ue=ce(()=>{z({type:1}),U.current=!1,v==null||v()}),B=ce(me=>{z({type:3,isTyping:me})}),K=ce((me,He,st)=>(U.current=!1,me===ke.Specific?z({type:2,focus:ke.Specific,idx:He,trigger:st}):z({type:2,focus:me,trigger:st}))),ie=ce((me,He)=>(z({type:4,payload:{id:me,dataRef:He}}),()=>{ne.isActive(He.current.value)&&(U.current=!0),z({type:5,id:me})})),_=ce(me=>Kt(ne.mode,{0(){return A==null?void 0:A(me)},1(){let He=ne.value.slice(),st=He.findIndex(On=>W(On,me));return st===-1?He.push(me):He.splice(st,1),A==null?void 0:A(He)}})),te=ce(me=>{z({type:6,trigger:me})}),se=ce(me=>{z({type:8,element:me})}),pe=ce(me=>{z({type:9,element:me})}),Te=ce(me=>{z({type:10,element:me})}),xe=E.useMemo(()=>({onChange:_,registerOption:ie,goToOption:K,setIsTyping:B,closeCombobox:ue,openCombobox:ee,setActivationTrigger:te,selectActiveOption:le,setInputElement:se,setButtonElement:pe,setOptionsElement:Te}),[]),[je,Be]=nM(),vt=e===null?{}:{ref:e},Pe=E.useCallback(()=>{if(M!==void 0)return A==null?void 0:A(M)},[A,M]),Fe=Ut();return re.createElement(Be,{value:je,props:{htmlFor:(r=ne.inputElement)==null?void 0:r.id},slot:{open:ne.comboboxState===0,disabled:m}},re.createElement($M,null,re.createElement(ry.Provider,{value:xe},re.createElement(tu.Provider,{value:ne},re.createElement(UM,{value:Kt(ne.comboboxState,{0:Xr.Open,1:Xr.Closed})},d!=null&&re.createElement(XT,{disabled:m,data:R!=null?{[d]:R}:{},form:f,onReset:Pe}),Fe({ourProps:vt,theirProps:T,slot:Y,defaultTag:lU,name:"Combobox"}))))))}let sU="input";function uU(t,e){var n,r,i,l,s;let u=ma("Combobox.Input"),f=gu("Combobox.Input"),d=E.useId(),p=qv(),{id:m=p||`headlessui-combobox-input-${d}`,onChange:v,displayValue:y,disabled:b=u.disabled||!1,autoFocus:S=!1,type:w="text",...C}=t,T=E.useRef(null),M=sn(T,e,jM(),f.setInputElement),R=hu(u.inputElement),A=Qo(),I=ce(()=>{f.onChange(null),u.optionsElement&&(u.optionsElement.scrollTop=0),f.goToOption(ke.Nothing)}),z=E.useMemo(()=>{var _;return typeof y=="function"&&u.value!==void 0?(_=y(u.value))!=null?_:"":typeof u.value=="string"?u.value:""},[u.value,y]);Hw(([_,te],[se,pe])=>{if(u.isTyping)return;let Te=T.current;Te&&((pe===0&&te===1||_!==se)&&(Te.value=_),requestAnimationFrame(()=>{if(u.isTyping||!Te||(R==null?void 0:R.activeElement)!==Te)return;let{selectionStart:xe,selectionEnd:je}=Te;Math.abs((je??0)-(xe??0))===0&&xe===0&&Te.setSelectionRange(Te.value.length,Te.value.length)}))},[z,u.comboboxState,R,u.isTyping]),Hw(([_],[te])=>{if(_===0&&te===1){if(u.isTyping)return;let se=T.current;if(!se)return;let pe=se.value,{selectionStart:Te,selectionEnd:xe,selectionDirection:je}=se;se.value="",se.value=pe,je!==null?se.setSelectionRange(Te,xe,je):se.setSelectionRange(Te,xe)}},[u.comboboxState]);let U=E.useRef(!1),L=ce(()=>{U.current=!0}),W=ce(()=>{A.nextFrame(()=>{U.current=!1})}),q=ce(_=>{switch(f.setIsTyping(!0),_.key){case Ve.Enter:if(u.comboboxState!==0||U.current)return;if(_.preventDefault(),_.stopPropagation(),u.activeOptionIndex===null){f.closeCombobox();return}f.selectActiveOption(),u.mode===0&&f.closeCombobox();break;case Ve.ArrowDown:return _.preventDefault(),_.stopPropagation(),Kt(u.comboboxState,{0:()=>f.goToOption(ke.Next),1:()=>f.openCombobox()});case Ve.ArrowUp:return _.preventDefault(),_.stopPropagation(),Kt(u.comboboxState,{0:()=>f.goToOption(ke.Previous),1:()=>{at.flushSync(()=>f.openCombobox()),u.value||f.goToOption(ke.Last)}});case Ve.Home:if(_.shiftKey)break;return _.preventDefault(),_.stopPropagation(),f.goToOption(ke.First);case Ve.PageUp:return _.preventDefault(),_.stopPropagation(),f.goToOption(ke.First);case Ve.End:if(_.shiftKey)break;return _.preventDefault(),_.stopPropagation(),f.goToOption(ke.Last);case Ve.PageDown:return _.preventDefault(),_.stopPropagation(),f.goToOption(ke.Last);case Ve.Escape:return u.comboboxState!==0?void 0:(_.preventDefault(),u.optionsElement&&!u.optionsPropsRef.current.static&&_.stopPropagation(),u.mode===0&&u.value===null&&I(),f.closeCombobox());case Ve.Tab:if(u.comboboxState!==0)return;u.mode===0&&u.activationTrigger!==1&&f.selectActiveOption(),f.closeCombobox();break}}),ve=ce(_=>{v==null||v(_),u.mode===0&&_.target.value===""&&I(),f.openCombobox()}),Q=ce(_=>{var te,se,pe;let Te=(te=_.relatedTarget)!=null?te:Mo.find(xe=>xe!==_.currentTarget);if(!((se=u.optionsElement)!=null&&se.contains(Te))&&!((pe=u.buttonElement)!=null&&pe.contains(Te))&&u.comboboxState===0)return _.preventDefault(),u.mode===0&&u.value===null&&I(),f.closeCombobox()}),ne=ce(_=>{var te,se,pe;let Te=(te=_.relatedTarget)!=null?te:Mo.find(xe=>xe!==_.currentTarget);(se=u.buttonElement)!=null&&se.contains(Te)||(pe=u.optionsElement)!=null&&pe.contains(Te)||u.disabled||u.immediate&&u.comboboxState!==0&&A.microTask(()=>{at.flushSync(()=>f.openCombobox()),f.setActivationTrigger(1)})}),he=du(),Y=eM(),{isFocused:le,focusProps:ee}=Uv({autoFocus:S}),{isHovered:ue,hoverProps:B}=_v({isDisabled:b}),K=E.useMemo(()=>({open:u.comboboxState===0,disabled:b,hover:ue,focus:le,autofocus:S}),[u,ue,le,S,b]),ie=fu({ref:M,id:m,role:"combobox",type:w,"aria-controls":(n=u.optionsElement)==null?void 0:n.id,"aria-expanded":u.comboboxState===0,"aria-activedescendant":u.activeOptionIndex===null?void 0:u.virtual?(r=u.options.find(_=>!_.dataRef.current.disabled&&u.compare(_.dataRef.current.value,u.virtual.options[u.activeOptionIndex])))==null?void 0:r.id:(i=u.options[u.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":he,"aria-describedby":Y,"aria-autocomplete":"list",defaultValue:(s=(l=t.defaultValue)!=null?l:u.defaultValue!==void 0?y==null?void 0:y(u.defaultValue):null)!=null?s:u.defaultValue,disabled:b||void 0,autoFocus:S,onCompositionStart:L,onCompositionEnd:W,onKeyDown:q,onChange:ve,onFocus:ne,onBlur:Q},ee,B);return Ut()({ourProps:ie,theirProps:C,slot:K,defaultTag:sU,name:"Combobox.Input"})}let cU="button";function fU(t,e){var n;let r=ma("Combobox.Button"),i=gu("Combobox.Button"),l=sn(e,i.setButtonElement),s=E.useId(),{id:u=`headlessui-combobox-button-${s}`,disabled:f=r.disabled||!1,autoFocus:d=!1,...p}=t,m=mM(r.inputElement),v=ce(z=>{switch(z.key){case Ve.Space:case Ve.Enter:z.preventDefault(),z.stopPropagation(),r.comboboxState===1&&at.flushSync(()=>i.openCombobox()),m();return;case Ve.ArrowDown:z.preventDefault(),z.stopPropagation(),r.comboboxState===1&&(at.flushSync(()=>i.openCombobox()),r.value||i.goToOption(ke.First)),m();return;case Ve.ArrowUp:z.preventDefault(),z.stopPropagation(),r.comboboxState===1&&(at.flushSync(()=>i.openCombobox()),r.value||i.goToOption(ke.Last)),m();return;case Ve.Escape:if(r.comboboxState!==0)return;z.preventDefault(),r.optionsElement&&!r.optionsPropsRef.current.static&&z.stopPropagation(),at.flushSync(()=>i.closeCombobox()),m();return;default:return}}),y=ce(z=>{z.preventDefault(),!QT(z.currentTarget)&&(z.button===ny.Left&&(r.comboboxState===0?i.closeCombobox():i.openCombobox()),m())}),b=du([u]),{isFocusVisible:S,focusProps:w}=Uv({autoFocus:d}),{isHovered:C,hoverProps:T}=_v({isDisabled:f}),{pressed:M,pressProps:R}=_T({disabled:f}),A=E.useMemo(()=>({open:r.comboboxState===0,active:M||r.comboboxState===0,disabled:f,value:r.value,hover:C,focus:S}),[r,C,S,M,f]),I=fu({ref:l,id:u,type:gM(t,r.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":b,disabled:f||void 0,autoFocus:d,onMouseDown:y,onKeyDown:v},w,T,R);return Ut()({ourProps:I,theirProps:p,slot:A,defaultTag:cU,name:"Combobox.Button"})}let dU="div",hU=Js.RenderStrategy|Js.Static;function pU(t,e){var n,r,i;let l=E.useId(),{id:s=`headlessui-combobox-options-${l}`,hold:u=!1,anchor:f,portal:d=!1,modal:p=!0,transition:m=!1,...v}=t,y=ma("Combobox.Options"),b=gu("Combobox.Options"),S=LM(f);S&&(d=!0);let[w,C]=HM(S),[T,M]=E.useState(null),R=zM(),A=sn(e,S?w:null,b.setOptionsElement,M),I=hu(y.optionsElement),z=_M(),[U,L]=xM(m,T,z!==null?(z&Xr.Open)===Xr.Open:y.comboboxState===0);uM(U,y.inputElement,b.closeCombobox);let W=y.__demoMode?!1:p&&y.comboboxState===0;vM(W,I);let q=y.__demoMode?!1:p&&y.comboboxState===0;sM(q,{allowed:E.useCallback(()=>[y.inputElement,y.buttonElement,y.optionsElement],[y.inputElement,y.buttonElement,y.optionsElement])}),Qe(()=>{var ie;y.optionsPropsRef.current.static=(ie=t.static)!=null?ie:!1},[y.optionsPropsRef,t.static]),Qe(()=>{y.optionsPropsRef.current.hold=u},[y.optionsPropsRef,u]),DF(y.comboboxState===0,{container:y.optionsElement,accept(ie){return ie.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:ie.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ie){ie.setAttribute("role","none")}});let ve=du([(n=y.buttonElement)==null?void 0:n.id]),Q=E.useMemo(()=>({open:y.comboboxState===0,option:void 0}),[y.comboboxState]),ne=ce(()=>{b.setActivationTrigger(0)}),he=ce(ie=>{ie.preventDefault(),b.setActivationTrigger(0)}),Y=fu(S?R():{},{"aria-labelledby":ve,role:"listbox","aria-multiselectable":y.mode===1?!0:void 0,id:s,ref:A,style:{...v.style,...C,"--input-width":Og(y.inputElement,!0).width,"--button-width":Og(y.buttonElement,!0).width},onWheel:y.activationTrigger===0?void 0:ne,onMouseDown:he,...bM(L)}),le=U&&y.comboboxState===1,ee=zf(le,(r=y.virtual)==null?void 0:r.options),ue=zf(le,y.value),B=ce(ie=>y.compare(ue,ie));if(y.virtual){if(ee===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(v,{children:re.createElement(tu.Provider,{value:ee!==y.virtual.options?{...y,virtual:{...y.virtual,options:ee}}:y},re.createElement(iU,{slot:Q},v.children))})}let K=Ut();return re.createElement(GM,{enabled:d?t.static||U:!1},re.createElement(tu.Provider,{value:y.mode===1?y:{...y,isSelected:B}},K({ourProps:Y,theirProps:{...v,children:re.createElement(j_,{freeze:le},typeof v.children=="function"?(i=v.children)==null?void 0:i.call(v,Q):v.children)},slot:Q,defaultTag:dU,features:hU,visible:U,name:"Combobox.Options"})))}let mU="div";function gU(t,e){var n,r,i,l;let s=ma("Combobox.Option"),u=gu("Combobox.Option"),f=E.useId(),{id:d=`headlessui-combobox-option-${f}`,value:p,disabled:m=(i=(r=(n=s.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,p))!=null?i:!1,order:v=null,...y}=t,b=mM(s.inputElement),S=s.virtual?s.activeOptionIndex===s.calculateIndex(p):s.activeOptionIndex===null?!1:((l=s.options[s.activeOptionIndex])==null?void 0:l.id)===d,w=s.isSelected(p),C=E.useRef(null),T=Xi({disabled:m,value:p,domRef:C,order:v}),M=E.useContext(WM),R=sn(e,C,M?M.measureElement:null),A=ce(()=>{u.setIsTyping(!1),u.onChange(p)});Qe(()=>u.registerOption(d,T),[T,d]);let I=E.useRef(!(s.virtual||s.__demoMode));Qe(()=>{if(!s.virtual&&!s.__demoMode)return nr().requestAnimationFrame(()=>{I.current=!0})},[s.virtual,s.__demoMode]),Qe(()=>{if(I.current&&s.comboboxState===0&&S&&s.activationTrigger!==0)return nr().requestAnimationFrame(()=>{var he,Y;(Y=(he=C.current)==null?void 0:he.scrollIntoView)==null||Y.call(he,{block:"nearest"})})},[C,S,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let z=ce(he=>{he.preventDefault(),he.button===ny.Left&&(m||(A(),hM()||requestAnimationFrame(()=>b()),s.mode===0&&u.closeCombobox()))}),U=ce(()=>{if(m)return u.goToOption(ke.Nothing);let he=s.calculateIndex(p);u.goToOption(ke.Specific,he)}),L=yM(),W=ce(he=>L.update(he)),q=ce(he=>{if(!L.wasMoved(he)||m||S)return;let Y=s.calculateIndex(p);u.goToOption(ke.Specific,Y,0)}),ve=ce(he=>{L.wasMoved(he)&&(m||S&&(s.optionsPropsRef.current.hold||u.goToOption(ke.Nothing)))}),Q=E.useMemo(()=>({active:S,focus:S,selected:w,disabled:m}),[S,w,m]),ne={id:d,ref:R,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":w,disabled:void 0,onMouseDown:z,onFocus:U,onPointerEnter:W,onMouseEnter:W,onPointerMove:q,onMouseMove:q,onPointerLeave:ve,onMouseLeave:ve};return Ut()({ourProps:ne,theirProps:y,slot:Q,defaultTag:mU,name:"Combobox.Option"})}let vU=Vt(aU),yU=Vt(fU),YM=Vt(uU),bU=rM,KM=Vt(pU),XM=Vt(gU),xU=Object.assign(vU,{Input:YM,Button:yU,Label:bU,Options:KM,Option:XM});function SU(t,e){let n=E.useRef({left:0,top:0});if(Qe(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Zw=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function eE(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let l=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),l=!0;let s=l?(n=i.innerText)!=null?n:"":r;return Zw.test(s)&&(s=s.replace(Zw,"")),s}function wU(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let l=document.getElementById(i);if(l){let s=l.getAttribute("aria-label");return typeof s=="string"?s.trim():eE(l).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return eE(t).trim()}function EU(t){let e=E.useRef(""),n=E.useRef("");return ce(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let l=wU(r).trim().toLowerCase();return e.current=i,n.current=l,l})}var CU=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(CU||{}),OU=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(OU||{}),TU=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(TU||{}),MU=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOption=5]="RegisterOption",t[t.UnregisterOption=6]="UnregisterOption",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetOptionsElement=8]="SetOptionsElement",t))(MU||{});function Lm(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=Kv(e(t.options.slice()),l=>l.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let DU={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(t){if(t.dataRef.current.disabled||t.listboxState===0)return t;let e=t.activeOptionIndex,{isSelected:n}=t.dataRef.current,r=t.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(e=r),{...t,listboxState:0,activeOptionIndex:e,__demoMode:!1}},2(t,e){var n,r,i,l,s;if(t.dataRef.current.disabled||t.listboxState===1)return t;let u={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===ke.Nothing)return{...u,activeOptionIndex:null};if(e.focus===ke.Specific)return{...u,activeOptionIndex:t.options.findIndex(p=>p.id===e.id)};if(e.focus===ke.Previous){let p=t.activeOptionIndex;if(p!==null){let m=t.options[p].dataRef.current.domRef,v=Is(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=t.options[v].dataRef.current.domRef;if(((r=m.current)==null?void 0:r.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeOptionIndex:v}}}}else if(e.focus===ke.Next){let p=t.activeOptionIndex;if(p!==null){let m=t.options[p].dataRef.current.domRef,v=Is(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(v!==null){let y=t.options[v].dataRef.current.domRef;if(((l=m.current)==null?void 0:l.nextElementSibling)===y.current||((s=y.current)==null?void 0:s.nextElementSibling)===null)return{...u,activeOptionIndex:v}}}}let f=Lm(t),d=Is(e,{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...u,...f,activeOptionIndex:d}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(s=>{var u;return!s.dataRef.current.disabled&&((u=s.dataRef.current.textValue)==null?void 0:u.startsWith(r))}),l=i?t.options.indexOf(i):-1;return l===-1||l===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:l,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n={id:e.id,dataRef:e.dataRef},r=Lm(t,i=>[...i,n]);return t.activeOptionIndex===null&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...t,...r}},6:(t,e)=>{let n=Lm(t,r=>{let i=r.findIndex(l=>l.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element}},iy=E.createContext(null);iy.displayName="ListboxActionsContext";function Sd(t){let e=E.useContext(iy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sd),n}return e}let wd=E.createContext(null);wd.displayName="ListboxDataContext";function vu(t){let e=E.useContext(wd);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vu),n}return e}function AU(t,e){return Kt(e.type,DU,t,e)}let NU=E.Fragment;function RU(t,e){var n;let r=md(),{value:i,defaultValue:l,form:s,name:u,onChange:f,by:d,invalid:p=!1,disabled:m=r||!1,horizontal:v=!1,multiple:y=!1,__demoMode:b=!1,...S}=t;const w=v?"horizontal":"vertical";let C=sn(e),T=qT(l),[M=y?[]:void 0,R]=VT(i,f,T),[A,I]=E.useReducer(AU,{dataRef:E.createRef(),listboxState:b?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:b}),z=E.useRef({static:!1,hold:!1}),U=E.useRef(new Map),L=oM(d),W=E.useCallback(Pe=>Kt(q.mode,{1:()=>M.some(Fe=>L(Fe,Pe)),0:()=>L(M,Pe)}),[M]),q=E.useMemo(()=>({...A,value:M,disabled:m,invalid:p,mode:y?1:0,orientation:w,compare:L,isSelected:W,optionsPropsRef:z,listRef:U}),[M,m,p,y,A,U]);Qe(()=>{A.dataRef.current=q},[q]);let ve=q.listboxState===0;pM(ve,[q.buttonElement,q.optionsElement],(Pe,Fe)=>{var me;I({type:1}),fM(Fe,Yv.Loose)||(Pe.preventDefault(),(me=q.buttonElement)==null||me.focus())});let Q=E.useMemo(()=>({open:q.listboxState===0,disabled:m,invalid:p,value:M}),[q,m,M,p]),ne=ce(Pe=>{let Fe=q.options.find(me=>me.id===Pe);Fe&&K(Fe.dataRef.current.value)}),he=ce(()=>{if(q.activeOptionIndex!==null){let{dataRef:Pe,id:Fe}=q.options[q.activeOptionIndex];K(Pe.current.value),I({type:2,focus:ke.Specific,id:Fe})}}),Y=ce(()=>I({type:0})),le=ce(()=>I({type:1})),ee=Qo(),ue=ce((Pe,Fe,me)=>{ee.dispose(),ee.microTask(()=>Pe===ke.Specific?I({type:2,focus:ke.Specific,id:Fe,trigger:me}):I({type:2,focus:Pe,trigger:me}))}),B=ce((Pe,Fe)=>(I({type:5,id:Pe,dataRef:Fe}),()=>I({type:6,id:Pe}))),K=ce(Pe=>Kt(q.mode,{0(){return R==null?void 0:R(Pe)},1(){let Fe=q.value.slice(),me=Fe.findIndex(He=>L(He,Pe));return me===-1?Fe.push(Pe):Fe.splice(me,1),R==null?void 0:R(Fe)}})),ie=ce(Pe=>I({type:3,value:Pe})),_=ce(()=>I({type:4})),te=ce(Pe=>{I({type:7,element:Pe})}),se=ce(Pe=>{I({type:8,element:Pe})}),pe=E.useMemo(()=>({onChange:K,registerOption:B,goToOption:ue,closeListbox:le,openListbox:Y,selectActiveOption:he,selectOption:ne,search:ie,clearSearch:_,setButtonElement:te,setOptionsElement:se}),[]),[Te,xe]=nM({inherit:!0}),je={ref:C},Be=E.useCallback(()=>{if(T!==void 0)return R==null?void 0:R(T)},[R,T]),vt=Ut();return re.createElement(xe,{value:Te,props:{htmlFor:(n=q.buttonElement)==null?void 0:n.id},slot:{open:q.listboxState===0,disabled:m}},re.createElement($M,null,re.createElement(iy.Provider,{value:pe},re.createElement(wd.Provider,{value:q},re.createElement(UM,{value:Kt(q.listboxState,{0:Xr.Open,1:Xr.Closed})},u!=null&&M!=null&&re.createElement(XT,{disabled:m,data:{[u]:M},form:s,onReset:Be}),vt({ourProps:je,theirProps:S,slot:Q,defaultTag:NU,name:"Listbox"}))))))}let kU="button";function IU(t,e){var n;let r=vu("Listbox.Button"),i=Sd("Listbox.Button"),l=E.useId(),s=qv(),{id:u=s||`headlessui-listbox-button-${l}`,disabled:f=r.disabled||!1,autoFocus:d=!1,...p}=t,m=sn(e,jM(),i.setButtonElement),v=B_(),y=ce(q=>{switch(q.key){case Ve.Enter:D4(q.currentTarget);break;case Ve.Space:case Ve.ArrowDown:q.preventDefault(),at.flushSync(()=>i.openListbox()),r.value||i.goToOption(ke.First);break;case Ve.ArrowUp:q.preventDefault(),at.flushSync(()=>i.openListbox()),r.value||i.goToOption(ke.Last);break}}),b=ce(q=>{switch(q.key){case Ve.Space:q.preventDefault();break}}),S=ce(q=>{var ve;if(QT(q.currentTarget))return q.preventDefault();r.listboxState===0?(at.flushSync(()=>i.closeListbox()),(ve=r.buttonElement)==null||ve.focus({preventScroll:!0})):(q.preventDefault(),i.openListbox())}),w=ce(q=>q.preventDefault()),C=du([u]),T=eM(),{isFocusVisible:M,focusProps:R}=Uv({autoFocus:d}),{isHovered:A,hoverProps:I}=_v({isDisabled:f}),{pressed:z,pressProps:U}=_T({disabled:f}),L=E.useMemo(()=>({open:r.listboxState===0,active:z||r.listboxState===0,disabled:f,invalid:r.invalid,value:r.value,hover:A,focus:M,autofocus:d}),[r.listboxState,r.value,f,A,M,z,r.invalid,d]),W=fu(v(),{ref:m,id:u,type:gM(t,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":C,"aria-describedby":T,disabled:f||void 0,autoFocus:d,onKeyDown:y,onKeyUp:b,onKeyPress:w,onClick:S},R,I,U);return Ut()({ourProps:W,theirProps:p,slot:L,defaultTag:kU,name:"Listbox.Button"})}let QM=E.createContext(!1),BU="div",PU=Js.RenderStrategy|Js.Static;function LU(t,e){var n,r;let i=E.useId(),{id:l=`headlessui-listbox-options-${i}`,anchor:s,portal:u=!1,modal:f=!0,transition:d=!1,...p}=t,m=LM(s),[v,y]=E.useState(null);m&&(u=!0);let b=vu("Listbox.Options"),S=Sd("Listbox.Options"),w=hu(b.optionsElement),C=_M(),[T,M]=xM(d,v,C!==null?(C&Xr.Open)===Xr.Open:b.listboxState===0);uM(T,b.buttonElement,S.closeListbox);let R=b.__demoMode?!1:f&&b.listboxState===0;vM(R,w);let A=b.__demoMode?!1:f&&b.listboxState===0;sM(A,{allowed:E.useCallback(()=>[b.buttonElement,b.optionsElement],[b.buttonElement,b.optionsElement])});let I=b.listboxState!==0,z=SU(I,b.buttonElement)?!1:T,U=T&&b.listboxState===1,L=zf(U,b.value),W=ce(_=>b.compare(L,_)),q=E.useMemo(()=>{var _;if(m==null||!((_=m==null?void 0:m.to)!=null&&_.includes("selection")))return null;let te=b.options.findIndex(se=>W(se.dataRef.current.value));return te===-1&&(te=0),te},[m,b.options]),ve=(()=>{if(m==null)return;if(q===null)return{...m,inner:void 0};let _=Array.from(b.listRef.current.values());return{...m,inner:{listRef:{current:_},index:q}}})(),[Q,ne]=HM(ve),he=zM(),Y=sn(e,m?Q:null,S.setOptionsElement,y),le=Qo();E.useEffect(()=>{var _;let te=b.optionsElement;te&&b.listboxState===0&&te!==((_=fa(te))==null?void 0:_.activeElement)&&(te==null||te.focus({preventScroll:!0}))},[b.listboxState,b.optionsElement]);let ee=ce(_=>{var te,se;switch(le.dispose(),_.key){case Ve.Space:if(b.searchQuery!=="")return _.preventDefault(),_.stopPropagation(),S.search(_.key);case Ve.Enter:if(_.preventDefault(),_.stopPropagation(),b.activeOptionIndex!==null){let{dataRef:pe}=b.options[b.activeOptionIndex];S.onChange(pe.current.value)}b.mode===0&&(at.flushSync(()=>S.closeListbox()),(te=b.buttonElement)==null||te.focus({preventScroll:!0}));break;case Kt(b.orientation,{vertical:Ve.ArrowDown,horizontal:Ve.ArrowRight}):return _.preventDefault(),_.stopPropagation(),S.goToOption(ke.Next);case Kt(b.orientation,{vertical:Ve.ArrowUp,horizontal:Ve.ArrowLeft}):return _.preventDefault(),_.stopPropagation(),S.goToOption(ke.Previous);case Ve.Home:case Ve.PageUp:return _.preventDefault(),_.stopPropagation(),S.goToOption(ke.First);case Ve.End:case Ve.PageDown:return _.preventDefault(),_.stopPropagation(),S.goToOption(ke.Last);case Ve.Escape:_.preventDefault(),_.stopPropagation(),at.flushSync(()=>S.closeListbox()),(se=b.buttonElement)==null||se.focus({preventScroll:!0});return;case Ve.Tab:_.preventDefault(),_.stopPropagation(),at.flushSync(()=>S.closeListbox()),dF(b.buttonElement,_.shiftKey?Mg.Previous:Mg.Next);break;default:_.key.length===1&&(S.search(_.key),le.setTimeout(()=>S.clearSearch(),350));break}}),ue=(n=b.buttonElement)==null?void 0:n.id,B=E.useMemo(()=>({open:b.listboxState===0}),[b.listboxState]),K=fu(m?he():{},{id:l,ref:Y,"aria-activedescendant":b.activeOptionIndex===null||(r=b.options[b.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":b.mode===1?!0:void 0,"aria-labelledby":ue,"aria-orientation":b.orientation,onKeyDown:ee,role:"listbox",tabIndex:b.listboxState===0?0:void 0,style:{...p.style,...ne,"--button-width":Og(b.buttonElement,!0).width},...bM(M)}),ie=Ut();return re.createElement(GM,{enabled:u?t.static||T:!1},re.createElement(wd.Provider,{value:b.mode===1?b:{...b,isSelected:W}},ie({ourProps:K,theirProps:p,slot:B,defaultTag:BU,features:PU,visible:z,name:"Listbox.Options"})))}let jU="div";function zU(t,e){let n=E.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:l,...s}=t,u=E.useContext(QM)===!0,f=vu("Listbox.Option"),d=Sd("Listbox.Option"),p=f.activeOptionIndex!==null?f.options[f.activeOptionIndex].id===r:!1,m=f.isSelected(l),v=E.useRef(null),y=EU(v),b=Xi({disabled:i,value:l,domRef:v,get textValue(){return y()}}),S=sn(e,v,L=>{L?f.listRef.current.set(r,L):f.listRef.current.delete(r)});Qe(()=>{if(!f.__demoMode&&f.listboxState===0&&p&&f.activationTrigger!==0)return nr().requestAnimationFrame(()=>{var L,W;(W=(L=v.current)==null?void 0:L.scrollIntoView)==null||W.call(L,{block:"nearest"})})},[v,p,f.__demoMode,f.listboxState,f.activationTrigger,f.activeOptionIndex]),Qe(()=>{if(!u)return d.registerOption(r,b)},[b,r,u]);let w=ce(L=>{var W;if(i)return L.preventDefault();d.onChange(l),f.mode===0&&(at.flushSync(()=>d.closeListbox()),(W=f.buttonElement)==null||W.focus({preventScroll:!0}))}),C=ce(()=>{if(i)return d.goToOption(ke.Nothing);d.goToOption(ke.Specific,r)}),T=yM(),M=ce(L=>{T.update(L),!i&&(p||d.goToOption(ke.Specific,r,0))}),R=ce(L=>{T.wasMoved(L)&&(i||p||d.goToOption(ke.Specific,r,0))}),A=ce(L=>{T.wasMoved(L)&&(i||p&&d.goToOption(ke.Nothing))}),I=E.useMemo(()=>({active:p,focus:p,selected:m,disabled:i,selectedOption:m&&u}),[p,m,i,u]),z=u?{}:{id:r,ref:S,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:w,onFocus:C,onPointerEnter:M,onMouseEnter:M,onPointerMove:R,onMouseMove:R,onPointerLeave:A,onMouseLeave:A},U=Ut();return!m&&u?null:U({ourProps:z,theirProps:s,slot:I,defaultTag:jU,name:"Listbox.Option"})}let HU=E.Fragment;function $U(t,e){let{options:n,placeholder:r,...i}=t,l={ref:sn(e)},s=vu("ListboxSelectedOption"),u=E.useMemo(()=>({}),[]),f=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0,d=Ut();return re.createElement(QM.Provider,{value:!0},d({ourProps:l,theirProps:{...i,children:re.createElement(re.Fragment,null,r&&f?r:n)},slot:u,defaultTag:HU,name:"ListboxSelectedOption"}))}let FU=Vt(RU),_U=Vt(IU),UU=rM,oy=Vt(LU),ly=Vt(zU),VU=Vt($U),Hf=Object.assign(FU,{Button:_U,Label:UU,Options:oy,Option:ly,SelectedOption:VU});const qU=({categories:t,setCategories:e,selectedCategory:n,setSelectedCategory:r})=>{const[i,l]=E.useState(""),s=i===""?t:t.filter(d=>d.toLowerCase().includes(i.toLowerCase())),u=i.length>0&&!t.includes(i),f=()=>{u&&(e([...t,i]),r(i),l(""))};return D.jsx(xU,{value:n,onChange:r,children:D.jsxs("div",{className:"relative w-full mt-2",children:[D.jsx(YM,{onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded-md p-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search or select a category"}),D.jsxs(KM,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 overflow-auto rounded-md border border-gray-300 text-sm",children:[u&&D.jsxs("div",{className:"p-2 flex items-center gap-2 cursor-pointer hover:bg-blue-500 hover:text-white",onClick:f,children:[D.jsx(S2,{size:18,className:"text-blue-500 hover:text-white"}),D.jsxs("span",{children:['Add "',i,'"']})]}),s.length>0?s.map((d,p)=>D.jsx(XM,{value:d,className:({active:m})=>`cursor-pointer select-none p-2 ${m?"bg-blue-500 text-white":"text-gray-900"}`,children:d},p)):D.jsx("div",{className:"p-2 text-gray-500 text-center",children:"No categories found"})]})]})})},GU=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(""),[i,l]=E.useState(""),[s,u]=E.useState([]),[f,d]=E.useState({question:"",answer:""});E.useEffect(()=>{(async()=>{try{const b=await J6();e(b),u([...new Set(b.map(S=>S.category))])}catch(b){console.error("Error fetching FAQs:",b)}})()},[]);const p=async y=>{try{const b=await e4(y);b.success?e(S=>S.filter(w=>w._id!==y)):console.error("Failed to delete FAQ:",b.error)}catch(b){console.error("Error deleting FAQ:",b)}},m=t.filter(y=>y.question.toLowerCase().includes(n.toLowerCase())&&(i?y.category===i:!0)),v=async y=>{y.preventDefault();const b={...f,category:i};try{const S=await Z6(b);S&&S.id&&e(w=>[...w,S])}catch(S){console.error("Error creating FAQ:",S)}};return D.jsxs("div",{className:"main-content p-4",children:[D.jsxs("h1",{className:"text-lg my-2 text-blue-600",children:["Dashboard / ",D.jsx("span",{className:"text-gray-900",children:"Manage FAQs"})]}),D.jsxs("div",{className:"container flex gap-2 flex-col shadow-md p-4 border border-gray-200",children:[D.jsx(qU,{categories:s,setCategories:u,selectedCategory:i,setSelectedCategory:l}),D.jsx("div",{children:D.jsx("input",{type:"text",value:f.question,onChange:y=>d(b=>({...b,question:y.target.value})),required:!0,className:"bg-gray-50 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",placeholder:"Enter the Question"})}),D.jsx("textarea",{required:!0,value:f.answer,onChange:y=>d(b=>({...b,answer:y.target.value})),className:"bg-gray-50 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 mt-2",placeholder:"Answer"}),D.jsx("button",{type:"submit",onClick:y=>{v(y)},className:"w-full bg-blue-700 text-white py-2.5 px-5 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300",children:"Create New Faq"})]}),D.jsxs("div",{className:"flex flex-col gap-1 mt-10  shadow-xl p-4 border border-gray-200",children:[D.jsx("input",{type:"text",value:n,onChange:y=>r(y.target.value),required:!0,className:"bg-gray-50 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",placeholder:"Search by the Question"}),D.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4",children:D.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[D.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:D.jsxs("tr",{children:[D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Question"}),D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Answer"}),D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),D.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),D.jsx("tbody",{children:m.length>0?m.map(y=>D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:y.question}),D.jsx("td",{className:"px-6 py-4",children:y.answer}),D.jsx("td",{className:"px-6 py-4",children:y.category}),D.jsx("td",{className:"px-6 py-4",children:D.jsx(jE,{size:20,className:"cursor-pointer text-red-500 hover:text-red-700",onClick:()=>p(y._id)})})]},y._id)):D.jsx("tr",{children:D.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No FAQs found"})})})]})})]})]})},jl=`${Jr}/hotels`,Io={createHotel:async t=>{try{return await(await fetch(`${jl}/create`,{method:"POST",body:t})).json()}catch(e){return{error:e.message}}},getHotels:async()=>{try{return await(await fetch(`${jl}`)).json()}catch(t){return{error:t.message}}},getHotelById:async t=>{try{return await(await fetch(`${jl}/${t}`)).json()}catch(e){return{error:e.message}}},updateHotel:async(t,e)=>{try{return await(await fetch(`${jl}/update/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(n){return{error:n.message}}},deleteHotel:async t=>{try{return await(await fetch(`${jl}/${t}`,{method:"DELETE"})).json()}catch(e){return{error:e.message}}},editHotel:async(t,e)=>{try{return await(await fetch(`${jl}/${t}`,{method:"PUT",body:e})).json()}catch(n){return{error:n.message}}}},WU=`${Jr}/files`,yu={getFile:async t=>{t=t.replace(/\\/g,"/").split("/").pop();try{const e=await fetch(`${WU}/${t}`);if(!e.ok)throw new Error(`Error fetching file: ${e.status} ${e.statusText}`);return await e.blob()}catch(e){return console.error("Error fetching file:",e),null}}};function YU(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 23.7279L5.63604 17.364C2.12132 13.8492 2.12132 8.15076 5.63604 4.63604C9.15076 1.12132 14.8492 1.12132 18.364 4.63604C21.8787 8.15076 21.8787 13.8492 18.364 17.364L12 23.7279ZM16.9497 15.9497C19.6834 13.2161 19.6834 8.78392 16.9497 6.05025C14.2161 3.31658 9.78392 3.31658 7.05025 6.05025C4.31658 8.78392 4.31658 13.2161 7.05025 15.9497L12 20.8995L16.9497 15.9497ZM12 13C10.8954 13 10 12.1046 10 11C10 9.89543 10.8954 9 12 9C13.1046 9 14 9.89543 14 11C14 12.1046 13.1046 13 12 13Z"},child:[]}]})(t)}function ay(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(t)}function KU(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26Z"},child:[]}]})(t)}const XU=()=>{const[t,e]=E.useState([]),[n,r]=E.useState({}),[i,l]=E.useState({});E.useEffect(()=>{(async()=>{try{const f=await Io.getHotels();e(f),s(f)}catch(f){console.error("Error fetching hotels:",f)}})()},[]);const s=async u=>{const f={},d={};for(const p of u)if(p.images&&p.images.length>0){d[p._id]=!0;try{const m=p.images[0];console.log(`Fetching image: ${m}`);const v=await yu.getFile(m);if(v){const y=URL.createObjectURL(v);console.log(`Image URL for ${p._id}:`,y),f[p._id]=y}else console.error(`Invalid blob for ${p._id}`),f[p._id]=null}catch(m){console.error(`Error fetching image for hotel ${p._id}:`,m),f[p._id]=null}finally{d[p._id]=!1}}r(f),l(d)};return D.jsx("div",{children:D.jsxs("div",{className:"main-content p-4",children:[D.jsxs("h1",{className:"text-lg my-2 text-blue-600",children:["Dashboard / ",D.jsx("span",{className:"text-gray-900",children:"Manage Hotel"})]}),D.jsxs("div",{className:"flex flex-row gap-1",children:[D.jsx("input",{type:"text",className:"bg-gray-50 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",placeholder:"Search"}),D.jsx(gn,{to:"/create/hotel",className:"text-white w-[200px] h-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"+ Add new hotel"})]}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:t.map(u=>D.jsxs("div",{className:"max-w-sm max-h-[350px] bg-white border border-gray-300 rounded-lg shadow-sm flex flex-col justify-between",children:[D.jsx("div",{className:"w-full h-40 bg-gray-300 flex items-center justify-center rounded-t-lg overflow-hidden",children:i[u._id]?D.jsx("span",{className:"text-gray-600",children:"Loading..."}):n[u._id]?D.jsx("img",{className:"w-full h-full object-cover",src:n[u._id],alt:u.name}):D.jsx("span",{className:"text-gray-500",children:"No Image Available"})}),D.jsxs("div",{className:"p-5 flex flex-col justify-between h-full",children:[D.jsxs("div",{className:"flex flex-col h-full",children:[D.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900",children:u.title}),D.jsxs("p",{className:"mb-3 font-normal text-gray-700",children:[u.description?D.jsx("span",{dangerouslySetInnerHTML:{__html:u.description.substring(0,100)}}):"No description available.","..."]}),D.jsxs("div",{className:"flex flex-row gap-1 items-center py-2",children:[D.jsx(YU,{}),u.destination]})]}),D.jsx("div",{className:"flex w-full gap-2 mt-auto",children:D.jsxs(gn,{to:`/edit/hotel/${u._id}`,className:"w-full inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300",children:["Edit",D.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:D.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})})]})]},u._id))})]})})},tE=({isEditableMode:t=!1})=>{const[e,n]=E.useState({title:"",price:"",description:"",tags:"",facilities:"",rating:"",destination:"",location:"",images:[],existingImages:[]}),[r,i]=E.useState([]),[l,s]=E.useState([]),[u,f]=E.useState(!1),[d,p]=E.useState(""),m=qi(),{id:v}=dE();E.useEffect(()=>{t&&v&&(async()=>{var M,R;try{let A=await Io.getHotelById(v);if(!A){console.error("Hotel not found");return}let I=[];for(const z of A.images)try{const U=await yu.getFile(z);if(U){const L=URL.createObjectURL(U);I.push({url:L,path:z})}}catch(U){console.error(`Error fetching image: ${z}`,U)}n({...A,facilities:((M=A.facilities)==null?void 0:M.join(", "))||"",tags:((R=A.tags)==null?void 0:R.join(", "))||"",existingImages:I}),s(I.map(z=>z.url))}catch(A){console.error("Error fetching hotel:",A)}})()},[v,t]);const y=T=>{const M=Array.from(T.target.files);n(A=>({...A,images:[...A.images,...M]}));const R=M.map(A=>URL.createObjectURL(A));s(A=>[...A,...R])},b=(T,M=!1)=>{debugger;if(M){const R=e.existingImages[T];i(A=>[...A,R.path]),console.log(e.existingImages.filter((A,I)=>I!==T)),n(A=>({...A,existingImages:A.existingImages.filter((I,z)=>z!==T)})),s(A=>A.filter((I,z)=>z!==T))}else n(R=>({...R,images:R.images.filter((A,I)=>I!==T)})),s(R=>R.filter((A,I)=>I!==T))},S=async T=>{T.preventDefault(),f(!0),p(""),console.log({"Existing Images":e.existingImages}),console.log({"New Images":e.images});try{const M=new FormData;M.append("title",e.title),M.append("price",e.price),M.append("description",e.description),M.append("tags",e.tags),M.append("facilities",e.facilities),M.append("rating",e.rating),M.append("destination",e.destination),M.append("location",e.location),e.images.forEach(R=>M.append("files",R)),r.length>0&&r.forEach(R=>M.append("deletedImages",R)),t?await Io.editHotel(v,M):await Io.createHotel(M),m("/manage-hotels")}catch(M){throw f(!1),p("Error updating hotel"),M}},w=T=>{const{name:M,value:R}=T.target;n(A=>({...A,[M]:R}))},C=async T=>{try{await Io.deleteHotel(T),setHotels(M=>M.filter(R=>R._id!==T))}catch(M){console.error("Error deleting hotel:",M)}};return D.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[D.jsx("h1",{className:"text-2xl font-bold text-blue-600 mb-4",children:"Add New Hotel"}),d&&D.jsx("p",{className:"text-center text-green-600 mb-4",children:d}),D.jsxs("form",{onSubmit:S,className:"space-y-4",children:[D.jsx("div",{className:"flex items-center justify-center w-full",children:D.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-36 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-white",children:[D.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[D.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:D.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),D.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[D.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),D.jsx("p",{className:"text-xs text-gray-500",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),D.jsx("input",{id:"dropzone-file",onChange:y,type:"file",accept:"image/*",className:"hidden"})]})}),l.length>0&&D.jsxs("div",{className:"mt-4",children:[D.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Image Previews:"}),D.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map((T,M)=>D.jsxs("div",{className:"relative",children:[D.jsx("img",{src:T,alt:"Hotel Preview",className:"w-full h-32 object-cover rounded-md"}),D.jsx("button",{type:"button",onClick:()=>b(M,M<e.existingImages.length),className:"absolute top-2 right-2 text-white p-1 rounded-full",children:D.jsx(ay,{size:20})}),M===0&&D.jsx(KU,{size:20,className:"absolute top-2 left-2 text-amber-600 p-1 rounded-full"})]},M))})]}),D.jsxs("div",{className:"w-full flex flex-row flex-wrap gap-2",children:[D.jsx("input",{type:"text",name:"title",value:e.title,placeholder:"Hotel Title",className:"flex-1 p-2 border border-gray-500 rounded",onChange:w,required:!0}),D.jsx("input",{type:"number",name:"price",value:e.price,placeholder:"Price",className:"flex-1 p-2 border border-gray-500 rounded",onChange:w,required:!0})]}),D.jsx("textarea",{name:"description",placeholder:"Description",value:e.description,className:"w-full p-2 border border-gray-500 rounded",onChange:w,required:!0}),D.jsxs("div",{className:"w-full flex flex-row flex-wrap gap-2",children:[D.jsx("input",{type:"text",name:"location",value:e.location,placeholder:"Location (Link)",className:"flex-1 p-2 border border-gray-500 rounded",onChange:w,required:!0}),D.jsx("input",{type:"number",name:"rating",value:e.rating,placeholder:"Rating (0-5)",className:"flex-1 p-2 border border-gray-500 rounded",onChange:w,required:!0}),D.jsx("input",{type:"text",name:"destination",value:e.destination,placeholder:"Destination",className:"flex-1 p-2 border border-gray-500 rounded",onChange:w,required:!0})]}),D.jsx("input",{type:"text",name:"tags",value:e.tags,placeholder:"Tags (comma separated)",className:"w-full p-2 border border-gray-500 rounded",onChange:w,required:!0}),D.jsx("input",{type:"text",name:"facilities",value:e.facilities,placeholder:"Facilities (comma separated)",className:"w-full p-2 border border-gray-500 rounded",onChange:w,required:!0}),D.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700",disabled:u,children:u?"Adding...":"Add Hotel"}),t&&D.jsx("button",{onClick:()=>C(e._id),className:"w-full inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-red-400 rounded-lg hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300",children:"Delete"})]})]})};function QU(t){return Qr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"},child:[]}]})(t)}const JM=({hotel:t,setHotel:e})=>{const[n,r]=E.useState(null),[i,l]=E.useState(!1);E.useEffect(()=>{(async()=>{try{if((t==null?void 0:t.images.length)>0){const f=await yu.getFile(t.images[0]);if(f){const d=URL.createObjectURL(f);r(d)}}}catch(f){console.error("Error fetching image: ",f)}})()},[t]);const s=u=>{l(u),e(t._id)};return D.jsxs("div",{onClick:()=>s(!i),className:"flex flex-row items-center border border-gray-200 rounded-lg shadow-sm hover:bg-gray-100 w-full",children:[D.jsx("div",{className:"px-2",children:i?D.jsx(QU,{size:30}):D.jsx("span",{className:"text-white",children:"ab"})}),D.jsx("img",{className:"object-cover w-1/3 sm:w-1/4 md:w-1/6 lg:w-1/5 xl:w-1/6 rounded-l-lg",src:n,alt:t.name}),D.jsxs("div",{className:"flex flex-col justify-between p-4 leading-normal w-2/3 sm:w-3/4 md:w-5/6 lg:w-4/5 xl:w-5/6",children:[D.jsx("h5",{className:"mb-2 text-lg sm:text-xl md:text-2xl font-bold tracking-tight text-gray-900",children:t.title}),D.jsxs("p",{className:"mb-3 font-normal text-gray-700",children:["Price: ",t.price,"/-"]}),D.jsx("span",{children:D.jsx("a",{href:t.location,target:"_blank",className:"text-sm text-blue-900",children:"Show on Map"})})]})]},t.id)},nE=["3 Star","4 Star","5 Star","Luxury"],JU=()=>{const[t,e]=E.useState({title:"",price:"",description:"",highlights:[],rating:0,category:nE[0],img:null,tags:"",hotels:[]}),[n,r]=E.useState(null),[i,l]=E.useState([]),[s,u]=E.useState(""),{id:f}=dE(),d=qi();E.useEffect(()=>{const T=async()=>{try{const R=await $f.getPackage(f);if(R){const A=R.tags?R.tags.join(","):"";e({...R,tags:A}),r(URL.createObjectURL(await yu.getFile(R==null?void 0:R.img)))}}catch(R){console.error("Error fetching package:",R)}},M=async()=>{try{const R=await Io.getHotels();l(R)}catch(R){console.error("Error fetching hotels:",R)}};T(),M()},[f]);const p=T=>{const M=T.target.files[0];M&&(e(R=>({...R,img:M})),r(URL.createObjectURL(M)))},m=T=>{const{name:M,value:R}=T.target;e(A=>({...A,[M]:R}))},v=T=>{e(M=>({...M,category:T}))},y=T=>{u(T.target.value)},b=()=>{s.trim()&&(e(T=>({...T,highlights:[...T.highlights,s.trim()]})),u(""))},S=T=>{e(M=>({...M,highlights:M.highlights.filter((R,A)=>A!==T)}))},w=T=>{if(!T.destination)return;const M=Array.from(t.highlights),[R]=M.splice(T.source.index,1);M.splice(T.destination.index,0,R),e(A=>({...A,highlights:M}))},C=async T=>{T.preventDefault();const M=new FormData;Object.keys(t).forEach(R=>{R==="hotels"||R==="highlights"?M.append(R,JSON.stringify(t[R])):M.append(R,t[R])}),$f.editPackage(M,f),d("/manage-package")};return D.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[D.jsx("h1",{className:"text-2xl font-bold text-blue-600 mb-4",children:"Edit Package"}),D.jsxs("form",{onSubmit:C,className:"space-y-4",children:[D.jsx("div",{className:"flex items-center justify-center w-full",children:D.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-36 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-white",children:[D.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[D.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:D.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),D.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[D.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),D.jsx("p",{className:"text-xs text-gray-500",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),D.jsx("input",{id:"dropzone-file",onChange:p,type:"file",accept:"image/*",className:"hidden"})]})}),n&&D.jsxs("div",{className:"my-4",children:[D.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Image Preview:"}),D.jsx("img",{src:n,alt:"Preview",className:"w-auto h-32 object-cover rounded-md"})]}),D.jsxs(Hf,{value:t.category,onChange:v,children:[D.jsx(Hf.Button,{className:"w-full p-2 border border-gray-500 rounded bg-gray-100 text-left text-gray-500",children:t.category}),D.jsx(oy,{className:"absolute bg-white border-gray-500 text-gray-500 border rounded shadow-md",children:nE.map(T=>D.jsx(ly,{value:T,className:"p-2 hover:bg-gray-200 cursor-pointer w-full",children:T},T))})]}),D.jsxs("div",{className:"flex flex-row gap-2",children:[D.jsx("input",{type:"text",name:"title",value:t.title,placeholder:"Package Title",className:"w-full p-2 border border-gray-500 rounded",onChange:m,required:!0}),D.jsx("input",{type:"number",name:"price",value:t.price,placeholder:"Price",className:"w-full p-2 border border-gray-500 rounded",onChange:m,required:!0})]}),D.jsx("textarea",{name:"description",placeholder:"Description",value:t.description,className:"w-full p-2 border border-gray-500 rounded",onChange:m,required:!0}),D.jsxs("div",{children:[D.jsx("input",{type:"checkbox",checked:t.isUmrahPlus,onChange:T=>{console.log(t),e(M=>({...M,isUmrahPlus:T.target.checked}))},placeholder:"Is it Umrah Plus"}),D.jsx("label",{className:"ml-2 text-gray-500",children:"Is it Umrah Plus?"})]}),D.jsxs("div",{children:[D.jsxs("div",{className:"flex flex-row gap-2",children:[D.jsx("input",{name:"highlights",placeholder:"Add a Highlight",value:s,className:"w-full p-2 border border-gray-500 rounded",onChange:y}),D.jsx("button",{type:"button",onClick:b,className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-nowrap",children:"Add Highlight"})]}),t.highlights.length>0&&D.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto border border-gray-300 rounded",children:D.jsx(zv,{onDragEnd:w,children:D.jsx(pd,{droppableId:"highlights",children:T=>D.jsxs("ul",{...T.droppableProps,ref:T.innerRef,className:"space-y-2 p-2",children:[t.highlights.map((M,R)=>D.jsx($v,{draggableId:R.toString(),index:R,children:A=>D.jsxs("li",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:"flex items-center justify-between p-2 bg-gray-100 rounded border border-gray-300",children:[D.jsx("span",{className:"truncate",children:M}),D.jsx("button",{type:"button",onClick:()=>S(R),className:"text-red-600 hover:text-red-800",children:D.jsx(ay,{})})]})},R)),T.placeholder]})})})})]}),D.jsx("input",{type:"text",name:"tags",value:t.tags,placeholder:"Tags (comma separated)",className:"w-full p-2 border border-gray-500 rounded",onChange:m,required:!0}),D.jsx("div",{className:"flex flex-wrap gap-2",children:t==null?void 0:t.tags.split(",").map((T,M)=>D.jsx("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded text-sm",children:T},M))}),D.jsx("h2",{className:"text-lg font-semibold mt-4",children:"Select a Hotel"}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:i.map(T=>D.jsx(JM,{hotel:T,setHotel:M=>e(R=>({...R,hotels:R.hotels.includes(M)?R.hotels.filter(A=>A!==M):[...R.hotels,M]}))},T._id))}),D.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700",children:"Update Package"})]})]})},zl=`${Jr}/packages`,$f={getPackages:async()=>{try{return await(await fetch(zl)).json()}catch(t){return console.error("Error fetching packages:",t),[]}},getPackage:async t=>{try{const e=await fetch(zl);if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).find(i=>i._id===t)}catch(e){return console.error("Error fetching packages:",e),[]}},createPackages:async t=>{try{return await(await fetch(`${zl}/create`,{method:"POST",body:t})).json()}catch(e){return console.error("Error creating package:",e),null}},updatePackages:async(t,e)=>{try{return await(await fetch(`${zl}/${t}`,{method:"PUT",body:e})).json()}catch(n){return console.error("Error updating package:",n),null}},deletePackage:async t=>{try{return await(await fetch(`${zl}/${t}`,{method:"DELETE"})).json()}catch(e){return console.error("Error deleting package:",e),null}},editPackage:async(t,e)=>{try{const n=await fetch(`${zl}/${e}`,{method:"PUT",body:t}),r=await n.json();n.ok?(console.log("Package updated successfully",r),navigate("/manage-package")):console.error("Error updating package:",r.message)}catch(n){console.error("Error updating package:",n)}}};function ZU(t){return Qr({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"},child:[]}]})(t)}const e7=()=>{const[t,e]=E.useState([]),[n,r]=E.useState({}),[i,l]=E.useState({}),s=qi();E.useEffect(()=>{(async()=>{try{const p=await $f.getPackages();e(p),u(p)}catch(p){console.error("Error fetching packages:",p)}})()},[]);const u=async d=>{const p={},m={};for(const v of d)if(v.img){m[v._id]=!0;try{const y=await yu.getFile(v.img);if(y){const b=URL.createObjectURL(y);p[v._id]=b}else p[v._id]=null}catch(y){console.error(`Error fetching image for package ${v._id}:`,y),p[v._id]=null}finally{m[v._id]=!1}}r(p),l(m)},f=t.reduce((d,p)=>(d[p.category]||(d[p.category]=[]),d[p.category].push(p),d),{});return D.jsx("div",{children:D.jsxs("div",{className:"main-content p-4",children:[D.jsxs("h1",{className:"text-lg my-2 text-blue-600",children:["Dashboard / ",D.jsx("span",{className:"text-gray-900",children:"Manage Packages"})]}),D.jsxs("div",{className:"flex flex-row gap-1",children:[D.jsx("input",{type:"text",className:"bg-gray-50 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",placeholder:"Search"}),D.jsx(gn,{to:"/create/package",className:"text-white w-[200px] h-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"+ Add new package"})]}),D.jsx("div",{className:"mt-4",children:Object.keys(f).map(d=>D.jsxs("div",{className:"mb-6",children:[D.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:[d," Packages"]}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f[d].map(p=>D.jsxs("div",{className:"max-w-sm bg-white border border-gray-300 rounded-lg shadow-sm",children:[D.jsx("div",{className:"w-full h-40 bg-gray-300 flex items-center justify-center rounded-t-lg overflow-hidden",children:i[p._id]?D.jsx("span",{className:"text-gray-600",children:"Loading..."}):n[p._id]?D.jsx("img",{className:"w-full h-full object-cover",src:n[p._id],alt:p.title}):D.jsx("span",{className:"text-gray-500",children:"No Image Available"})}),D.jsxs("div",{className:"p-5",children:[D.jsx("h5",{className:"mb-2 text-xl font-bold tracking-tight text-gray-900",children:p.title}),p.highlights.map((m,v)=>D.jsx("p",{children:m})),D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("span",{className:"flex flex-row items-center",children:p.isUmrahPlus==!0&&D.jsxs(D.Fragment,{children:[" ",D.jsx(ZU,{size:20})," Umrah Plus"]})}),D.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-semibold",children:["",D.jsxs("span",{children:[p.price," /-"]})]})]}),D.jsx("div",{className:"flex w-full gap-2 mt-4",children:D.jsx("button",{onClick:()=>{s(`/edit/package/${p._id}`)},className:"w-full inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-green-600 rounded-lg hover:bg-green-900 focus:ring-4 focus:outline-none focus:ring-red-300",children:"Edit"})})]})]},p._id))})]},d))})]})})},rE=["3 Star","4 Star","5 Star","Luxury"],t7=()=>{const[t,e]=E.useState({title:"",price:"",description:"",highlights:[],rating:0,category:rE[0],img:null,tags:"",hotels:[],isUmrahPlus:!1}),n=qi(),[r,i]=E.useState(null),[l,s]=E.useState([]),[u,f]=E.useState("");E.useEffect(()=>{(async()=>{try{const T=await Io.getHotels();s(T)}catch(T){console.error("Error fetching hotels:",T)}})()},[]);const d=C=>{const T=C.target.files[0];T&&(e(M=>({...M,img:T})),i(URL.createObjectURL(T)))},p=C=>{const{name:T,value:M}=C.target;e(R=>({...R,[T]:M}))},m=async C=>{C.preventDefault();const T=new FormData;Object.keys(t).forEach(M=>{M==="hotels"||M==="highlights"?T.append(M,JSON.stringify(t[M])):T.append(M,t[M])});try{await $f.createPackages(T),n("/manage-package")}catch(M){console.error("Error creating package:",M)}},v=C=>{e(T=>({...T,category:C}))},y=C=>{f(C.target.value)},b=()=>{u.trim()&&(e(C=>({...C,highlights:[...C.highlights,u.trim()]})),f(""))},S=C=>{e(T=>({...T,highlights:T.highlights.filter((M,R)=>R!==C)}))},w=C=>{if(!C.destination)return;const T=Array.from(t.highlights),[M]=T.splice(C.source.index,1);T.splice(C.destination.index,0,M),e(R=>({...R,highlights:T}))};return D.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[D.jsx("h1",{className:"text-2xl font-bold text-blue-600 mb-4",children:"Add New Package"}),D.jsxs("form",{onSubmit:m,className:"space-y-4",children:[D.jsx("div",{className:"flex items-center justify-center w-full",children:D.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-36 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-white",children:[D.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[D.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:D.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),D.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[D.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),D.jsx("p",{className:"text-xs text-gray-500",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),D.jsx("input",{id:"dropzone-file",onChange:d,type:"file",accept:"image/*",className:"hidden"})]})}),r&&D.jsxs("div",{className:"my-4",children:[D.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Image Preview:"}),D.jsx("img",{src:r,alt:"Preview",className:"w-auto h-32 object-cover rounded-md"})]}),D.jsxs(Hf,{value:t.category,onChange:v,children:[D.jsx(Hf.Button,{className:"w-full p-2 border border-gray-500 rounded bg-gray-100 text-left text-gray-500",children:t.category}),D.jsx(oy,{className:"absolute bg-white border-gray-500 text-gray-500 border rounded shadow-md",children:rE.map(C=>D.jsx(ly,{value:C,className:"p-2 hover:bg-gray-200 cursor-pointer w-full",children:C},C))})]}),D.jsxs("div",{className:"flex flex-row gap-2",children:[D.jsx("input",{type:"text",name:"title",value:t.title,placeholder:"Package Title",className:"w-full p-2 border border-gray-500 rounded",onChange:p,required:!0}),D.jsx("input",{type:"number",name:"price",value:t.price,placeholder:"Price",className:"w-full p-2 border border-gray-500 rounded",onChange:p,required:!0})]}),D.jsx("textarea",{name:"description",placeholder:"Description",value:t.description,className:"w-full p-2 border border-gray-500 rounded",onChange:p,required:!0}),D.jsxs("div",{children:[D.jsx("input",{type:"checkbox",onChange:C=>{e(T=>({...T,isUmrahPlus:C.target.checked}))},placeholder:"Is it Umrah Plus"}),D.jsx("label",{className:"ml-2 text-gray-500",children:"Is it Umrah Plus?"})]}),D.jsxs("div",{children:[D.jsxs("div",{className:"flex flex-row gap-2",children:[D.jsx("input",{name:"highlights",placeholder:"Add a Highlight",value:u,className:"w-full p-2 border border-gray-500 rounded",onChange:y}),D.jsx("button",{type:"button",onClick:b,className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-nowrap",children:"Add Highlight"})]}),t.highlights.length>0&&D.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto border border-gray-300 rounded",children:D.jsx(zv,{onDragEnd:w,children:D.jsx(pd,{droppableId:"highlights",children:C=>D.jsxs("ul",{...C.droppableProps,ref:C.innerRef,className:"space-y-2 p-2",children:[t.highlights.map((T,M)=>D.jsx($v,{draggableId:M.toString(),index:M,children:R=>D.jsxs("li",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:"flex items-center justify-between p-2 bg-gray-100 rounded border border-gray-300",children:[D.jsx("span",{className:"truncate",children:T}),D.jsx("button",{type:"button",onClick:()=>S(M),className:"text-red-600 hover:text-red-800",children:D.jsx(ay,{})})]})},M)),C.placeholder]})})})})]}),D.jsx("input",{type:"text",name:"tags",value:t.tags,placeholder:"Tags (comma separated)",className:"w-full p-2 border border-gray-500 rounded",onChange:p,required:!0}),D.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.split(",").map((C,T)=>D.jsx("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded text-sm",children:C},T))}),D.jsx("h2",{className:"text-lg font-semibold mt-4",children:"Select a Hotel"}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:l.map(C=>D.jsx(JM,{hotel:C,setHotel:T=>e(M=>({...M,hotels:M.hotels.includes(T)?M.hotels.filter(R=>R!==T):[...M.hotels,T]}))},C._id))}),D.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700",children:"Add Package"})]})]})},n7=()=>D.jsx(qR,{children:D.jsxs(SR,{children:[D.jsx(Hn,{path:"/",element:D.jsx(s2,{})}),D.jsx(Hn,{path:"/dashboard",element:D.jsx(pr,{children:D.jsx(hr,{})})}),D.jsx(Hn,{path:"/manage-blogs",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(w2,{})})})}),D.jsx(Hn,{path:"/create/blog",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(Q6,{})})})}),D.jsx(Hn,{path:"/manage-Faqs",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(GU,{})})})}),D.jsx(Hn,{path:"/manage-hotels",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(XU,{})})})}),D.jsx(Hn,{path:"/create/hotel",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(tE,{})})})}),D.jsx(Hn,{path:"/edit/hotel/:id",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(tE,{isEditableMode:!0})})})}),D.jsx(Hn,{path:"/manage-package",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(e7,{})})})}),D.jsx(Hn,{path:"/create/package",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(t7,{})})})}),D.jsx(Hn,{path:"/edit/package/:id",element:D.jsx(pr,{children:D.jsx(hr,{children:D.jsx(JU,{})})})})]})}),r7=qk({reducer:{auth:a2}});NN.createRoot(document.getElementById("root")).render(D.jsx(mk,{store:r7,children:D.jsx(n7,{})}));
